{"meta":{"title":"JOKING","subtitle":"ä¼šå½“å‡Œç»é¡¶ï¼Œä¸€è§ˆä¼—å±±å°","description":"this is a blog","author":"JOKING","url":"https://jokinglove.com/blog","root":"/blog/"},"pages":[{"title":"404 Not Found","date":"2019-12-08T06:01:50.867Z","updated":"2019-12-08T06:01:50.867Z","comments":true,"path":"404.html","permalink":"https://jokinglove.com/blog/404.html","excerpt":"","text":"å•Šå¥¥ï¼Œæ‰¾ä¸åˆ°äº†å“ï¼ï¼ï¼"},{"title":"å…³äº","date":"2019-07-02T16:00:00.000Z","updated":"2019-12-08T06:01:50.880Z","comments":true,"path":"books/index.html","permalink":"https://jokinglove.com/blog/books/index.html","excerpt":"","text":""},{"title":"å…³äº","date":"2019-07-02T16:00:00.000Z","updated":"2019-12-08T06:01:50.877Z","comments":true,"path":"about/index.html","permalink":"https://jokinglove.com/blog/about/index.html","excerpt":"","text":"å…³äºæˆ‘ ç å†œï¼ŒåŒ—äº¬ï¼Œhello worldingã€‚ã€‚ã€‚ #### å…³äºä¸»é¢˜ æœ¬ç«™ä¸»é¢˜æ˜¯ï¼šMaterial X Macç”¨æˆ·å¯ä»¥ä¸‹è½½å®¢æˆ·ç«¯å“¦ï¼š MaterialX-Installer.dmg æ¬¢è¿ç•™è¨€ï½"},{"title":"","date":"2019-12-08T06:01:50.881Z","updated":"2019-12-08T06:01:50.881Z","comments":true,"path":"mylist/index.html","permalink":"https://jokinglove.com/blog/mylist/index.html","excerpt":"","text":""},{"title":"å‹æƒ…é“¾æ¥","date":"2019-12-08T06:01:50.881Z","updated":"2019-12-08T06:01:50.881Z","comments":true,"path":"friends/index.html","permalink":"https://jokinglove.com/blog/friends/index.html","excerpt":"","text":"æ©ï¼Œéœ€è¦æ·»åŠ å‹é“¾çš„ï¼Œå¯ä»¥ç•™ä¸‹åšå®¢åœ°å€ã€‚ã€‚ã€‚"},{"title":"","date":"2019-12-08T06:01:50.882Z","updated":"2019-12-08T06:01:50.882Z","comments":true,"path":"projects/index.html","permalink":"https://jokinglove.com/blog/projects/index.html","excerpt":"","text":"é¡¹ç›®åˆ—è¡¨ æœŸå¾…å§ï¼Œå°‘å¹´ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2019-12-08T06:01:50.881Z","updated":"2019-12-08T06:01:50.881Z","comments":true,"path":"group/categories/index.html","permalink":"https://jokinglove.com/blog/group/categories/index.html","excerpt":"","text":""},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2019-12-08T06:01:50.881Z","updated":"2019-12-08T06:01:50.881Z","comments":true,"path":"group/tags/index.html","permalink":"https://jokinglove.com/blog/group/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Java ä¸­çš„ SPI æœºåˆ¶","slug":"others/java/20190913-java-spi","date":"2019-09-12T16:00:00.000Z","updated":"2019-12-08T06:01:50.872Z","comments":true,"path":"2019/09/13/others/java/20190913-java-spi/","link":"","permalink":"https://jokinglove.com/blog/2019/09/13/others/java/20190913-java-spi/","excerpt":"1ã€ SPI ç®€ä»‹ SPI å…¨ç§° Service Provider Interfaceï¼Œæ˜¯ä¸€ç§æœåŠ¡å‘ç°æœºåˆ¶ã€‚SPI çš„æœ¬è´¨æ˜¯å°†æ¥å£ç±»çš„å…¨é™å®šåé…ç½®åœ¨æ–‡ä»¶ä¸­ï¼Œå¹¶æœ‰æœåŠ¡åŠ è½½å™¨è¯»å–é…ç½®æ–‡ä»¶ï¼ŒåŠ è½½å®ç°ç±»ï¼Œè¿™æ ·å¯ä»¥åœ¨è¿è¡Œæ—¶ï¼ŒåŠ¨æ€ä¸ºæ¥å£æ›¿æ¢å®ç°ç±»ã€‚æ­£å› ä¸ºæ­¤ç‰¹æ€§ï¼Œåœ¨å¼€å‘ä¸­å¾ˆå®¹æ˜“é€šè¿‡ SPI æœºåˆ¶ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæä¾›æ‰©å±•åŠŸèƒ½ã€‚å¥½å¤šæ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº† SPI æœºåˆ¶æ¥æ‰©å±•è‡ªèº«çš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼šDubboï¼ŒSpringboot ç­‰ï¼Œéƒ½æ˜¯ç”¨ SPI æœºåˆ¶æ¥åŠ è½½å®ç°çš„ã€‚","text":"1ã€ SPI ç®€ä»‹ SPI å…¨ç§° Service Provider Interfaceï¼Œæ˜¯ä¸€ç§æœåŠ¡å‘ç°æœºåˆ¶ã€‚SPI çš„æœ¬è´¨æ˜¯å°†æ¥å£ç±»çš„å…¨é™å®šåé…ç½®åœ¨æ–‡ä»¶ä¸­ï¼Œå¹¶æœ‰æœåŠ¡åŠ è½½å™¨è¯»å–é…ç½®æ–‡ä»¶ï¼ŒåŠ è½½å®ç°ç±»ï¼Œè¿™æ ·å¯ä»¥åœ¨è¿è¡Œæ—¶ï¼ŒåŠ¨æ€ä¸ºæ¥å£æ›¿æ¢å®ç°ç±»ã€‚æ­£å› ä¸ºæ­¤ç‰¹æ€§ï¼Œåœ¨å¼€å‘ä¸­å¾ˆå®¹æ˜“é€šè¿‡ SPI æœºåˆ¶ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæä¾›æ‰©å±•åŠŸèƒ½ã€‚å¥½å¤šæ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº† SPI æœºåˆ¶æ¥æ‰©å±•è‡ªèº«çš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼šDubboï¼ŒSpringboot ç­‰ï¼Œéƒ½æ˜¯ç”¨ SPI æœºåˆ¶æ¥åŠ è½½å®ç°çš„ã€‚ 2ã€SPI ç¤ºä¾‹ 2.1 Java SPI å®ä¾‹ å‰é¢ä»‹ç»äº† SPI æœºåˆ¶çš„åŸç†ï¼Œæœ¬èŠ‚é€šè¿‡ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹æ¼”ç¤º Java SPI çš„ä½¿ç”¨æ–¹æ³•ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œåç§°ä¸º Animalã€‚ 12345package com.joking.spi.jdk;public interface Animal &#123; void say();&#125; æ¥ä¸‹æ¥å®šä¹‰ä¸¤ä¸ªå®ç°ç±»ï¼Œåˆ†åˆ«ä¸º Cat å’Œ Dogã€‚ 1234567891011121314151617package com.joking.spi.jdk;public class Cat implements Animal &#123; @Override public void say() &#123; System.out.println(\"é˜¿çŒ«ğŸˆï¼\"); &#125;&#125;package com.joking.spi.jdk;public class Dog implements Animal &#123; @Override public void say() &#123; System.out.println(\"é˜¿ç‹—ğŸ¶ï¼\"); &#125;&#125; ç„¶åæˆ‘ä»¬åœ¨ META-INF/services æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œåç§°ä¸º Animal çš„å…¨é™å®šå com.joking.spi.jdk.Animal ã€‚æ–‡ä»¶å†…å®¹ä¸ºå®ç°ç±»çš„å…¨é™å®šçš„ç±»åï¼Œå¦‚ä¸‹ï¼š 12com.joking.spi.jdk.Catcom.joking.spi.jdk.Dog æœ€åï¼Œæˆ‘ä»¬å†™ä¸ªmain æ¥æµ‹è¯•ã€‚ 1234567891011121314package com.joking;import com.joking.spi.jdk.Animal;import java.util.ServiceLoader;public class Main &#123; public static void main(String[] args) &#123; ServiceLoader&lt;Animal&gt; animals = ServiceLoader.load(Animal.class); animals.forEach(System.out::println); animals.forEach(Animal::say); &#125;&#125; æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š æœ€åæ•´ä¸ªé¡¹ç›®çœ‹èµ·æ¥å°±æ˜¯è¿™æ ·çš„","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"java","slug":"java","permalink":"https://jokinglove.com/blog/group/tags/java/"},{"name":"SPI","slug":"SPI","permalink":"https://jokinglove.com/blog/group/tags/SPI/"}]},{"title":"æ­£åˆ™è¡¨è¾¾å¼","slug":"others/20190807-æ­£åˆ™è¡¨è¾¾å¼","date":"2019-08-06T16:00:00.000Z","updated":"2019-12-08T06:01:50.870Z","comments":true,"path":"2019/08/07/others/20190807-æ­£åˆ™è¡¨è¾¾å¼/","link":"","permalink":"https://jokinglove.com/blog/2019/08/07/others/20190807-æ­£åˆ™è¡¨è¾¾å¼/","excerpt":"","text":"1ã€åŸºæœ¬åŒ¹é… æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯åœ¨æ‰§è¡Œæœç´¢æ—¶çš„æ ¼å¼ï¼Œå®ƒç”±ä¸€äº›å­—æ¯å’Œæ•°å­—ç»„åˆè€Œæˆï¼Œä¾‹å¦‚ï¼šä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ theï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªè§„åˆ™ï¼šç”±å­—æ¯ t å¼€å§‹ï¼Œæ¥ç€æ˜¯ hï¼Œåœ¨æ¥ç€æ˜¯ eã€‚ â€œtheâ€ =&gt; The fat cat sat on the mat 2ã€å…ƒå­—ç¬¦ æ­£åˆ™è¡¨è¾¾å¼ä¸»è¦ä¾èµ–äºå…ƒå­—ç¬¦ï¼Œå…ƒå­—ç¬¦ä¸ä»£è¡¨ä»–ä»¬æœ¬èº«çš„å­—é¢æ„æ€ï¼Œä»–ä»¬éƒ½æœ‰ç‰¹æ®Šçš„å«ä¹‰ã€‚ä¸€äº›å…ƒå­—ç¬¦å†™åœ¨æ–¹æ‹¬å·çš„æ—¶å€™æœ‰ä¸€äº›ç‰¹æ®Šçš„æ„æ€ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å…ƒå­—ç¬¦çš„ä»‹ç»ï¼š å…ƒå­—ç¬¦ æè¿° . å¥å·åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦é™¤äº†æ¢è¡Œç¬¦ã€‚ [] å­—ç¬¦ç§ç±»ã€‚åŒ¹é…æ–¹æ‹¬å·å†…çš„ä»»æ„å­—ç¬¦ã€‚ [^ ] å¦å®šçš„å­—ç¬¦ç§ç±»ï¼ŒåŒ¹é…é™¤äº†æ–¹æ‹¬å·é‡Œçš„ä»»æ„å­—ç¬¦ã€‚ * åŒ¹é… &gt;= 0 ä¸ªé‡å¤çš„åœ¨ * å·ä¹‹å‰çš„å­—ç¬¦ã€‚ + åŒ¹é… &gt;= 1 ä¸ªé‡å¤çš„ + å·å‰çš„å­—ç¬¦ã€‚ ? æ ‡è®° ï¼Ÿä¹‹å‰çš„å­—ç¬¦ä¸ºå¯é€‰ã€‚ {n,m} åŒ¹é… num ä¸ªå¤§æ‹¬å·ä¹‹å‰çš„å­—ç¬¦ï¼ˆn &lt;= num &lt;= m). (xyz) å­—ç¬¦é›†ï¼ŒåŒ¹é…ä¸xyzå®Œå…¨ç›¸ç­‰çš„å­—ç¬¦ä¸²ã€‚ | æˆ–è¿ç®—ç¬¦ï¼ŒåŒ¹é…ç¬¦å·å‰æˆ–åçš„å­—ç¬¦ã€‚ \\ è½¬ä¹‰å­—ç¬¦ï¼Œç”¨äºåŒ¹é…ä¸€äº›ä¿ç•™çš„å­—ç¬¦[] () {} . * + ? ^ $ \\ | ^ ä»å¼€å§‹è¡Œå¼€å§‹åŒ¹é…ã€‚ $ ä»æœ«ç«¯å¼€å§‹åŒ¹é…ã€‚ 2.1 ç‚¹è¿ç®—ç¬¦ . . æ˜¯å…ƒå­—ç¬¦ä¸­æœ€ç®€å•çš„ä¾‹å­ï¼Œ. åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œä½†ä¸åŒ¹é…æ¢è¡Œç¬¦ï¼Œä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ .ar åŒ¹é…ä¸€ä¸ªä»»æ„å­—ç¬¦åé¢è·Ÿç€ a å’Œ r çš„å­—ç¬¦ä¸²ã€‚ â€œ.arâ€ =&gt; car par ked in the gar age. 2.2 å­—ç¬¦é›† å­—ç¬¦é›†ä¹Ÿå«åšå­—ç¬¦ç±»ã€‚æ–¹æ‹¬å·ç”¨æ¥æŒ‡å®šä¸€ä¸ªå­—ç¬¦é›†ã€‚åœ¨æ–¹æ‹¬å·ä¸­ä½¿ç”¨è¿å­—ç¬¦æ¥æŒ‡å®šå­—ç¬¦é›†çš„èŒƒå›´ï¼Œåœ¨æ–¹æ‹¬å·ä¸­çš„å­—ç¬¦é›†ä¸å…³å¿ƒä¹¦åºï¼Œä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ [Tt]he åŒ¹é… the å’Œ The. â€œ[Tt]heâ€ =&gt;The car parked in the garage. æ–¹æ‹¬å·çš„å¥å·å°±è¡¨ç¤ºå¥å·ã€‚è¡¨è¾¾å¼ ar[.] åŒ¹é… ar. å­—ç¬¦ä¸²ã€‚ â€œar[.]â€ =&gt; A garage is a good place to park a car. 2.2.1 å¦å®šå­—ç¬¦é›† ä¸€èˆ¬æ¥è¯´ ^ è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œä½†å®ƒç”¨åœ¨ä¸€ä¸ªæ–¹æ‹¬å·çš„å¼€å¤´çš„æ—¶å€™ï¼Œå®ƒè¡¨ç¤ºè¿™ä¸ªå­—ç¬¦é›†æ˜¯å¦å®šçš„ã€‚ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ [^c]ar åŒ¹é…ä¸€ä¸ªåé¢è·Ÿç€ ar çš„é™¤äº† c çš„ä»»æ„å­—ç¬¦ã€‚ â€œ[^c]arâ€ =&gt; The carparked in thegarage. 2.3 é‡å¤æ¬¡æ•° åé¢è·Ÿç€å…ƒå­—ç¬¦ +, * or ? çš„ï¼Œç”¨æ¥æŒ‡å®šåŒ¹é…å­æ¨¡å¼çš„æ¬¡æ•°ã€‚è¿™äº›å…ƒå­—ç¬¦åœ¨ä¸åŒçš„æƒ…å†µä¸‹æœ‰ç€ä¸åŒçš„æ„æ€ã€‚ 2.3.1 * å· * å·åŒ¹é… åœ¨ * ä¹‹å‰å‡ºç°çš„å¤§äºç­‰äº0æ¬¡ï¼Œä¾‹å¦‚ a* åŒ¹é…ä»¥ 0 æˆ–è€…æ›´å¤šä¸ª a å¼€å¤´çš„å­—ç¬¦ï¼Œå› ä¸ºæœ‰ 0 ä¸ªè¿™ä¸ªæ¡ä»¶ï¼Œå…¶å®å°±æ˜¯åŒ¹é…äº†æ‰€æœ‰çš„å­—ç¬¦ï¼Œè¡¨è¾¾å¼ [a-z]* åŒ¹é…ä¸€ä¸ªè¡Œä¸­æ‰€æœ‰å°å†™å­—æ¯å¼€å¤´çš„å­—ç¬¦ã€‚ â€œ[a-z]*â€ =&gt; The car parked in the garage #21. * å­—ç¬¦å’Œ . å­—ç¬¦æ­é…å¯ä»¥åŒ¹é…æ‰€æœ‰çš„å­—ç¬¦ .*, *å’Œè¡¨ç¤ºåŒ¹é…ç©ºæ ¼çš„å­—ç¬¦ \\sè¿èµ·æ¥ç”¨ï¼Œå¦‚è¡¨è¾¾å¼ \\s*cat\\s* åŒ¹é… 0 æˆ–æ›´å¤šä¸ªç©ºæ ¼å¼€å¤´ å’Œ 0 æˆ–æ›´å¤šä¸ªç©ºæ ¼ç»“å°¾çš„ cat å­—ç¬¦ä¸²ã€‚ â€œ\\s*cat\\s*â€ =&gt; The fatcat sat on the concatenation. 2.3.2 +å· +å·åŒ¹é…+å·ä¹‹å‰çš„å­—ç¬¦å‡ºç° &gt;=1 æ¬¡. ä¾‹å¦‚è¡¨è¾¾å¼c.+t åŒ¹é…ä»¥é¦–å­—æ¯cå¼€å¤´ä»¥tç»“å°¾,ä¸­é—´è·Ÿç€ä»»æ„ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸² â€œc.+tâ€ =&gt; The fatcat sat on the mat. 2.3.3 ?å· åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…ƒå­—ç¬¦ ? æ ‡è®°åœ¨ç¬¦å·å‰é¢çš„å­—ç¬¦ä¸ºå¯é€‰, å³å‡ºç° 0 æˆ– 1 æ¬¡. ä¾‹å¦‚, è¡¨è¾¾å¼ [T]?he åŒ¹é…å­—ç¬¦ä¸² he å’Œ The. â€œ[T]heâ€ =&gt;The car is parked in the garage. â€œ[T]?heâ€ =&gt;The car is parked in the garage. 2.4 {}å· åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ {} æ˜¯ä¸€ä¸ªé‡è¯, å¸¸ç”¨æ¥ä¸€ä¸ªæˆ–ä¸€ç»„å­—ç¬¦å¯ä»¥é‡å¤å‡ºç°çš„æ¬¡æ•°. ä¾‹å¦‚, è¡¨è¾¾å¼ [0-9]{2,3}åŒ¹é…æœ€å°‘ 2 ä½æœ€å¤š 3 ä½ 0~9 çš„æ•°å­—. â€œ[0-9]{2,3}â€ =&gt; The number was 9.9997 but we rounded it off to10.0. æˆ‘ä»¬å¯ä»¥çœç•¥ç¬¬äºŒä¸ªå‚æ•°. ä¾‹å¦‚, [0-9]{2,} åŒ¹é…è‡³å°‘ä¸¤ä½ 0~9 çš„æ•°å­—. â€œ[0-9]{2,}â€ =&gt; The number was 9.9997 but we rounded it off to10.0. å¦‚æœé€—å·ä¹Ÿçœç•¥æ‰åˆ™è¡¨ç¤ºé‡å¤å›ºå®šçš„æ¬¡æ•°. ä¾‹å¦‚, [0-9]{3} åŒ¹é…3ä½æ•°å­— â€œ[0-9]{3}â€ =&gt; The number was 9.9997 but we rounded it off to 10.0. 2.5 (â€¦) ç‰¹å¾æ ‡ç¾¤ ç‰¹å¾æ ‡ç¾¤æ˜¯ä¸€ç»„å†™åœ¨ (...) ä¸­çš„å­æ¨¡å¼. ä¾‹å¦‚ä¹‹å‰è¯´çš„ {} æ˜¯ç”¨æ¥è¡¨ç¤ºå‰é¢ä¸€ä¸ªå­—ç¬¦å‡ºç°æŒ‡å®šæ¬¡æ•°. ä½†å¦‚æœåœ¨ {} å‰åŠ å…¥ç‰¹å¾æ ‡ç¾¤åˆ™è¡¨ç¤ºæ•´ä¸ªæ ‡ç¾¤å†…çš„å­—ç¬¦é‡å¤ N æ¬¡. ä¾‹å¦‚, è¡¨è¾¾å¼ (ab)* åŒ¹é…è¿ç»­å‡ºç° 0 æˆ–æ›´å¤šä¸ª ab. æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ () ä¸­ç”¨æˆ–å­—ç¬¦ | è¡¨ç¤ºæˆ–. ä¾‹å¦‚, (c|g|p)ar åŒ¹é… car æˆ– gar æˆ– par. â€œ(c|g|p)arâ€ =&gt; Thecar isparked in thegarage. 2.6 | æˆ–è¿ç®—ç¬¦ æˆ–è¿ç®—ç¬¦å°±è¡¨ç¤ºæˆ–, ç”¨ä½œåˆ¤æ–­æ¡ä»¶. ä¾‹å¦‚ (T|t)he|car åŒ¹é… (T|t)he æˆ– car. â€œ(T|t)he|carâ€ =&gt;The car is parked in the garage. 2.7 è½¬ç ç‰¹æ®Šå­—ç¬¦ åæ–œçº¿ \\ åœ¨è¡¨è¾¾å¼ä¸­ç”¨äºè½¬ç ç´§è·Ÿå…¶åçš„å­—ç¬¦. ç”¨äºæŒ‡å®š { } [ ] / \\ + * . $ ^ | ? è¿™äº›ç‰¹æ®Šå­—ç¬¦. å¦‚æœæƒ³è¦åŒ¹é…è¿™äº›ç‰¹æ®Šå­—ç¬¦åˆ™è¦åœ¨å…¶å‰é¢åŠ ä¸Šåæ–œçº¿ \\. ä¾‹å¦‚ . æ˜¯ç”¨æ¥åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„æ‰€æœ‰å­—ç¬¦çš„. å¦‚æœæƒ³è¦åŒ¹é…å¥å­ä¸­çš„ . åˆ™è¦å†™æˆ \\. ä»¥ä¸‹è¿™ä¸ªä¾‹å­ \\.?æ˜¯é€‰æ‹©æ€§åŒ¹é…. â€œ(f|c|m)at\\.?â€ =&gt; Thefat cat sat on themat. 2.8 é”šç‚¹ åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­, æƒ³è¦åŒ¹é…æŒ‡å®šå¼€å¤´æˆ–ç»“å°¾çš„å­—ç¬¦ä¸²å°±è¦ä½¿ç”¨åˆ°é”šç‚¹. ^ æŒ‡å®šå¼€å¤´, $ æŒ‡å®šç»“å°¾. 2.8.1 ^ å· ^ ç”¨æ¥æ£€æŸ¥åŒ¹é…çš„å­—ç¬¦ä¸²æ˜¯å¦åœ¨æ‰€åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´. ä¾‹å¦‚, åœ¨ abc ä¸­ä½¿ç”¨è¡¨è¾¾å¼ ^a ä¼šå¾—åˆ°ç»“æœ a. ä½†å¦‚æœä½¿ç”¨ ^b å°†åŒ¹é…ä¸åˆ°ä»»ä½•ç»“æœ. å› ä¸ºåœ¨å­—ç¬¦ä¸² abcä¸­å¹¶ä¸æ˜¯ä»¥ b å¼€å¤´. ä¾‹å¦‚, ^(T|t)he åŒ¹é…ä»¥ The æˆ– the å¼€å¤´çš„å­—ç¬¦ä¸². â€œ(T|t)heâ€ =&gt;The car is parked in the garage. â€œ^(T|t)heâ€ =&gt;The car is parked in the garage. 2.8.2 $å· åŒç†äº ^ å·, $ å·ç”¨æ¥åŒ¹é…å­—ç¬¦æ˜¯å¦æ˜¯æœ€åä¸€ä¸ª. ä¾‹å¦‚, (at\\.)$ åŒ¹é…ä»¥ at. ç»“å°¾çš„å­—ç¬¦ä¸². â€œ(at.)â€ =&gt; The fat cat. sat. on the mat. â€œ(at.)$â€ =&gt; The fat cat. sat. on the mat. 3.ç®€å†™å­—ç¬¦é›† æ­£åˆ™è¡¨è¾¾å¼æä¾›ä¸€äº›å¸¸ç”¨çš„å­—ç¬¦é›†ç®€å†™. å¦‚ä¸‹: ç®€å†™ æè¿° . é™¤æ¢è¡Œç¬¦å¤–çš„æ‰€æœ‰å­—ç¬¦ \\w åŒ¹é…æ‰€æœ‰å­—æ¯æ•°å­—, ç­‰åŒäº [a-zA-Z0-9_] \\W åŒ¹é…æ‰€æœ‰éå­—æ¯æ•°å­—, å³ç¬¦å·, ç­‰åŒäº: [^\\w] \\d åŒ¹é…æ•°å­—: [0-9] \\D åŒ¹é…éæ•°å­—: [^\\d] \\s åŒ¹é…æ‰€æœ‰ç©ºæ ¼å­—ç¬¦, ç­‰åŒäº: [\\t\\n\\f\\r\\p{Z}] \\S åŒ¹é…æ‰€æœ‰éç©ºæ ¼å­—ç¬¦: [^\\s] \\f åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ \\n åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ \\r åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ \\t åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ \\v åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ \\p åŒ¹é… CR/LF (ç­‰åŒäº \\r\\n)ï¼Œç”¨æ¥åŒ¹é… DOS è¡Œç»ˆæ­¢ç¬¦ 4.é›¶å®½åº¦æ–­è¨€ï¼ˆå‰åé¢„æŸ¥ï¼‰ å…ˆè¡Œæ–­è¨€å’Œåå‘æ–­è¨€éƒ½å±äºéæ•è·ç°‡(ä¸æ•è·æ–‡æœ¬ ï¼Œä¹Ÿä¸é’ˆå¯¹ç»„åˆè®¡è¿›è¡Œè®¡æ•°). å…ˆè¡Œæ–­è¨€ç”¨äºåˆ¤æ–­æ‰€åŒ¹é…çš„æ ¼å¼æ˜¯å¦åœ¨å¦ä¸€ä¸ªç¡®å®šçš„æ ¼å¼ä¹‹å‰, åŒ¹é…ç»“æœä¸åŒ…å«è¯¥ç¡®å®šæ ¼å¼(ä»…ä½œä¸ºçº¦æŸ). ä¾‹å¦‚, æˆ‘ä»¬æƒ³è¦è·å¾—æ‰€æœ‰è·Ÿåœ¨ $ ç¬¦å·åçš„æ•°å­—, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£åå‘æ–­è¨€ (?&lt;=\\$)[0-9\\.]*. è¿™ä¸ªè¡¨è¾¾å¼åŒ¹é… $ å¼€å¤´, ä¹‹åè·Ÿç€ 0,1,2,3,4,5,6,7,8,9,. è¿™äº›å­—ç¬¦å¯ä»¥å‡ºç°å¤§äºç­‰äº 0 æ¬¡. é›¶å®½åº¦æ–­è¨€å¦‚ä¸‹: ç¬¦å· æè¿° ?= æ­£å…ˆè¡Œæ–­è¨€-å­˜åœ¨ ?! è´Ÿå…ˆè¡Œæ–­è¨€-æ’é™¤ ?&lt;= æ­£åå‘æ–­è¨€-å­˜åœ¨ ?&lt;! è´Ÿåå‘æ–­è¨€-æ’é™¤ 4.1 ?=â€¦ æ­£å…ˆè¡Œæ–­è¨€ ?=... æ­£å…ˆè¡Œæ–­è¨€, è¡¨ç¤ºç¬¬ä¸€éƒ¨åˆ†è¡¨è¾¾å¼ä¹‹åå¿…é¡»è·Ÿç€ ?=...å®šä¹‰çš„è¡¨è¾¾å¼. è¿”å›ç»“æœåªåŒ…å«æ»¡è¶³åŒ¹é…æ¡ä»¶çš„ç¬¬ä¸€éƒ¨åˆ†è¡¨è¾¾å¼. å®šä¹‰ä¸€ä¸ªæ­£å…ˆè¡Œæ–­è¨€è¦ä½¿ç”¨ (). åœ¨æ‹¬å·å†…éƒ¨ä½¿ç”¨ä¸€ä¸ªé—®å·å’Œç­‰å·: (?=...). æ­£å…ˆè¡Œæ–­è¨€çš„å†…å®¹å†™åœ¨æ‹¬å·ä¸­çš„ç­‰å·åé¢. ä¾‹å¦‚, è¡¨è¾¾å¼ (T|t)he(?=\\sfat) åŒ¹é… The å’Œ the, åœ¨æ‹¬å·ä¸­æˆ‘ä»¬åˆå®šä¹‰äº†æ­£å…ˆè¡Œæ–­è¨€ (?=\\sfat) ,å³ The å’Œ the åé¢ç´§è·Ÿç€ (ç©ºæ ¼)fat. â€œ(T|t)he(?=\\sfat)â€ =&gt;The fat cat sat on the mat. 4.2 ?!... è´Ÿå…ˆè¡Œæ–­è¨€ è´Ÿå…ˆè¡Œæ–­è¨€ ?! ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœ, ç­›é€‰æ¡ä»¶ä¸º å…¶åä¸è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼. æ­£å…ˆè¡Œæ–­è¨€ å®šä¹‰å’Œ è´Ÿå…ˆè¡Œæ–­è¨€ ä¸€æ ·, åŒºåˆ«å°±æ˜¯ = æ›¿æ¢æˆ ! ä¹Ÿå°±æ˜¯ (?!...). è¡¨è¾¾å¼ (T|t)he(?!\\sfat) åŒ¹é… The å’Œ the, ä¸”å…¶åä¸è·Ÿç€ (ç©ºæ ¼)fat. â€œ(T|t)he(?!\\sfat)â€ =&gt; The fat cat sat on the mat. 4.3 ?&lt;==... æ­£åå‘æ–­è¨€ æ­£åå‘æ–­è¨€ è®°ä½œ(?&lt;=...) ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœ, ç­›é€‰æ¡ä»¶ä¸º å…¶å‰è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼. ä¾‹å¦‚, è¡¨è¾¾å¼ (?&lt;=(T|t)he\\s)(fat|mat) åŒ¹é… fat å’Œ mat, ä¸”å…¶å‰è·Ÿç€ The æˆ– the. â€œ(?&lt;=(T|t)he\\s)(fat|mat)â€ =&gt; The fat cat sat on the mat. 4.4 ?&lt;!â€¦è´Ÿåå‘æ–­è¨€ è´Ÿåå‘æ–­è¨€ è®°ä½œ (?&lt;!...) ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœ, ç­›é€‰æ¡ä»¶ä¸º å…¶å‰ä¸è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼. ä¾‹å¦‚, è¡¨è¾¾å¼ (?&lt;!(T|t)he\\s)(cat) åŒ¹é… cat, ä¸”å…¶å‰ä¸è·Ÿç€ The æˆ– the. â€œ(?&lt;!(T|t)he\\s)(cat)â€ =&gt; The cat sat on cat. 5. æ ‡å¿— æ ‡å¿—ä¹Ÿå«æ¨¡å¼ä¿®æ­£ç¬¦, å› ä¸ºå®ƒå¯ä»¥ç”¨æ¥ä¿®æ”¹è¡¨è¾¾å¼çš„æœç´¢ç»“æœ. è¿™äº›æ ‡å¿—å¯ä»¥ä»»æ„çš„ç»„åˆä½¿ç”¨, å®ƒä¹Ÿæ˜¯æ•´ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†. æ ‡å¿— æè¿° i å¿½ç•¥å¤§å°å†™. g å…¨å±€æœç´¢. m å¤šè¡Œçš„: é”šç‚¹å…ƒå­—ç¬¦ ^ $ å·¥ä½œèŒƒå›´åœ¨æ¯è¡Œçš„èµ·å§‹. 5.1 å¿½ç•¥å¤§å°å†™ï¼ˆCase Insensitiveï¼‰ ä¿®é¥°è¯­ i ç”¨äºå¿½ç•¥å¤§å°å†™. ä¾‹å¦‚, è¡¨è¾¾å¼ /The/gi è¡¨ç¤ºåœ¨å…¨å±€æœç´¢ The, åœ¨åé¢çš„ i å°†å…¶æ¡ä»¶ä¿®æ”¹ä¸ºå¿½ç•¥å¤§å°å†™, åˆ™å˜æˆæœç´¢ the å’Œ The, g è¡¨ç¤ºå…¨å±€æœç´¢. â€œTheâ€ =&gt;The_ fat cat sat on the mat. â€œ/The/giâ€ =&gt;The fat cat sat onthe mat. 5.2 å…¨å±€æœç´¢ ï¼ˆGlobal searchï¼‰ ä¿®é¥°ç¬¦ g å¸¸ç”¨äºæ‰§è¡Œä¸€ä¸ªå…¨å±€æœç´¢åŒ¹é…, å³(ä¸ä»…ä»…è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„, è€Œæ˜¯è¿”å›å…¨éƒ¨). ä¾‹å¦‚, è¡¨è¾¾å¼ /.(at)/g è¡¨ç¤ºæœç´¢ ä»»æ„å­—ç¬¦(é™¤äº†æ¢è¡Œ) + at, å¹¶è¿”å›å…¨éƒ¨ç»“æœ. â€œ/.(at)/â€ =&gt; The fat cat sat on the mat. â€œ/.(at)/gâ€ =&gt; The fat cat sat on the mat. 5.3 å¤šè¡Œä¿®é¥°ç¬¦ ï¼ˆMultiline) å¤šè¡Œä¿®é¥°ç¬¦ m å¸¸ç”¨äºæ‰§è¡Œä¸€ä¸ªå¤šè¡ŒåŒ¹é…. åƒä¹‹å‰ä»‹ç»çš„ (^,$) ç”¨äºæ£€æŸ¥æ ¼å¼æ˜¯å¦æ˜¯åœ¨å¾…æ£€æµ‹å­—ç¬¦ä¸²çš„å¼€å¤´æˆ–ç»“å°¾. ä½†æˆ‘ä»¬å¦‚æœæƒ³è¦å®ƒåœ¨æ¯è¡Œçš„å¼€å¤´å’Œç»“å°¾ç”Ÿæ•ˆ, æˆ‘ä»¬éœ€è¦ç”¨åˆ°å¤šè¡Œä¿®é¥°ç¬¦ m. ä¾‹å¦‚, è¡¨è¾¾å¼ /at(.)?$/gm è¡¨ç¤ºå°å†™å­—ç¬¦ a åè·Ÿå°å†™å­—ç¬¦ t , æœ«å°¾å¯é€‰é™¤æ¢è¡Œç¬¦å¤–ä»»æ„å­—ç¬¦. æ ¹æ® m ä¿®é¥°ç¬¦, ç°åœ¨è¡¨è¾¾å¼åŒ¹é…æ¯è¡Œçš„ç»“å°¾. â€œ/.at(.)?$/â€ =&gt; The fat cat sat on the mat. â€œ/.at(.)?$/gmâ€ =&gt; The fat cat sat on the mat. 6. è´ªå©ªåŒ¹é…ä¸æƒ°æ€§åŒ¹é… ï¼ˆGreedy vs lazy matchingï¼‰ æ­£åˆ™è¡¨è¾¾å¼é»˜è®¤é‡‡ç”¨è´ªå©ªåŒ¹é…æ¨¡å¼ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹æ„å‘³ç€ä¼šåŒ¹é…å°½å¯èƒ½é•¿çš„å­ä¸²ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ? å°†è´ªå©ªåŒ¹é…æ¨¡å¼è½¬åŒ–ä¸ºæƒ°æ€§åŒ¹é…æ¨¡å¼ã€‚ â€œ/(.*at)/â€ =&gt; The fat cat sat on the mat. â€œ/(.*?at)/â€ =&gt; The fat cat sat on the mat.","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"}]},{"title":"Web Service ç›¸å…³æ¦‚å¿µå’Œæ€»ç»“","slug":"others/20190617-webservice","date":"2019-07-09T16:00:00.000Z","updated":"2019-12-08T06:01:50.870Z","comments":true,"path":"2019/07/10/others/20190617-webservice/","link":"","permalink":"https://jokinglove.com/blog/2019/07/10/others/20190617-webservice/","excerpt":"Web Service ç›¸å…³æ¦‚å¿µå’Œæ€»ç»“ ä¸€. åºè¨€ åºè¨€ä»€ä¹ˆçš„éƒ½ä¸é‡è¦â€¦â€¦ äºŒã€Web Service æ˜¯ä»€ä¹ˆ Web Service æ˜¯ä¸€ç§è·¨ç¼–ç¨‹è¯­è¨€å’Œè·¨æ“ä½œç³»ç»Ÿå¹³å°çš„è¿œç¨‹è°ƒç”¨æŠ€æœ¯ æ‰€è°“è·¨ç¼–ç¨‹è¯­è¨€å’Œè·¨æ“ä½œå¹³å°ï¼Œå°±æ˜¯è¯´æœåŠ¡ç«¯ç¨‹åºé‡‡ç”¨ java ç¼–å†™ï¼Œå®¢æˆ·ç«¯ç¨‹åºåˆ™å¯ä»¥é‡‡ç”¨å…¶ä»–çš„ç¼–ç¨‹è¯­è¨€ç¼–å†™ï¼Œåä¹‹äº¦ç„¶ï¼è·¨æ“ä½œç³»ç»Ÿå¹³å°æ˜¯æŒ‡æœåŠ¡ç«¯ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºå¯ä»¥åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚ è¿œç¨‹è°ƒç”¨ï¼Œæ˜¯æŒ‡ä¸€å°è®¡ç®—æœº a ä¸Šçš„ä¸€ä¸ªç¨‹åºå¯ä»¥è°ƒç”¨åˆ°å¦å¤–ä¸€å°è®¡ç®—æœº b ä¸Šçš„ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚","text":"Web Service ç›¸å…³æ¦‚å¿µå’Œæ€»ç»“ ä¸€. åºè¨€ åºè¨€ä»€ä¹ˆçš„éƒ½ä¸é‡è¦â€¦â€¦ äºŒã€Web Service æ˜¯ä»€ä¹ˆ Web Service æ˜¯ä¸€ç§è·¨ç¼–ç¨‹è¯­è¨€å’Œè·¨æ“ä½œç³»ç»Ÿå¹³å°çš„è¿œç¨‹è°ƒç”¨æŠ€æœ¯ æ‰€è°“è·¨ç¼–ç¨‹è¯­è¨€å’Œè·¨æ“ä½œå¹³å°ï¼Œå°±æ˜¯è¯´æœåŠ¡ç«¯ç¨‹åºé‡‡ç”¨ java ç¼–å†™ï¼Œå®¢æˆ·ç«¯ç¨‹åºåˆ™å¯ä»¥é‡‡ç”¨å…¶ä»–çš„ç¼–ç¨‹è¯­è¨€ç¼–å†™ï¼Œåä¹‹äº¦ç„¶ï¼è·¨æ“ä½œç³»ç»Ÿå¹³å°æ˜¯æŒ‡æœåŠ¡ç«¯ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºå¯ä»¥åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚ è¿œç¨‹è°ƒç”¨ï¼Œæ˜¯æŒ‡ä¸€å°è®¡ç®—æœº a ä¸Šçš„ä¸€ä¸ªç¨‹åºå¯ä»¥è°ƒç”¨åˆ°å¦å¤–ä¸€å°è®¡ç®—æœº b ä¸Šçš„ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚ å…¶å®å¯ä»¥ä»å¤šä¸ªè§’åº¦æ¥ç†è§£ WebServiceï¼Œä»è¡¨é¢ä¸Šçœ‹ï¼ŒWebServiceå°±æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºå‘å¤–ç•Œæš´éœ²å‡ºä¸€ä¸ªèƒ½é€šè¿‡Webè¿›è¡Œè°ƒç”¨çš„APIï¼Œä¹Ÿå°±æ˜¯è¯´èƒ½ç”¨ç¼–ç¨‹çš„æ–¹æ³•é€šè¿‡ Webæ¥è°ƒç”¨è¿™ä¸ªåº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬æŠŠè°ƒç”¨è¿™ä¸ªWebServiceçš„åº”ç”¨ç¨‹åºå«åšå®¢æˆ·ç«¯ï¼Œè€ŒæŠŠæä¾›è¿™ä¸ªWebServiceçš„åº”ç”¨ç¨‹åºå«åšæœåŠ¡ç«¯ã€‚ä»æ·±å±‚æ¬¡çœ‹ï¼ŒWebServiceæ˜¯å»ºç«‹å¯äº’æ“ä½œçš„åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºçš„æ–°å¹³å°ï¼Œæ˜¯ä¸€ä¸ªå¹³å°ï¼Œæ˜¯ä¸€å¥—æ ‡å‡†ã€‚å®ƒå®šä¹‰äº†åº”ç”¨ç¨‹åºå¦‚ä½•åœ¨Webä¸Šå®ç°äº’æ“ä½œæ€§ï¼Œä½ å¯ä»¥ç”¨ä»»ä½•ä½ å–œæ¬¢çš„è¯­è¨€ï¼Œåœ¨ä»»ä½•ä½ å–œæ¬¢çš„å¹³å°ä¸Šå†™Web service ï¼Œåªè¦æˆ‘ä»¬å¯ä»¥é€šè¿‡Web serviceæ ‡å‡†å¯¹è¿™äº›æœåŠ¡è¿›è¡ŒæŸ¥è¯¢å’Œè®¿é—®ã€‚ WebServiceå¹³å°éœ€è¦ä¸€å¥—åè®®æ¥å®ç°åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºçš„åˆ›å»ºã€‚ä»»ä½•å¹³å°éƒ½æœ‰å®ƒçš„æ•°æ®è¡¨ç¤ºæ–¹æ³•å’Œç±»å‹ç³»ç»Ÿã€‚è¦å®ç°äº’æ“ä½œæ€§ï¼ŒWebServiceå¹³å°å¿…é¡»æä¾›ä¸€å¥—æ ‡å‡†çš„ç±»å‹ç³»ç»Ÿï¼Œç”¨äºæ²Ÿé€šä¸åŒå¹³å°ã€ç¼–ç¨‹è¯­è¨€å’Œç»„ä»¶æ¨¡å‹ä¸­çš„ä¸åŒç±»å‹ç³»ç»Ÿã€‚Web serviceå¹³å°å¿…é¡»æä¾›ä¸€ç§æ ‡å‡†æ¥æè¿° Web serviceï¼Œè®©å®¢æˆ·å¯ä»¥å¾—åˆ°è¶³å¤Ÿçš„ä¿¡æ¯æ¥è°ƒç”¨è¿™ä¸ªWeb serviceã€‚æœ€åï¼Œæˆ‘ä»¬è¿˜å¿…é¡»æœ‰ä¸€ç§æ–¹æ³•æ¥å¯¹è¿™ä¸ªWeb serviceè¿›è¡Œè¿œç¨‹è°ƒç”¨,è¿™ç§æ–¹æ³•å®é™…æ˜¯ä¸€ç§è¿œç¨‹è¿‡ç¨‹è°ƒç”¨åè®®(RPC)ã€‚ä¸ºäº†è¾¾åˆ°äº’æ“ä½œæ€§ï¼Œè¿™ç§RPCåè®®è¿˜å¿…é¡»ä¸å¹³å°å’Œç¼–ç¨‹è¯­è¨€æ— å…³ã€‚ ä¸‰ã€WebService å¹³å°æŠ€æœ¯ â€‹ XML + XSDï¼ŒSOAP å’Œ WSDL å°±æ˜¯æ„æˆ WebService å¹³å°çš„ä¸‰å¤§æŠ€æœ¯ã€‚ 3.1ã€XML + XSD â€‹ WebService é‡‡ç”¨ HTTP åè®®ä¼ è¾“æ•°æ®ï¼Œé‡‡ç”¨ XML æ ¼å¼å°è£…æ•°æ® (å³ XML ä¸­è¯´æ˜è°ƒç”¨è¿œç¨‹æœåŠ¡å¯¹è±¡çš„å“ªä¸ªæ–¹æ³•ï¼Œä¼ é€’çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œä»¥åŠæœåŠ¡å¯¹è±¡çš„è¿”å›ç»“æœæ˜¯ä»€ä¹ˆï¼‰ã€‚ â€‹ XML æ˜¯ WebService å¹³å°ä¸­è¡¨ç¤ºæ•°æ®çš„æ ¼å¼ã€‚é™¤äº†æ˜“äºç®€å†å’Œæ˜“äºåˆ†æå¤–ï¼ŒXML ä¸»è¦çš„æœ‰ç‚¹åœ¨äºå®ƒæ—¢æ˜¯å¹³å°æ— å…³çš„ï¼Œä¼˜åŠ¿å‚å•†æ— å…³çš„ã€‚æ— å…³æ€§æ˜¯æ¯”ä¼˜è¶Šæ€§æ›´é‡è¦çš„ï¼šè½¯ä»¶å‚å•†æ˜¯ä¸ä¼šé€‰æ‹©ä¸€ä¸ªç”±ç«äº‰å¯¹æ‰‹å‘æ˜çš„æŠ€æœ¯ã€‚ â€‹ XMLè§£å†³äº†æ•°æ®è¡¨ç¤ºçš„é—®é¢˜ï¼Œä½†å®ƒæ²¡æœ‰å®šä¹‰ä¸€å¥—æ ‡å‡†çš„æ•°æ®ç±»å‹ï¼Œæ›´æ²¡æœ‰è¯´æ€ä¹ˆå»æ‰©å±•è¿™å¥—æ•°æ®ç±»å‹ã€‚ä¾‹å¦‚ï¼Œæ•´å½¢æ•°åˆ°åº•ä»£è¡¨ä»€ä¹ˆï¼Ÿ16ä½ï¼Œ32ä½ï¼Œ64ä½ï¼Ÿè¿™äº›ç»†èŠ‚å¯¹å®ç°äº’æ“ä½œæ€§å¾ˆé‡è¦ã€‚XML Schema(XSD)å°±æ˜¯ä¸“é—¨è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€å¥—æ ‡å‡†ã€‚å®ƒå®šä¹‰äº†ä¸€å¥—æ ‡å‡†çš„æ•°æ®ç±»å‹ï¼Œå¹¶ç»™å‡ºäº†ä¸€ç§è¯­è¨€æ¥æ‰©å±•è¿™å¥—æ•°æ®ç±»å‹ã€‚WebServiceå¹³å°å°± æ˜¯ç”¨XSDæ¥ä½œä¸ºå…¶æ•°æ®ç±»å‹ç³»ç»Ÿçš„ã€‚å½“ä½ ç”¨æŸç§è¯­è¨€(å¦‚VB.NETæˆ–C#)æ¥æ„é€ ä¸€ä¸ªWeb serviceæ—¶ï¼Œä¸ºäº†ç¬¦åˆWebServiceæ ‡å‡†ï¼Œæ‰€ æœ‰ä½ ä½¿ç”¨çš„æ•°æ®ç±»å‹éƒ½å¿…é¡»è¢«è½¬æ¢ä¸ºXSDç±»å‹ã€‚ä½ ç”¨çš„å·¥å…·å¯èƒ½å·²ç»è‡ªåŠ¨å¸®ä½ å®Œæˆäº†è¿™ä¸ªè½¬æ¢ï¼Œä½†ä½ å¾ˆå¯èƒ½ä¼šæ ¹æ®ä½ çš„éœ€è¦ä¿®æ”¹ä¸€ä¸‹è½¬æ¢è¿‡ç¨‹ã€‚ 3.2ã€SOAP â€‹ WebService é€šè¿‡ HTTP åè®®å‘é€è¯·æ±‚å’Œæ¥å—ç»“æœæ—¶ï¼Œå‘é€çš„è¯·æ±‚å†…å®¹å’Œç»“æœå†…å®¹éƒ½é‡‡ç”¨ XML æ ¼å¼å°è£…ï¼Œå¹¶å¢åŠ ä¸€äº›ç‰¹å®šçš„ HTTP æ¶ˆæ¯å¤´ï¼Œä»¥è¯´æ˜ HTTP æ¶ˆæ¯çš„å†…å®¹æ ¼å¼ï¼Œè¿™äº›ç‰¹å®šçš„ HTTP æ¶ˆæ¯å¤´å’Œ XML å†…å®¹æ ¼å¼å°±æ˜¯ SOAP åè®®ã€‚SOAP åè®®æä¾›äº†æ ‡å‡†çš„ RPC æ–¹æ³•æ¥è°ƒç”¨ WebServiceã€‚ SOAPåè®® = HTTPåè®® + XML æ•°æ®æ ¼å¼ â€‹ SOAPåè®®å®šä¹‰äº†SOAPæ¶ˆæ¯çš„æ ¼å¼ï¼ŒSOAPåè®®æ˜¯åŸºäºHTTPåè®®çš„ï¼ŒSOAPä¹Ÿæ˜¯åŸºäºXMLå’ŒXSDçš„ï¼ŒXMLæ˜¯SOAPçš„æ•°æ®ç¼–ç æ–¹å¼ã€‚æ‰“ä¸ªæ¯” å–»ï¼šHTTPå°±æ˜¯æ™®é€šå…¬è·¯ï¼ŒXMLå°±æ˜¯ä¸­é—´çš„ç»¿è‰²éš”ç¦»å¸¦å’Œä¸¤è¾¹çš„é˜²æŠ¤æ ï¼ŒSOAPå°±æ˜¯æ™®é€šå…¬è·¯ç»è¿‡åŠ éš”ç¦»å¸¦å’Œé˜²æŠ¤æ æ”¹é€ è¿‡çš„é«˜é€Ÿå…¬è·¯ã€‚ 3.3ã€ WSDL å¥½æ¯”æˆ‘ä»¬å»å•†åº—ä¹°ä¸œè¥¿ï¼Œé¦–å…ˆè¦çŸ¥é“å•†åº—é‡Œæœ‰ä»€ä¹ˆä¸œè¥¿å¯ä¹°ï¼Œç„¶åå†æ¥è´­ä¹°ï¼Œå•†å®¶çš„åšæ³•å°±æ˜¯å¼ è´´å¹¿å‘Šæµ·æŠ¥ã€‚ WebServiceä¹Ÿä¸€æ ·ï¼ŒWebServiceå®¢æˆ·ç«¯è¦è°ƒç”¨ä¸€ä¸ªWebServiceæœåŠ¡ï¼Œé¦–å…ˆè¦æœ‰çŸ¥é“è¿™ä¸ªæœåŠ¡çš„åœ°å€åœ¨å“ªï¼Œä»¥åŠè¿™ä¸ªæœåŠ¡é‡Œæœ‰ä»€ä¹ˆæ–¹ æ³•å¯ä»¥è°ƒç”¨ï¼Œæ‰€ä»¥ï¼ŒWebServiceåŠ¡å™¨ç«¯é¦–å…ˆè¦é€šè¿‡ä¸€ä¸ªWSDLæ–‡ä»¶æ¥è¯´æ˜è‡ªå·±å®¶é‡Œæœ‰å•¥æœåŠ¡å¯ä»¥å¯¹å¤–è°ƒç”¨ï¼ŒæœåŠ¡æ˜¯ä»€ä¹ˆï¼ˆæœåŠ¡ä¸­æœ‰å“ªäº›æ–¹æ³•ï¼Œæ–¹æ³•æ¥å— çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œè¿”å›å€¼æ˜¯ä»€ä¹ˆï¼‰ï¼ŒæœåŠ¡çš„ç½‘ç»œåœ°å€ç”¨å“ªä¸ªurlåœ°å€è¡¨ç¤ºï¼ŒæœåŠ¡é€šè¿‡ä»€ä¹ˆæ–¹å¼æ¥è°ƒç”¨ã€‚ WSDL(Web Services Description Language)å°±æ˜¯è¿™æ ·ä¸€ä¸ªåŸºäºXMLçš„è¯­è¨€ï¼Œç”¨äºæè¿°Web ServiceåŠå…¶å‡½æ•°ã€å‚æ•°å’Œè¿”å›å€¼ã€‚å®ƒæ˜¯WebServiceå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½ èƒ½ç†è§£çš„æ ‡å‡†æ ¼å¼ã€‚å› ä¸ºæ˜¯åŸºäºXMLçš„ï¼Œæ‰€ä»¥WSDLæ—¢æ˜¯æœºå™¨å¯é˜…è¯»çš„ï¼Œåˆæ˜¯äººå¯é˜…è¯»çš„ï¼Œè¿™å°†æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å¥½å¤„ã€‚ä¸€äº›æœ€æ–°çš„å¼€å‘å·¥å…·æ—¢èƒ½æ ¹æ®ä½ çš„ Web serviceç”ŸæˆWSDLæ–‡æ¡£ï¼Œåˆèƒ½å¯¼å…¥WSDLæ–‡æ¡£ï¼Œç”Ÿæˆè°ƒç”¨ç›¸åº”WebServiceçš„ä»£ç†ç±»ä»£ç ã€‚ WSDL æ–‡ä»¶ä¿å­˜åœ¨WebæœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡ä¸€ä¸ªurlåœ°å€å°±å¯ä»¥è®¿é—®åˆ°å®ƒã€‚å®¢æˆ·ç«¯è¦è°ƒç”¨ä¸€ä¸ªWebServiceæœåŠ¡ä¹‹å‰ï¼Œè¦çŸ¥é“è¯¥æœåŠ¡çš„WSDLæ–‡ä»¶çš„åœ°å€ã€‚ WebServiceæœåŠ¡æä¾›å•†å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥æš´éœ²å®ƒçš„WSDLæ–‡ä»¶åœ°å€ï¼š1.æ³¨å†Œåˆ°UDDIæœåŠ¡å™¨ï¼Œä»¥ä¾¿è¢«äººæŸ¥æ‰¾ï¼›2.ç›´æ¥å‘Šè¯‰ç»™å®¢æˆ·ç«¯è°ƒç”¨è€…ã€‚ å››ã€WebService å¼€å‘ â€‹ WebService å¼€å‘å¯ä»¥åˆ†ä¸ºæœåŠ¡å™¨ç«¯å¼€å‘å’Œå®¢æˆ·ç«¯å¼€å‘ä¸¤ä¸ªæ–¹é¢ 4.1ã€æœåŠ¡ç«¯å¼€å‘ â€‹ æŠŠå…¬å¸å†…éƒ¨ç³»ç»Ÿçš„ä¸šåŠ¡æ–¹æ³•å‘å¸ƒæˆ WebService æœåŠ¡ï¼Œä¾›è¿œç¨‹åˆä½œå•ä½å’Œä¸ªäººè°ƒç”¨ã€‚(å€ŸåŠ©ä¸€äº› WebService æ¡†æ¶å¯ä»¥å¾ˆè½»æ¾åœ°å§è‡ªå·±çš„ä¸šåŠ¡å¯¹è±¡å‘å¸ƒæˆ WebService æœåŠ¡ï¼ŒJava æ–¹é¢çš„å…¸å‹ WebService æ¡†æ¶åŒ…æ‹¬ï¼šaxisï¼Œå°fireï¼Œcxf ç­‰ï¼Œjava ee æœåŠ¡å™¨é€šå¸¸ä¹Ÿæ”¯æŒå‘å¸ƒ WebService æœåŠ¡ï¼Œä¾‹å¦‚ JBOSSã€‚) 4.2ã€å®¢æˆ·ç«¯å¼€å‘ â€‹ è°ƒç”¨åˆ«äººå‘å¸ƒçš„WebServiceæœåŠ¡ï¼Œå¤§å¤šæ•°äººä»äº‹çš„å¼€å‘éƒ½å±äºè¿™ä¸ªæ–¹é¢ï¼Œä¾‹å¦‚ï¼Œè°ƒç”¨å¤©æ°”é¢„æŠ¥WebServiceæœåŠ¡ã€‚ï¼ˆä½¿ç”¨å‚ å•†çš„WSDL2Javaä¹‹ç±»çš„å·¥å…·ç”Ÿæˆé™æ€è°ƒç”¨çš„ä»£ç†ç±»ä»£ç ï¼›ä½¿ç”¨å‚å•†æä¾›çš„å®¢æˆ·ç«¯ç¼–ç¨‹APIç±»ï¼›ä½¿ç”¨SUNå…¬å¸æ—©æœŸæ ‡å‡†çš„jax-rpcå¼€å‘åŒ…ï¼›ä½¿ç”¨SUNå…¬å¸æœ€æ–°æ ‡å‡†çš„jax-wså¼€å‘åŒ…ã€‚å½“ç„¶SUNå·²è¢«ORACLEæ”¶è´­) 4.3ã€WebService çš„å·¥ä½œè°ƒç”¨åŸç† â€‹ å¯¹å®¢æˆ·ç«¯è€Œè¨€ï¼Œæˆ‘ä»¬ç»™è¿™å„ç±»WebServiceå®¢æˆ·ç«¯APIä¼ é€’wsdlæ–‡ä»¶çš„urlåœ°å€ï¼Œè¿™äº›APIå°±ä¼šåˆ›å»ºå‡ºåº•å±‚çš„ä»£ç†ç±»ï¼Œæˆ‘è°ƒç”¨è¿™äº›ä»£ç†ï¼Œå°±å¯ä»¥è®¿é—®åˆ°webserviceæœåŠ¡ã€‚ä»£ç†ç±»æŠŠå®¢æˆ·ç«¯çš„æ–¹æ³•è°ƒç”¨å˜æˆsoapæ ¼å¼çš„è¯·æ±‚æ•°æ®å†é€šè¿‡HTTPåè®®å‘å‡ºå»ï¼Œå¹¶æŠŠæ¥æ”¶åˆ°çš„soap æ•°æ®å˜æˆè¿”å›å€¼è¿”å›ã€‚å¯¹æœåŠ¡ç«¯è€Œè¨€ï¼Œå„ç±»WebServiceæ¡†æ¶çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå¤§å¤§çš„Servletï¼Œå½“è¿œç¨‹è°ƒç”¨å®¢æˆ·ç«¯ç»™å®ƒé€šè¿‡httpåè®®å‘é€è¿‡æ¥soapæ ¼å¼çš„è¯·æ±‚æ•°æ®æ—¶ï¼Œå®ƒåˆ†æè¿™ä¸ªæ•°æ®ï¼Œå°±çŸ¥é“è¦è°ƒç”¨å“ªä¸ªjavaç±»çš„å“ªä¸ªæ–¹æ³•ï¼Œäºæ˜¯å»æŸ¥æ‰¾æˆ–åˆ›å»ºè¿™ä¸ªå¯¹è±¡ï¼Œå¹¶è°ƒç”¨å…¶æ–¹æ³•ï¼Œå†æŠŠæ–¹æ³•è¿”å›çš„ç»“æœåŒ…è£…æˆsoapæ ¼å¼çš„æ•°æ®ï¼Œé€šè¿‡httpå“åº”æ¶ˆæ¯å›ç»™å®¢æˆ·ç«¯ã€‚ äº”ã€ä½¿ç”¨åœºæ™¯ 1ã€è·¨é˜²ç«å¢™é€šä¿¡ â€‹ å¦‚æœåº”ç”¨ç¨‹åºæœ‰æˆåƒä¸Šä¸‡çš„ç”¨æˆ·ï¼Œè€Œä¸”åˆ†å¸ƒåœ¨ä¸–ç•Œå„åœ°ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡å°†æ˜¯ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ã€‚å› ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´é€šå¸¸ä¼šæœ‰é˜²ç«å¢™æˆ–è€…ä»£ç†æœ åŠ¡å™¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨DCOMå°±ä¸æ˜¯é‚£ä¹ˆç®€å•ï¼Œé€šå¸¸ä¹Ÿä¸ä¾¿äºæŠŠå®¢æˆ·ç«¯ç¨‹åºå‘å¸ƒåˆ°æ•°é‡å¦‚æ­¤åºå¤§çš„æ¯ä¸€ä¸ªç”¨æˆ·æ‰‹ä¸­ã€‚ä¼ ç»Ÿçš„åšæ³•æ˜¯ï¼Œé€‰æ‹©ç”¨æµè§ˆå™¨ä½œä¸ºå®¢æˆ·ç«¯ï¼Œå†™ä¸‹ä¸€å¤§å †ASPé¡µé¢ï¼ŒæŠŠåº”ç”¨ç¨‹åºçš„ä¸­é—´å±‚æš´éœ²ç»™æœ€ç»ˆç”¨æˆ·ã€‚è¿™æ ·åšçš„ç»“æœæ˜¯å¼€å‘éš¾åº¦å¤§ï¼Œç¨‹åºå¾ˆéš¾ç»´æŠ¤ã€‚å¦‚æœä¸­é—´å±‚ç»„ä»¶æ¢æˆWebServiceçš„è¯ï¼Œå°±å¯ä»¥ä»ç”¨æˆ·ç•Œé¢ç›´æ¥è°ƒç”¨ä¸­é—´å±‚ç»„ä»¶ã€‚ä»å¤§å¤šæ•°äººçš„ç»éªŒæ¥çœ‹ï¼Œåœ¨ä¸€ä¸ªç”¨æˆ·ç•Œé¢å’Œä¸­é—´å±‚æœ‰è¾ƒå¤šäº¤äº’çš„åº”ç”¨ç¨‹åºä¸­ï¼Œä½¿ç”¨WebServiceè¿™ç§ç»“æ„ï¼Œå¯ä»¥èŠ‚çœèŠ±åœ¨ç”¨æˆ·ç•Œé¢ç¼–ç¨‹ä¸Š20%çš„å¼€å‘æ—¶é—´ã€‚ 2ã€åº”ç”¨ç¨‹åºé›†æˆ â€‹ ä¼ä¸šçº§çš„åº”ç”¨ç¨‹åºå¼€å‘è€…éƒ½çŸ¥é“ï¼Œä¼ä¸šé‡Œç»å¸¸éƒ½è¦æŠŠç”¨ä¸åŒè¯­è¨€å†™æˆçš„ã€åœ¨ä¸åŒå¹³å°ä¸Šè¿è¡Œçš„å„ç§ç¨‹åºé›†æˆèµ·æ¥ï¼Œè€Œè¿™ç§é›†æˆå°†èŠ±è´¹å¾ˆå¤§çš„å¼€å‘åŠ›é‡ã€‚åº”ç”¨ç¨‹åºç»å¸¸éœ€è¦ä»è¿è¡Œåœ¨IBMä¸»æœºä¸Šçš„ç¨‹åºä¸­è·å–æ•°æ®ï¼›æˆ–è€…æŠŠæ•°æ®å‘é€åˆ°ä¸»æœºæˆ–UNIXåº”ç”¨ç¨‹åºä¸­å»ã€‚å³ä½¿åœ¨åŒä¸€ä¸ªå¹³å°ä¸Šï¼Œä¸åŒè½¯ä»¶å‚å•†ç”Ÿäº§çš„å„ç§è½¯ä»¶ä¹Ÿå¸¸å¸¸éœ€è¦é›†æˆèµ·æ¥ã€‚é€šè¿‡WebServiceï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„é›†æˆä¸åŒç»“æ„çš„åº”ç”¨ç¨‹åºã€‚ 3ã€B2B é›†æˆ ç”¨WebServiceé›†æˆåº”ç”¨ç¨‹åºï¼Œå¯ä»¥ä½¿å…¬å¸å†…éƒ¨çš„å•†åŠ¡å¤„ç†æ›´åŠ è‡ªåŠ¨åŒ–ã€‚ä½†å½“äº¤æ˜“è·¨è¶Šä¾›åº”å•†å’Œå®¢æˆ·ã€çªç ´å…¬å¸çš„ç•Œé™æ—¶ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿè·¨å…¬å¸çš„å•†åŠ¡äº¤æ˜“é›†æˆé€šå¸¸å«åšB2Bé›†æˆã€‚WebServiceæ˜¯B2Bé›†æˆæˆåŠŸçš„å…³é”®ã€‚é€šè¿‡WebServiceï¼Œå…¬å¸å¯ä»¥æŠŠå…³é”®çš„å•†åŠ¡åº”ç”¨â€œæš´éœ²â€ç»™æŒ‡å®šçš„ä¾›åº”å•†å’Œå®¢æˆ·ã€‚ä¾‹å¦‚ï¼ŒæŠŠç”µå­ä¸‹å•ç³»ç»Ÿå’Œç”µå­å‘ç¥¨ç³»ç»Ÿâ€œæš´éœ²â€å‡ºæ¥ï¼Œå®¢æˆ·å°±å¯ä»¥ä»¥ç”µå­çš„æ–¹å¼å‘é€è®¢å•ï¼Œä¾›åº”å•†åˆ™å¯ä»¥ä»¥ç”µå­çš„æ–¹å¼å‘é€åŸæ–™é‡‡è´­å‘ç¥¨ã€‚å½“ç„¶ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼ŒEDI(ç”µå­æ–‡æ¡£äº¤æ¢)æ—©å°±æ˜¯è¿™æ ·äº†ã€‚ä½†æ˜¯ï¼ŒWebServiceçš„å®ç°è¦æ¯”EDIç®€å•å¾—å¤šï¼Œè€Œä¸”WebServiceè¿è¡Œåœ¨Internetä¸Šï¼Œåœ¨ä¸–ç•Œä»»ä½•åœ°æ–¹éƒ½å¯è½»æ˜“å®ç°ï¼Œå…¶è¿è¡Œæˆæœ¬å°±ç›¸å¯¹è¾ƒä½ã€‚ä¸è¿‡ï¼ŒWebServiceå¹¶ä¸åƒEDIé‚£æ ·ï¼Œæ˜¯æ–‡æ¡£äº¤æ¢æˆ–B2Bé›†æˆçš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚ WebServiceåªæ˜¯B2Bé›†æˆçš„ä¸€ä¸ªå…³é”®éƒ¨åˆ†ï¼Œè¿˜éœ€è¦è®¸å¤šå…¶å®ƒçš„éƒ¨åˆ†æ‰èƒ½å®ç°é›†æˆã€‚ â€‹ ç”¨WebServiceæ¥å®ç°B2Bé›†æˆçš„æœ€å¤§å¥½å¤„åœ¨äºå¯ä»¥è½»æ˜“å®ç°äº’æ“ä½œæ€§ã€‚åªè¦æŠŠå•†åŠ¡é€»è¾‘â€œæš´éœ²â€å‡ºæ¥ï¼Œæˆä¸ºWebServiceï¼Œå°±å¯ä»¥è®©ä»»ä½•æŒ‡å®šçš„åˆä½œä¼™ä¼´è°ƒç”¨è¿™äº›å•†åŠ¡é€»è¾‘ï¼Œè€Œä¸ç®¡ä»–ä»¬çš„ç³»ç»Ÿåœ¨ä»€ä¹ˆå¹³å°ä¸Šè¿è¡Œï¼Œä½¿ç”¨ä»€ä¹ˆå¼€å‘è¯­è¨€ã€‚è¿™æ ·å°±å¤§å¤§å‡å°‘äº†èŠ±åœ¨B2Bé›†æˆä¸Šçš„æ—¶é—´å’Œæˆæœ¬ï¼Œè®©è®¸å¤šåŸæœ¬æ— æ³•æ‰¿å—EDIçš„ä¸­å°ä¼ä¸šä¹Ÿèƒ½å®ç°B2Bé›†æˆã€‚ 4ã€è½¯ä»¶å’Œæ•°æ®é‡ç”¨ â€‹ è½¯ä»¶é‡ç”¨æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„ä¸»é¢˜ï¼Œé‡ç”¨çš„å½¢å¼å¾ˆå¤šï¼Œé‡ç”¨çš„ç¨‹åº¦æœ‰å¤§æœ‰å°ã€‚æœ€åŸºæœ¬çš„å½¢å¼æ˜¯æºä»£ç æ¨¡å—æˆ–è€…ç±»ä¸€çº§çš„é‡ç”¨ï¼Œä¸€ç§å½¢å¼æ˜¯äºŒè¿›åˆ¶å½¢å¼çš„ç»„ä»¶é‡ç”¨ã€‚é‡‡ç”¨ WebServiceåº”ç”¨ç¨‹åºå¯ä»¥ç”¨æ ‡å‡†çš„æ–¹æ³•æŠŠåŠŸèƒ½å’Œæ•°æ®â€œæš´éœ²â€å‡ºæ¥ï¼Œä¾›å…¶å®ƒåº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œè¾¾åˆ°ä¸šåŠ¡çº§é‡ç”¨ã€‚ å…­ã€ä¸é€‚ç”¨åœºåˆ 1ã€å•æœºåº”ç”¨ç¨‹åº â€‹ ç›®å‰ï¼Œä¼ä¸šå’Œä¸ªäººè¿˜ä½¿ç”¨ç€å¾ˆå¤šæ¡Œé¢åº”ç”¨ç¨‹åºã€‚å…¶ä¸­ä¸€äº›åªéœ€è¦ä¸æœ¬æœºä¸Šçš„å…¶å®ƒç¨‹åºé€šä¿¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½å°±ä¸è¦ç”¨WebServiceï¼Œåªè¦ç”¨æœ¬åœ°çš„APIå°±å¯ä»¥äº†ã€‚COMéå¸¸é€‚åˆäºåœ¨è¿™ç§æƒ…å†µä¸‹å·¥ä½œï¼Œå› ä¸ºå®ƒæ—¢å°åˆå¿«ã€‚è¿è¡Œåœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šçš„æœåŠ¡å™¨è½¯ä»¶ä¹Ÿæ˜¯è¿™æ ·ã€‚æœ€å¥½ç›´æ¥ç”¨COMæˆ–å…¶å®ƒæœ¬åœ°çš„APIæ¥è¿›è¡Œåº”ç”¨ç¨‹åºé—´çš„è°ƒç”¨ã€‚å½“ç„¶WebServiceä¹Ÿèƒ½ç”¨åœ¨è¿™äº›åœºåˆï¼Œä½†é‚£æ ·ä¸ä»…æ¶ˆè€—å¤ªå¤§ï¼Œè€Œä¸”ä¸ä¼šå¸¦æ¥ä»»ä½•å¥½å¤„ã€‚ 2ã€å±€åŸŸç½‘çš„åŒæ„åº”ç”¨ç¨‹åº åœ¨è®¸å¤šåº”ç”¨ä¸­ï¼Œæ‰€æœ‰çš„ç¨‹åºéƒ½æ˜¯ç”¨VBæˆ–VCå¼€å‘çš„ï¼Œéƒ½åœ¨Windowså¹³å°ä¸‹ä½¿ç”¨COMï¼Œéƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸Šã€‚ä¾‹å¦‚ï¼Œæœ‰ä¸¤ä¸ªæœåŠ¡å™¨åº”ç”¨ç¨‹åºéœ€è¦ç›¸äº’é€šä¿¡ï¼Œæˆ–è€…æœ‰ä¸€ä¸ªWin32æˆ–WinFormçš„å®¢æˆ·ç¨‹åºè¦è¿æ¥å±€åŸŸç½‘ä¸Šå¦ä¸€ä¸ªæœåŠ¡å™¨çš„ç¨‹åºã€‚åœ¨è¿™äº›ç¨‹åºé‡Œï¼Œä½¿ç”¨DCOMä¼šæ¯”SOAP/HTTPæœ‰æ•ˆå¾—å¤šã€‚ä¸æ­¤ç›¸ç±»ä¼¼ï¼Œå¦‚æœä¸€ä¸ª.NETç¨‹åºè¦è¿æ¥åˆ°å±€åŸŸç½‘ä¸Šçš„å¦ä¸€ä¸ª.NETç¨‹åºï¼Œåº”è¯¥ä½¿.NETremotingã€‚æœ‰è¶£çš„æ˜¯ï¼Œåœ¨.NETremoting ä¸­ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä½¿ç”¨SOAP/HTTPæ¥è¿›è¡ŒWebServiceè°ƒç”¨ã€‚ä¸è¿‡æœ€å¥½è¿˜æ˜¯ç›´æ¥é€šè¿‡TCPè¿›è¡ŒRPCè°ƒç”¨ï¼Œé‚£æ ·ä¼šæœ‰æ•ˆå¾—å¤šã€‚ ä¸ƒã€ç¼–ç ä¸­çš„ä¸€äº›æ¦‚å¿µ 1ã€Port Type â€‹ äº‹å®ä¸Šï¼Œä¸€ä¸ª WebService å¹¶ä¸æ˜¯ç›´æ¥åŒ…å«ä¸€ç»„ operation(æ–¹æ³•)ã€‚æ–¹æ³•æ˜¯è¢«ç»„æˆæ¢ä¸€ä¸ªæˆ–å¤šä¸ª Port Typeã€‚ ä¸€ä¸ª Port Type ç±»ä¼¼ Java ç±»ï¼Œæ¯ä¸ª operation ç±»ä¼¼ java class ä¸­çš„é™æ€æ–¹æ³•ã€‚ æ¯”å¦‚ï¼Œä¸€ä¸ªweb serviceä¸­ï¼ŒæŠŠæ‰€æœ‰stringç›¸å…³æ“ä½œç»„æˆ stringUtil Port type, æŠŠæ—¥æœŸç›¸å…³çš„æ“ä½œç»„æˆdateUtil Port Type. æ‰€æœ‰ port typeçš„å‘½åå¿…é¡»æ˜¯QName. ï¼ˆQName å°±æ˜¯éœ€è¦æœ‰ namespaceå’Œlocalnameçš„å…¨åç§°ï¼Œ è§ä¸Šç¯‡çš„å›¾ç¤ºï¼‰ 2ã€Binding ä¸€ä¸ª port type å…è®¸ä½¿ç”¨ä¸åŒçš„ä¿¡æ¯æ ¼å¼è®¿é—®ï¼Œæ¯”å¦‚SOAP(Simple Object Access Protocal)æˆ– æ™®é€šæ–‡æœ¬æ ¼å¼(plain text fomat): concat(s1=â€˜abcâ€™, s2=â€˜123â€™) é™¤äº†ä¿¡æ¯æ ¼å¼ï¼Œæ¯ä¸ªport typeè¿˜å…è®¸ä½¿ç”¨ä¿¡æ¯é€šè¿‡HTTP Post è¯·æ±‚æˆ–è€… é€šè¿‡ emailæ–¹å¼ä¼ é€ã€‚ å› æ­¤ï¼Œæ¯ä¸ªè¢«æ”¯æŒçš„ä¿¡æ¯æ ¼å¼å’Œä¿¡æ¯ä¼ é€æ–¹å¼ç»„åˆï¼Œå°±å«åš binding.æœ€å¸¸è§çš„bindingå°±æ˜¯ SOAP+HTTP. 3ã€Port å‡å¦‚å¾ˆå¤šäººä½¿ç”¨ä½ çš„web service,ä½ å†³å®šæŠŠä½ çš„web serviceéƒ¨ç½²åˆ°3å°æœºå™¨ä¸Š(C1,C2,C3)ã€‚éƒ¨ç½²ç­–ç•¥ä¸ºï¼šé‡‡ç”¨binding1äºC1,C2,C3 æœºå™¨ä¸Šï¼›é‡‡ç”¨binding2äºC3æœºå™¨ä¸Š.æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±è¯´ï¼Œä½ ä¸€å…±æœ‰å››ä¸ªport, å…¶ä¸­3ä¸ªportä½¿ç”¨ç”¨binding1, 1ä¸ªportä½¿ç”¨binding2.","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"webservice","slug":"webservice","permalink":"https://jokinglove.com/blog/group/tags/webservice/"},{"name":"java","slug":"java","permalink":"https://jokinglove.com/blog/group/tags/java/"}]},{"title":"spring boot ä¸­çš„å‘","slug":"others/microservice/spring-boot-notice","date":"2019-06-24T16:00:00.000Z","updated":"2019-12-08T06:01:50.875Z","comments":true,"path":"2019/06/25/others/microservice/spring-boot-notice/","link":"","permalink":"https://jokinglove.com/blog/2019/06/25/others/microservice/spring-boot-notice/","excerpt":"","text":"spring boot ä¸­æ³¨æ„çš„é—®é¢˜ç‚¹ YAML æ–‡ä»¶çš„ç¼ºç‚¹ï¼š YAMLæ–‡ä»¶ä¸èƒ½é€šè¿‡ @PropertySource æ³¨è§£åŠ è½½ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨è¯¥æ–¹å¼ï¼Œé‚£å°±å¿…é¡»ä½¿ç”¨propertiesæ–‡ä»¶ã€‚","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"springboot","slug":"springboot","permalink":"https://jokinglove.com/blog/group/tags/springboot/"}]},{"title":"Kubernetes-åˆ›å»ºé›†ç¾¤","slug":"kubernates/4.1åˆ›å»ºkubernetesé›†ç¾¤","date":"2019-06-13T16:00:00.000Z","updated":"2019-12-08T06:01:50.868Z","comments":true,"path":"2019/06/14/kubernates/4.1åˆ›å»ºkubernetesé›†ç¾¤/","link":"","permalink":"https://jokinglove.com/blog/2019/06/14/kubernates/4.1åˆ›å»ºkubernetesé›†ç¾¤/","excerpt":"ä½¿ç”¨ Minikube åˆ›å»ºä¸€ä¸ªé›†ç¾¤ ç›®æ ‡ äº†è§£ä»€ä¹ˆæ˜¯ Kubernetes é›†ç¾¤ äº†è§£ä»€ä¹ˆæ˜¯ Minikube ä½¿ç”¨åœ¨çº¿ç»ˆç«¯å¯åŠ¨ Kubernetes é›†ç¾¤","text":"ä½¿ç”¨ Minikube åˆ›å»ºä¸€ä¸ªé›†ç¾¤ ç›®æ ‡ äº†è§£ä»€ä¹ˆæ˜¯ Kubernetes é›†ç¾¤ äº†è§£ä»€ä¹ˆæ˜¯ Minikube ä½¿ç”¨åœ¨çº¿ç»ˆç«¯å¯åŠ¨ Kubernetes é›†ç¾¤ Kubernetes é›†ç¾¤ Kubernetes ç”¨äºåè°ƒé«˜åº¦å¯ç”¨çš„è®¡ç®—æœºé›†ç¾¤ï¼Œè¿™äº›è®¡ç®—æœºé›†ç¾¤è¢«è¿æ¥ä½œä¸ºå•ä¸ªå•å…ƒå·¥ä½œã€‚ Kubernetes çš„æŠ½è±¡æ€§å…è®¸æ‚¨å°†å®¹å™¨çš„åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°é›†ç¾¤ï¼Œè€Œä¸å¿…ä¸“é—¨å°†å…¶ç»‘å®šåˆ°å•ä¸ªè®¡ç®—æœºã€‚ä¸ºäº†åˆ©ç”¨è¿™ç§æ–°çš„éƒ¨ç½²æ¨¡å‹ï¼Œåº”ç”¨ç¨‹åºéœ€è¦ä»¥å°†ä»–ä»¬ä¸å„ä¸ªä¸»æœºåˆ†ç¦»çš„æ–¹å¼æ‰“åŒ…ï¼šä»–ä»¬éœ€è¦è¢«å®¹å™¨åŒ–ã€‚å®¹å™¨åŒ–åº”ç”¨ç¨‹åºæ¯”è¿‡å»çš„éƒ¨ç½²æ¨¡å‹æ›´çµæ´»å’Œå¯ç”¨ï¼Œå…¶ä¸­åº”ç”¨ç¨‹åºç›´æ¥å®‰è£…åˆ°ç‰¹å®šæœºå™¨ä¸Šï¼Œä½œä¸ºæ·±å…¥é›†æˆåˆ°ä¸»æœºä¸­çš„è½¯ä»¶åŒ…ã€‚Kubernetes åœ¨ä¸€ä¸ªé›†ç¾¤ä¸Šä»¥æ›´æœ‰æ•ˆçš„æ–¹å¼è‡ªåŠ¨åˆ†å‘å’Œè°ƒåº¦å®¹å™¨åº”ç”¨ç¨‹åºã€‚ Kubernetes æ˜¯ä¸€ä¸ªå¼€æºå¹³å°ï¼Œå¯æ»¡è¶³ç”Ÿäº§ç¯å¢ƒçš„éœ€è¦ã€‚ Kubernetes é›†ç¾¤æœ‰ä¸¤ç§ç±»å‹çš„èµ„æºç»„æˆï¼š ä¸€ä¸ª Master æ˜¯é›†ç¾¤çš„è°ƒåº¦èŠ‚ç‚¹ Nodes æ˜¯åº”ç”¨ç¨‹åºå®é™…è¿è¡Œçš„å·¥ä½œèŠ‚ç‚¹ æ¦‚è¦ï¼š Kubernetes é›†ç¾¤ MiniKube Kubernetes æ˜¯ä¸€ä¸ªç”Ÿäº§çº§çš„å¼€æºå¹³å°ï¼Œç”¨äºåè°ƒè®¡ç®—æœºé›†ç¾¤å†…éƒ¨å’Œè·¨è®¡ç®—æœºé›†ç¾¤çš„åº”ç”¨ç¨‹åºå®¹å™¨åˆ†å‘ï¼ˆè°ƒåº¦ï¼‰å’Œè¿è¡Œã€‚ é›†ç¾¤å›¾ Master è´Ÿè´£ç®¡ç†é›†ç¾¤ã€‚ master åè°ƒé›†ç¾¤ä¸­çš„æ‰€æœ‰æ´»åŠ¨ï¼Œä¾‹å¦‚è°ƒåº¦åº”ç”¨ç¨‹åºã€ç»´æŠ¤åº”ç”¨ç¨‹åºçš„æ‰€éœ€çŠ¶æ€ã€æ‰©å±•åº”ç”¨ç¨‹åºå’Œæ»šåŠ¨æ›´æ–°ã€‚ èŠ‚ç‚¹æ˜¯ Kubernetes é›†ç¾¤ä¸­çš„å·¥ä½œæœºå™¨ï¼Œå¯ä»¥æ˜¯ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºã€‚ æ¯ä¸ªå·¥ä½œèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ª Kubeletï¼Œ å®ƒæ˜¯ç®¡ç†èŠ‚ç‚¹å¹¶ä¸ Kubernetes Master å‡ ç‚¹è¿›è¡Œé€šä¿¡çš„ä»£ç†ã€‚èŠ‚ç‚¹ä¸Šåº”è¯¥å…·æœ‰å¤„ç†å®¹å™¨æ“ä½œçš„å·¥ä½œï¼Œä¾‹å¦‚ Docker æˆ–è€… rktã€‚ä¸€ä¸ª Kubernetes å·¥ä½œé›†ç¾¤è‡³å°‘æœ‰ä¸‰ä¸ªèŠ‚ç‚¹ã€‚ Master ç®¡ç†é›†ç¾¤ï¼Œè€ŒèŠ‚ç‚¹ç”¨äºæ‰˜ç®¡æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚ å½“æ‚¨åœ¨ Kubernetes ä¸Šéƒ¨ç½²åº”ç”¨ç¨‹åºæ—¶ï¼Œæ‚¨å¯ä»¥å‘Šè¯‰ master å¯åŠ¨åº”ç”¨ç¨‹åºå®¹å™¨ã€‚ Master è°ƒåº¦å®¹å™¨åœ¨é›†ç¾¤çš„èŠ‚ç‚¹ä¸Šè¿è¡Œã€‚èŠ‚ç‚¹ä½¿ç”¨ Master å…¬å¼€çš„ Kubernetes API ä¸ Master é€šä¿¡ã€‚ æœ€ç»ˆç”¨æˆ·è¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨ Kubernetes API ä¸é›†ç¾¤äº¤äº’ã€‚ Kubernetes é›†ç¾¤å¯ä»¥éƒ¨ç½²åœ¨ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºä¸Šã€‚è¦å¼€å§‹ä½¿ç”¨ Kubernetes å¼€å‘å—ï¼Œ æ‚¨å¯ä»¥ä½¿ç”¨ Minikube ã€‚Minikube æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ Kubernetes å®ç°ï¼Œä¼šåœ¨æœ¬æœºåˆ›å»ºä¸€å°è™šæ‹Ÿæœºï¼Œå¹¶éƒ¨ç½²ä¸€ä¸ªåªåŒ…å«ä¸€ä¸ªå‡ ç‚¹çš„ç®€å•é›†ç¾¤ã€‚ Minikube é€‚ç”¨äº Linuxã€Mac Os å’Œ Windows ç³»ç»Ÿã€‚Minikube CLI æä¾›äº†é›†ç¾¤çš„åŸºæœ¬å¼•å¯¼æ“ä½œï¼ŒåŒ…æ‹¬å¯åŠ¨ã€åœæ­¢ã€çŠ¶æ€å’Œåˆ é™¤ã€‚ä¸ºäº†å®Œæˆæ­¤åŸºç¡€è®­ç»ƒï¼Œæ‚¨å¯ä»¥ä½¿ç”¨é¢„å…ˆå®‰è£…äº† Minikube çš„åœ¨çº¿ç»ˆç«¯ã€‚","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/categories/kubernetes/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/tags/kubernetes/"},{"name":"é›†ç¾¤","slug":"é›†ç¾¤","permalink":"https://jokinglove.com/blog/group/tags/é›†ç¾¤/"}]},{"title":"Kubernetes-å®æ“","slug":"kubernates/4.2æ“ä½œç»ƒä¹ ","date":"2019-06-11T16:00:00.000Z","updated":"2019-12-08T06:01:50.869Z","comments":true,"path":"2019/06/12/kubernates/4.2æ“ä½œç»ƒä¹ /","link":"","permalink":"https://jokinglove.com/blog/2019/06/12/kubernates/4.2æ“ä½œç»ƒä¹ /","excerpt":"å®æ“ç»ƒä¹  123456789101112131415161718192021222324252627282930313233Kubernetes Bootcamp Terminal$ minikube versionminikube version: v0.34.1$ minikube starto minikube v0.34.1 on linux (amd64)&gt; Configuring local host environment ...&gt; Creating none VM (CPUs=2, Memory=2048MB, Disk=20000MB) ...- \"minikube\" IP address is 172.17.0.7- Configuring Docker as the container runtime ...- Preparing Kubernetes environment ...@ Downloading kubeadm v1.13.3@ Downloading kubelet v1.13.3- Pulling images required by Kubernetes v1.13.3 ...- Launching Kubernetes v1.13.3 using kubeadm ...- Configuring cluster permissions ...- Verifying component health .....+ kubectl is now configured to use \"minikube\"= Done! Thank you for using minikube!$$ kubectl versionClient Version: version.Info&#123;Major:\"1\", Minor:\"13\", GitVersion:\"v1.13.3\", GitCommit:\"721bfa751924da8d1680787490c54b9179b1fed0\", GitTreeState:\"clean\", BuildDate:\"2019-02-01T20:08:12Z\", GoVersion:\"go1.11.5\", Compiler:\"gc\", Platform:\"linux/amd64\"&#125;Server Version: version.Info&#123;Major:\"1\", Minor:\"13\", GitVersion:\"v1.13.3\", GitCommit:\"721bfa751924da8d1680787490c54b9179b1fed0\", GitTreeState:\"clean\", BuildDate:\"2019-02-01T20:00:57Z\", GoVersion:\"go1.11.5\", Compiler:\"gc\", Platform:\"linux/amd64\"&#125;$$ kubectl cluster-infoKubernetes master is running at https://172.17.0.7:8443KubeDNS is running at https://172.17.0.7:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxyTo further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.$$ kubectl get nodesNAME STATUS ROLES AGE VERSIONminikube Ready master 100s v1.13.3","text":"å®æ“ç»ƒä¹  123456789101112131415161718192021222324252627282930313233Kubernetes Bootcamp Terminal$ minikube versionminikube version: v0.34.1$ minikube starto minikube v0.34.1 on linux (amd64)&gt; Configuring local host environment ...&gt; Creating none VM (CPUs=2, Memory=2048MB, Disk=20000MB) ...- \"minikube\" IP address is 172.17.0.7- Configuring Docker as the container runtime ...- Preparing Kubernetes environment ...@ Downloading kubeadm v1.13.3@ Downloading kubelet v1.13.3- Pulling images required by Kubernetes v1.13.3 ...- Launching Kubernetes v1.13.3 using kubeadm ...- Configuring cluster permissions ...- Verifying component health .....+ kubectl is now configured to use \"minikube\"= Done! Thank you for using minikube!$$ kubectl versionClient Version: version.Info&#123;Major:\"1\", Minor:\"13\", GitVersion:\"v1.13.3\", GitCommit:\"721bfa751924da8d1680787490c54b9179b1fed0\", GitTreeState:\"clean\", BuildDate:\"2019-02-01T20:08:12Z\", GoVersion:\"go1.11.5\", Compiler:\"gc\", Platform:\"linux/amd64\"&#125;Server Version: version.Info&#123;Major:\"1\", Minor:\"13\", GitVersion:\"v1.13.3\", GitCommit:\"721bfa751924da8d1680787490c54b9179b1fed0\", GitTreeState:\"clean\", BuildDate:\"2019-02-01T20:00:57Z\", GoVersion:\"go1.11.5\", Compiler:\"gc\", Platform:\"linux/amd64\"&#125;$$ kubectl cluster-infoKubernetes master is running at https://172.17.0.7:8443KubeDNS is running at https://172.17.0.7:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxyTo further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.$$ kubectl get nodesNAME STATUS ROLES AGE VERSIONminikube Ready master 100s v1.13.3 12","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/categories/kubernetes/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/tags/kubernetes/"}]},{"title":"Linux å®ç”¨å‘½ä»¤","slug":"others/linux/20190610-linuxå¸¸ç”¨å‘½ä»¤","date":"2019-06-10T16:00:00.000Z","updated":"2019-12-08T06:01:50.874Z","comments":true,"path":"2019/06/11/others/linux/20190610-linuxå¸¸ç”¨å‘½ä»¤/","link":"","permalink":"https://jokinglove.com/blog/2019/06/11/others/linux/20190610-linuxå¸¸ç”¨å‘½ä»¤/","excerpt":"Linux å®ç”¨å‘½ä»¤ awk awk æ˜¯ä¸€ç§å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„è¯­è¨€","text":"Linux å®ç”¨å‘½ä»¤ awk awk æ˜¯ä¸€ç§å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„è¯­è¨€ 12345678910111213141516171819202122232425262728293031awk [é€‰é¡¹å‚æ•°] 'script' var=value file(s)æˆ–awk [é€‰é¡¹å‚æ•°] -f scriptfile var=value file(s)é€‰é¡¹å‚æ•°è¯´æ˜ï¼š-F fs or --field-separator fsæŒ‡å®šè¾“å…¥æ–‡ä»¶æŠ˜åˆ†éš”ç¬¦ï¼Œfsæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚-F:ã€‚-v var=value or --asign var=valueèµ‹å€¼ä¸€ä¸ªç”¨æˆ·å®šä¹‰å˜é‡ã€‚-f scripfile or --file scriptfileä»è„šæœ¬æ–‡ä»¶ä¸­è¯»å–awkå‘½ä»¤ã€‚-mf nnn and -mr nnnå¯¹nnnå€¼è®¾ç½®å†…åœ¨é™åˆ¶ï¼Œ-mfé€‰é¡¹é™åˆ¶åˆ†é…ç»™nnnçš„æœ€å¤§å—æ•°ç›®ï¼›-mré€‰é¡¹é™åˆ¶è®°å½•çš„æœ€å¤§æ•°ç›®ã€‚è¿™ä¸¤ä¸ªåŠŸèƒ½æ˜¯Bellå®éªŒå®¤ç‰ˆawkçš„æ‰©å±•åŠŸèƒ½ï¼Œåœ¨æ ‡å‡†awkä¸­ä¸é€‚ç”¨ã€‚-W compact or --compat, -W traditional or --traditionalåœ¨å…¼å®¹æ¨¡å¼ä¸‹è¿è¡Œawkã€‚æ‰€ä»¥gawkçš„è¡Œä¸ºå’Œæ ‡å‡†çš„awkå®Œå…¨ä¸€æ ·ï¼Œæ‰€æœ‰çš„awkæ‰©å±•éƒ½è¢«å¿½ç•¥ã€‚-W copyleft or --copyleft, -W copyright or --copyrightæ‰“å°ç®€çŸ­çš„ç‰ˆæƒä¿¡æ¯ã€‚-W help or --help, -W usage or --usageæ‰“å°å…¨éƒ¨awké€‰é¡¹å’Œæ¯ä¸ªé€‰é¡¹çš„ç®€çŸ­è¯´æ˜ã€‚-W lint or --lintæ‰“å°ä¸èƒ½å‘ä¼ ç»Ÿunixå¹³å°ç§»æ¤çš„ç»“æ„çš„è­¦å‘Šã€‚-W lint-old or --lint-oldæ‰“å°å…³äºä¸èƒ½å‘ä¼ ç»Ÿunixå¹³å°ç§»æ¤çš„ç»“æ„çš„è­¦å‘Šã€‚-W posixæ‰“å¼€å…¼å®¹æ¨¡å¼ã€‚ä½†æœ‰ä»¥ä¸‹é™åˆ¶ï¼Œä¸è¯†åˆ«ï¼š/xã€å‡½æ•°å…³é”®å­—ã€funcã€æ¢ç åºåˆ—ä»¥åŠå½“fsæ˜¯ä¸€ä¸ªç©ºæ ¼æ—¶ï¼Œå°†æ–°è¡Œä½œä¸ºä¸€ä¸ªåŸŸåˆ†éš”ç¬¦ï¼›æ“ä½œç¬¦**å’Œ**=ä¸èƒ½ä»£æ›¿^å’Œ^=ï¼›fflushæ— æ•ˆã€‚-W re-interval or --re-inervalå…è®¸é—´éš”æ­£åˆ™è¡¨è¾¾å¼çš„ä½¿ç”¨ï¼Œå‚è€ƒ(grepä¸­çš„Posixå­—ç¬¦ç±»)ï¼Œå¦‚æ‹¬å·è¡¨è¾¾å¼[[:alpha:]]ã€‚-W source program-text or --source program-textä½¿ç”¨program-textä½œä¸ºæºä»£ç ï¼Œå¯ä¸-få‘½ä»¤æ··ç”¨ã€‚-W version or --versionæ‰“å°bugæŠ¥å‘Šä¿¡æ¯çš„ç‰ˆæœ¬ã€‚ ç¤ºä¾‹ 12# è·å–ps -aux ç»“æœçš„æ‰€æœ‰PIDps -aux| awk '&#123;print $2&#125;' tNULSeBaMsA7pkcKvTbL6fYDGPLypFegvkyxeH tNULSeBaMnbevvimnwvfkF3tgW3SPrWf6nyEws","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://jokinglove.com/blog/group/tags/linux/"}]},{"title":"Kubernetes-åŸºç¡€æ¨¡å—","slug":"kubernates/4.kubernetesçš„åŸºç¡€æ¨¡å—","date":"2019-06-09T16:00:00.000Z","updated":"2019-12-08T06:01:50.869Z","comments":true,"path":"2019/06/10/kubernates/4.kubernetesçš„åŸºç¡€æ¨¡å—/","link":"","permalink":"https://jokinglove.com/blog/2019/06/10/kubernates/4.kubernetesçš„åŸºç¡€æ¨¡å—/","excerpt":"Kubernetes çš„åŸºç¡€æ¨¡å— åˆ›å»ºä¸€ä¸ª Kubernetes é›†ç¾¤ éƒ¨ç½²åº”ç”¨ç¨‹åº åº”ç”¨ç¨‹åºæ¢ç´¢ åº”ç”¨å¤–éƒ¨å¯è§ åº”ç”¨å¯æ‰©å±• åº”ç”¨æ›´æ–°","text":"Kubernetes çš„åŸºç¡€æ¨¡å— åˆ›å»ºä¸€ä¸ª Kubernetes é›†ç¾¤ éƒ¨ç½²åº”ç”¨ç¨‹åº åº”ç”¨ç¨‹åºæ¢ç´¢ åº”ç”¨å¤–éƒ¨å¯è§ åº”ç”¨å¯æ‰©å±• åº”ç”¨æ›´æ–°","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/categories/kubernetes/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/tags/kubernetes/"}]},{"title":"Kubernetes-è®¾è®¡æ¶æ„","slug":"kubernates/3.kubernetes-è®¾è®¡æ¶æ„","date":"2019-06-01T16:00:00.000Z","updated":"2019-12-08T06:01:50.868Z","comments":true,"path":"2019/06/02/kubernates/3.kubernetes-è®¾è®¡æ¶æ„/","link":"","permalink":"https://jokinglove.com/blog/2019/06/02/kubernates/3.kubernetes-è®¾è®¡æ¶æ„/","excerpt":"Kubernetes è®¾è®¡æ¶æ„ Kubernetes é›†ç¾¤åŒ…å«æœ‰èŠ‚ç‚¹ä»£ç† kubelet å’Œ Master ç»„ä»¶ (APIs, scheduler, etc)ï¼Œä¸€åˆ‡éƒ½åŸºäºåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿã€‚ä¸‹é¢è¿™å¼ å›¾æ˜¯ Kubernetes çš„ç»“æ„å›¾ã€‚ æŸ¥çœ‹é«˜æ¸…æ— ç å›¾","text":"Kubernetes è®¾è®¡æ¶æ„ Kubernetes é›†ç¾¤åŒ…å«æœ‰èŠ‚ç‚¹ä»£ç† kubelet å’Œ Master ç»„ä»¶ (APIs, scheduler, etc)ï¼Œä¸€åˆ‡éƒ½åŸºäºåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿã€‚ä¸‹é¢è¿™å¼ å›¾æ˜¯ Kubernetes çš„ç»“æ„å›¾ã€‚ æŸ¥çœ‹é«˜æ¸…æ— ç å›¾ Kubernetes èŠ‚ç‚¹ åœ¨è¿™å¼ ç³»ç»Ÿæ¶æ„å›¾ä¸­ï¼Œæˆ‘ä»¬æŠŠæœåŠ¡åˆ†ä¸ºè¿è¡Œåœ¨å·¥ä½œèŠ‚ç‚¹ä¸Šçš„æœåŠ¡å’Œç»„æˆé›†ç¾¤çº§åˆ«æ§åˆ¶æ¿çš„æœåŠ¡ã€‚ Kubernetes èŠ‚ç‚¹æœ‰è¿è¡Œåº”ç”¨å®¹å™¨å¿…å¤‡çš„æœåŠ¡ï¼Œè€Œè¿™äº›éƒ½æ˜¯å— Master çš„æ§åˆ¶ã€‚ æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½è¦è¿è¡Œ Dockerã€‚Docker æ¥è´Ÿè´£æ‰€æœ‰å…·ä½“çš„é•œåƒä¸‹è½½å’Œå®¹å™¨è¿è¡Œã€‚ Kubernetes ä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç»„ä»¶ç»„æˆï¼š etcd ä¿å­˜äº†æ•´ä¸ªé›†ç¾¤çš„çŠ¶æ€ï¼› apiserver æä¾›äº†èµ„æºæ“ä½œçš„å”¯ä¸€å…¥å£ï¼Œå¹¶æä¾›è®¤è¯ã€æˆæƒã€è®¿é—®æ§åˆ¶ã€API æ³¨å†Œå’Œå‘ç°ç­‰æœºåˆ¶ï¼› controller manager è´Ÿè´£ç»´æŠ¤é›†ç¾¤çš„çŠ¶æ€ï¼Œæ¯”å¦‚æ•…éšœæ£€æµ‹ã€è‡ªåŠ¨æ‰©å±•ã€æ»šåŠ¨æ›´æ–°ç­‰ï¼› scheduler è´Ÿè´£èµ„æºçš„è°ƒåº¦ï¼ŒæŒ‰ç…§é¢„å®šçš„è°ƒåº¦ç­–ç•¥å°† Pod è°ƒåº¦åˆ°ç›¸åº”çš„æœºå™¨ä¸Šï¼› kubelet è´Ÿè´£ç»´æŠ¤å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒæ—¶ä¹Ÿè´Ÿè´£ Volume (CVI) å’Œç½‘è·¯ (CNI) çš„ç®¡ç†ï¼› Container runtime è´Ÿè´£é•œåƒç®¡ç†ä»¥åŠ Pod å’Œå®¹å™¨çš„çœŸæ­£è¿è¡Œ (CRI)ï¼› kube-proxy è´Ÿè´£ä¸º Service æä¾› cluster å†…éƒ¨çš„æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡ï¼› é™¤äº†æ ¸å¿ƒç»„ä»¶ï¼Œè¿˜æœ‰ä¸€äº›æ¨èçš„ Add-onsï¼š kube-dns è´Ÿè´£ä¸ºæ•´ä¸ªé›†ç¾¤æä¾› DNS æœåŠ¡ Ingress Controller ä¸ºæœåŠ¡æä¾›å¤–ç½‘å…¥å£ Heapster æä¾›èµ„æºç›‘æ§ Dashboard æä¾› GUI Federation æä¾›è·¨å¯ç”¨åŒºçš„é›†ç¾¤ Fluentd-elasticsearch æä¾›é›†ç¾¤æ—¥å¿—é‡‡é›†ã€å­˜å‚¨ä¸æŸ¥è¯¢ åˆ†å±‚æ¶æ„ Kubernetes è®¾è®¡ç†å¿µå’ŒåŠŸèƒ½å…¶å®å°±æ˜¯ä¸€ä¸ªç±» Linux çš„åˆ†å±‚æ¶æ„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ ¸å¿ƒå±‚ï¼šKubernetes æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œå¯¹å¤–æä¾› API æ„å»ºé«˜å±‚çš„åº”ç”¨ï¼Œå¯¹å†…æä¾›æ’ä»¶å¼åº”ç”¨æ‰§è¡Œç¯å¢ƒ åº”ç”¨å±‚ï¼šéƒ¨ç½² (æ— çŠ¶æ€åº”ç”¨ã€æœ‰çŠ¶æ€åº”ç”¨ã€æ‰¹å¤„ç†ä»»åŠ¡ã€é›†ç¾¤åº”ç”¨ç­‰) å’Œè·¯ç”± (æœåŠ¡å‘ç°ã€DNSè§£æç­‰) ç®¡ç†å±‚ï¼šç³»ç»Ÿåº¦é‡ (å¦‚åŸºç¡€è®¾æ–½ã€å®¹å™¨å’Œç½‘ç»œçš„åº¦é‡) ï¼Œè‡ªåŠ¨åŒ– (å¦‚è‡ªåŠ¨æ‰©å±•ã€åŠ¨æ€ Provision ç­‰) ä»¥åŠç­–ç•¥ç®¡ç† (RBACã€Quotaã€ PSPã€NetworkPolicyç­‰) æ¥å£å±‚ï¼škubectl å‘½ä»¤è¡Œå·¥å…·ã€å®¢æˆ·ç«¯ SDK ä»¥åŠé›†ç¾¤è”é‚¦ ç”Ÿæ€ç³»ç»Ÿï¼šåœ¨æ¥å£å±‚ä¹‹ä¸Šçš„åºå¤§å®¹å™¨é›†ç¾¤ç®¡ç†è°ƒåº¦çš„ç”Ÿæ€ç³»ç»Ÿï¼Œå¯ä»¥åˆ’åˆ†ä¸ºä¸¤ä¸ªèŒƒç•´ï¼š Kubernetes å¤–éƒ¨ï¼šæ—¥å¿—ã€ç›‘æ§ã€é…ç½®ç®¡ç†ã€CIã€CDã€Workflowã€Faasã€OTSåº”ç”¨ã€ChatOps ç­‰ Kubernetes å†…éƒ¨ï¼šCRIã€CNIã€CVIã€é•œåƒä»“åº“ã€Cloud Providerã€é›†ç¾¤è‡ªèº«çš„é…ç½®å’Œç®¡ç†ç­‰ kubelet kubelet è´Ÿè´£ç®¡ç† pods å’Œä»–ä»¬ä¸Šé¢çš„å®¹å™¨ï¼Œimage é•œåƒã€volumesã€etcã€‚ kube-proxy æ¯ä¸€ä¸ªèŠ‚ç‚¹è¿è¡Œä¸€ä¸ªç®€å•çš„ç½‘ç»œä»£ç†å’Œè´Ÿè½½å‡è¡¡ ( è¯¦è§ services FAQ ) ã€‚æ­£å¦‚ Kubernetes API é‡Œé¢å®šä¹‰çš„è¿™äº›æœåŠ¡ ( è¯¦è§ the services doc ) ä¹Ÿå¯ä»¥åœ¨å„ç§ç»ˆç«¯ä¸­ä»¥è½®è¯¢çš„æ–¹å¼åšä¸€äº›ç®€å•çš„ TCP å’Œ UDP ä¼ è¾“ã€‚ æœåŠ¡ç«¯ç‚¹ç›®å‰æ˜¯é€šè¿‡ DNS æˆ–è€…ç¯å¢ƒå˜é‡ ( Docker-links-compatible å’Œ Kubernetes{FOO}_SERVICE_HOST åŠ {FOO}_SERVICE_PORT å˜é‡éƒ½æ”¯æŒï¼‰ã€‚è¿™äº›å˜é‡ç”±æœåŠ¡ä»£ç†æ‰€ç®¡ç†çš„ç«¯å£æ¥è§£æã€‚ Kubernetes æ§åˆ¶é¢æ¿ Kubernetes æ§åˆ¶é¢æ¿å¯ä»¥åˆ†ä¸ºå¤šä¸ªéƒ¨åˆ†ã€‚ç›®å‰ä»–ä»¬éƒ½è¿è¡Œåœ¨ä¸€ä¸ª master èŠ‚ç‚¹ï¼Œç„¶è€Œä¸ºäº†è¾¾åˆ°é«˜å¯ç”¨æ€§ï¼Œè¿™éœ€è¦æ”¹å˜ã€‚ä¸åŒéƒ¨åˆ†ä¸€èµ·åä½œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„å…³äºé›†ç¾¤çš„è§†å›¾ã€‚ etcd æ‰€æœ‰ master çš„æŒç»­çŠ¶æ€éƒ½åœ¨ etcd çš„ä¸€ä¸ªå®ä¾‹ä¸­ã€‚è¿™å¯ä»¥å¾ˆå¥½åœ°å­˜å‚¨é…ç½®æ•°æ®ã€‚å› ä¸ºæœ‰ watch (è§‚å¯Ÿè€…) çš„æ”¯æŒï¼Œä¸ªéƒ¨ä»¶åè°ƒä¸­çš„æ”¹å˜å¯ä»¥å¾ˆå¿«è¢«å¯Ÿè§‰ã€‚ Kubernetes API Server API æœåŠ¡æä¾› Kubernetes API çš„æœåŠ¡ã€‚è¿™ä¸ªæœåŠ¡è¯•å›¾é€šè¿‡å§æ‰€æœ‰æˆ–è€…å¤§éƒ¨åˆ†çš„ä¸šåŠ¡é€»è¾‘æ”¾åˆ°ä¸ä¸¤åªçš„éƒ¨ä»¶ä¸­ä»è€Œä½¿å…¶å…·æœ‰ CRUD ç‰¹æ€§ã€‚å®ƒä¸»è¦å¤„ç† REST æ“ä½œï¼Œåœ¨ etcd ä¸­éªŒè¯æ›´æ–°è¿™äº›å¯¹è±¡ (å¹¶æœ€ç»ˆå­˜å‚¨)ã€‚ scheduler è°ƒåº¦å™¨å§æœªè°ƒåº¦çš„ pod é€šè¿‡ binding api ç»‘å®šåˆ°èŠ‚ç‚¹ä¸Šã€‚è°ƒåº¦å™¨æ˜¯å¯æ’æ‹”çš„ã€‚å¹¶ä¸”æˆ‘ä»¬æœŸå¾…æ”¯æŒå¤šé›†ç¾¤çš„è°ƒåº¦ï¼Œæœªæ¥ç”šè‡³å¸Œæœ›å¯ä»¥æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰çš„è°ƒåº¦ã€‚ Kubernetes æ§åˆ¶ç®¡ç†æœåŠ¡å™¨ æ‰€æœ‰å…¶ä»–çš„é›†ç¾¤çº§åˆ«çš„åŠŸèƒ½ç›®å‰éƒ½æ˜¯ç”±æ§åˆ¶ç®¡ç†å™¨æ‰€è´Ÿè´£ã€‚ä¾‹å¦‚ï¼Œç«¯ç‚¹å¯¹è±¡æ˜¯è¢«ç«¯ç‚¹æ§åˆ¶å™¨æ¥åˆ›å»ºå’Œæ›´æ–°ã€‚è¿™äº›æœ€ç»ˆå¯ä»¥è¢«åˆ†éš”æˆä¸åŒçš„éƒ¨ä»¶æ¥è®©ä»–ä»¬ç‹¬è‡ªçš„å¯æ’æ‹”ã€‚ replicationscontroller æ˜¯ä¸€ç§å»ºç«‹äºç®€å•çš„ pod API ä¹‹ä¸Šçš„ä¸€ç§æœºåˆ¶ã€‚ä¸€æ—¦å®ç°ï¼Œæˆ‘ä»¬æœ€ç»ˆè®¡åˆ’æŠŠè¿™å˜æˆä¸€ç§é€šç”¨çš„æ’ä»¶æœºåˆ¶ã€‚","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/categories/kubernetes/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/tags/kubernetes/"}]},{"title":"Kubernetes-è®¤è¯† Kubernetes","slug":"kubernates/2.kubernetes-è®¤è¯† Kubernetes","date":"2019-05-30T16:00:00.000Z","updated":"2019-12-08T06:01:50.868Z","comments":true,"path":"2019/05/31/kubernates/2.kubernetes-è®¤è¯† Kubernetes/","link":"","permalink":"https://jokinglove.com/blog/2019/05/31/kubernates/2.kubernetes-è®¤è¯† Kubernetes/","excerpt":"è®¤è¯† Kubernetesï¼Ÿ Kubernetes å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š å‡†å¤‡å¥½ å¼€å§‹? ä¸ºä»€ä¹ˆæ˜¯å®¹å™¨ï¼Ÿ ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ Kubernetesï¼Œå®ƒèƒ½åšä»€ä¹ˆï¼Ÿ ä¸ºä»€ä¹ˆ Kubernetes æ˜¯ä¸€ä¸ªå¹³å°ï¼Ÿ Kubernetes ä¸æ˜¯ä»€ä¹ˆï¼š Kubernetes æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸK8sï¼Ÿ Kubernetes æ˜¯ä¸€ä¸ªè·¨ä¸»æœºé›†ç¾¤çš„ å¼€æºçš„å®¹å™¨è°ƒåº¦å¹³å°ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨åŒ–åº”ç”¨å®¹å™¨çš„éƒ¨ç½²ã€æ‰©å±•å’Œæ“ä½œ ï¼Œæä¾›ä»¥å®¹å™¨ä¸ºä¸­å¿ƒçš„åŸºç¡€æ¶æ„ã€‚ ä½¿ç”¨ Kubernetes ï¼Œ ä½ å¯ä»¥å¿«é€Ÿé«˜æ•ˆåœ°ç›¸åº”å®¢æˆ·çš„éœ€æ±‚ï¼š å¿«é€Ÿã€å¯é¢„æµ‹åœ°éƒ¨ç½²ä½ çš„åº”ç”¨ç¨‹åº æ‹¥æœ‰å³æ—¶æ‰©å±•åº”ç”¨ç¨‹åºçš„èƒ½åŠ› ä¸å½±å“ç°æœ‰ä¸šåŠ¡çš„æƒ…å†µä¸‹ï¼Œæ— ç¼çš„å‘å¸ƒæ–°åŠŸèƒ½ ä¼˜åŒ–ç¡¬ä»¶èµ„æºï¼Œé™ä½æˆæœ¬ æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªè½¯ä»¶å’Œå·¥å…·çš„ç”Ÿæ€ç³»ç»Ÿï¼Œä»¥å‡è½»ä½ åœ¨å…¬å…±äº‘æˆ–ç§æœ‰äº‘è¿è¡Œåº”ç”¨ç¨‹åºçš„è´Ÿæ‹…ã€‚","text":"è®¤è¯† Kubernetesï¼Ÿ Kubernetes å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š å‡†å¤‡å¥½ å¼€å§‹? ä¸ºä»€ä¹ˆæ˜¯å®¹å™¨ï¼Ÿ ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ Kubernetesï¼Œå®ƒèƒ½åšä»€ä¹ˆï¼Ÿ ä¸ºä»€ä¹ˆ Kubernetes æ˜¯ä¸€ä¸ªå¹³å°ï¼Ÿ Kubernetes ä¸æ˜¯ä»€ä¹ˆï¼š Kubernetes æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸK8sï¼Ÿ Kubernetes æ˜¯ä¸€ä¸ªè·¨ä¸»æœºé›†ç¾¤çš„ å¼€æºçš„å®¹å™¨è°ƒåº¦å¹³å°ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨åŒ–åº”ç”¨å®¹å™¨çš„éƒ¨ç½²ã€æ‰©å±•å’Œæ“ä½œ ï¼Œæä¾›ä»¥å®¹å™¨ä¸ºä¸­å¿ƒçš„åŸºç¡€æ¶æ„ã€‚ ä½¿ç”¨ Kubernetes ï¼Œ ä½ å¯ä»¥å¿«é€Ÿé«˜æ•ˆåœ°ç›¸åº”å®¢æˆ·çš„éœ€æ±‚ï¼š å¿«é€Ÿã€å¯é¢„æµ‹åœ°éƒ¨ç½²ä½ çš„åº”ç”¨ç¨‹åº æ‹¥æœ‰å³æ—¶æ‰©å±•åº”ç”¨ç¨‹åºçš„èƒ½åŠ› ä¸å½±å“ç°æœ‰ä¸šåŠ¡çš„æƒ…å†µä¸‹ï¼Œæ— ç¼çš„å‘å¸ƒæ–°åŠŸèƒ½ ä¼˜åŒ–ç¡¬ä»¶èµ„æºï¼Œé™ä½æˆæœ¬ æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªè½¯ä»¶å’Œå·¥å…·çš„ç”Ÿæ€ç³»ç»Ÿï¼Œä»¥å‡è½»ä½ åœ¨å…¬å…±äº‘æˆ–ç§æœ‰äº‘è¿è¡Œåº”ç”¨ç¨‹åºçš„è´Ÿæ‹…ã€‚ Kubernetes å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š ä¾¿æºæ€§ï¼šæ— è®ºå…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€æ··åˆäº‘è¿˜æ˜¯å¤šäº‘æ¶æ„éƒ½å…¨é¢æ”¯æŒ å¯æ‰©å±•ï¼šå®ƒæ˜¯æ¨¡å—åŒ–ã€å¯æ’æ‹”ã€å¯æŒ‚è½½ã€å¯ç»„åˆçš„ï¼Œæ”¯æŒå„ç§å½¢å¼çš„æ‰©å±• è‡ªä¿®å¤ï¼š å®ƒå¯ä»¥è‡ªæˆ‘ä¿æŒåº”ç”¨çš„çŠ¶æ€ã€å¯è‡ªé‡å¯ã€è‡ªå¤åˆ¶ã€è‡ªç¼©æ”¾çš„ï¼Œé€šè¿‡å£°æ˜å¼è¯­æ³•æä¾›äº†å¼ºå¤§çš„è‡ªæˆ‘ä¿®å¤èƒ½åŠ› Kubernetes é¡¹ç›®æœ‰ Google å…¬å¸åœ¨ 2014 å¹´å¯åŠ¨ã€‚ Kubernetes å»ºç«‹åœ¨ Goole å…¬å¸è¶…è¿‡åä½™å¹´çš„è¿ç»´ç»éªŒåŸºç¡€ä¹‹ä¸Šï¼ŒGoogle æ‰€æœ‰çš„åº”ç”¨éƒ½è¿è¡Œåœ¨å®¹å™¨ä¸Šï¼Œå†ä¸ç¤¾åŒºä¸­æœ€å¥½çš„æƒ³æ³•å’Œå®è·µç›¸ç»“åˆï¼Œä¹Ÿè®¸ä»–æ˜¯æœ€å—æ¬¢è¿çš„å®¹å™¨å¹³å°ã€‚ ä¸ºä»€ä¹ˆæ˜¯å®¹å™¨ï¼Ÿ ä¼ ç»Ÿéƒ¨ç½²åº”ç”¨ç¨‹åºçš„æ–¹å¼ï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„åŒ…ç®¡ç†å™¨åœ¨ä¸»æœºä¸Šå®‰è£…åº”ç”¨ä¾èµ–ï¼Œä¹‹åå†å®‰è£…åº”ç”¨ç¨‹åºã€‚è¿™æ— ç–‘å°†åº”ç”¨ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ã€åº”ç”¨çš„é…ç½®ã€åº”ç”¨ä¾èµ–åº“å’Œåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¸å®¿ä¸»æœºæ“ä½œç³»ç»Ÿè¿›è¡Œäº†ç´§è€¦åˆã€‚åœ¨æ­¤æƒ…å¢ƒä¸‹ï¼Œå¯ä»¥é€šè¿‡æ„å»ºä¸å¯æ”¹å˜çš„è™šæ‹Ÿæœºé•œåƒç‰ˆæœ¬ï¼Œé€šè¿‡é•œåƒç‰ˆæœ¬å®ç°å¯é¢„æµ‹çš„å‘å¸ƒå’Œå›æ»šï¼Œä½†æ˜¯è™šæ‹Ÿæœºå®åœ¨æ˜¯å¤ªé‡é‡çº§äº†ï¼Œä¸”é•œåƒä½“ç§¯å¤ªåºå¤§ï¼Œä¾¿æºæ€§å·®ã€‚ æ–°æ–¹å¼ æ˜¯åŸºäºæ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–è€Œä¸æ˜¯ç¡¬ä»¶çº§è™šæ‹ŸåŒ–æ–¹æ³•æ¥éƒ¨ç½²å®¹å™¨ã€‚å®¹å™¨ä¹‹é—´å½¼æ­¤éš”ç¦»å¹¶ä¸ä¸»æœºéš”ç¦»ï¼šä»–ä»¬å…·æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä¸èƒ½çœ‹åˆ°å½¼æ­¤çš„è¿›ç¨‹ï¼Œå¹¶ä¸”ä»–ä»¬æ‰€ä½¿ç”¨çš„è®¡ç®—æœºèµ„æºæ˜¯å¯ä»¥è¢«é™åˆ¶çš„ã€‚ä»–ä»¬æ¯”è™šæ‹Ÿæœºæ›´å®¹æ˜“æ„å»ºï¼Œå¹¶ä¸”ä»–ä»¬ä¸åº•å±‚åŸºç¡€æ¶æ„å’Œä¸»æœºæ–‡ä»¶ç³»ç»Ÿéš”ç¦»ï¼Œæ‰€ä»¥ä»–ä»¬å¯ä»¥è·¨äº‘å’Œæ“ä½œç³»ç»Ÿå¿«é€Ÿåˆ†å‘ã€‚ ç”±äºå®¹å™¨ä½“ç§¯å°ä¸”å¯åŠ¨å¿«ï¼Œå› æ­¤å¯ä»¥åœ¨æ¯ä¸ªå®¹å™¨é•œåƒä¸­æ‰“åŒ…ä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚è¿™ç§ä¸€å¯¹ä¸€çš„åº”ç”¨é•œåƒå…³ç³»æ‹¥æœ‰å¾ˆå¤šå¥½å¤„ã€‚ä½¿ç”¨å®¹å™¨ï¼Œä¸éœ€è¦ä¸å¤–éƒ¨çš„åŸºç¡€æ¶æ„ç¯å¢ƒç»‘å®šï¼Œå› ä¸ºæ¯ä¸€ä¸ªåº”ç”¨ç¨‹åºéƒ½ä¸éœ€è¦å¤–éƒ¨ä¾èµ–ï¼Œæ›´ä¸éœ€è¦ä¸å¤–éƒ¨åŸºç¡€æ¶æ„ç¯å¢ƒä¾èµ–ã€‚å®Œç¾çš„è§£å†³äº†ä»å¼€å‘åˆ°ç”Ÿäº§ç¯å¢ƒçš„ä¸€è‡´æ€§é—®é¢˜ã€‚ å®¹å™¨åŒæ ·æ¯”è™šæ‹Ÿæœºæ›´åŠ é€æ˜ï¼Œè¿™æœ‰åŠ©äºç›‘æµ‹å’Œç®¡ç†ã€‚å°¤å…¶æ˜¯å®¹å™¨è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸç”±åŸºç¡€è®¾æ–½ç®¡ç†ï¼Œè€Œä¸æ˜¯ç”±å®¹å™¨å†…çš„è¿›ç¨‹å¯¹å¤–éšè—æ—¶æ›´æ˜¯å¦‚æ­¤ã€‚æœ€åï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºç”¨å®¹å™¨å°è£…ï¼Œç®¡ç†å®¹å™¨éƒ¨ç½²å°±ç­‰åŒäºç®¡ç†åº”ç”¨ç¨‹åºéƒ¨ç½²ã€‚ å®¹å™¨ä¼˜ç‚¹æ‘˜è¦ï¼š æ•æ·çš„åº”ç”¨ç¨‹åºåˆ›å»ºå’Œéƒ¨ç½²ï¼šä¸è™šæ‹Ÿæœºé•œåƒç›¸æ¯”ï¼Œå®¹å™¨é•œåƒæ›´å®¹æ˜“åˆ›å»ºï¼Œæå‡äº†ç¡¬ä»¶çš„ä½¿ç”¨æ•ˆç‡ã€‚ æŒç»­å¼€å‘ã€é›†æˆå’Œéƒ¨ç½²ï¼šæä¾›å¯é ä¸é¢‘ç¹çš„å®¹å™¨é•œåƒæ„å»ºå’Œéƒ¨ç½²ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿ä»¥åŠå¿«é€Ÿçš„å›æ»š (ç”±äºé•œåƒä¸å¯å˜æ€§)ã€‚ å…³æ³¨å¼€å‘ä¸è¿ç»´çš„åˆ†ç¦»ï¼šåœ¨æ„å»º/å‘å¸ƒæ—¶åˆ›å»ºåº”ç”¨ç¨‹åºå®¹å™¨é•œåƒï¼Œä»è€Œå°†åº”ç”¨ç¨‹åºä¸åŸºç¡€æ¶æ„åˆ†ç¦»ã€‚ å¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒçš„ä¸€è‡´æ€§ï¼šåœ¨ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œä¸äº‘ä¸­ä¸€æ ·ã€‚ äº‘å’Œæ“ä½œç³»ç»Ÿçš„å¯ç§»æ¤æ€§ï¼šå¯è¿è¡Œåœ¨ Ubuntuï¼Œ RHELï¼ŒCoreOSï¼Œå†…éƒ¨éƒ¨ç½²ï¼Œ Google å®¹å™¨å¼•æ“å’Œå…¶ä»–ä»»ä½•åœ°æ–¹ã€‚ æ¾è€¦åˆã€åˆ†å¸ƒå¼ã€å¼¹æ€§ä¼¸ç¼©_å¾®æœåŠ¡_: åº”ç”¨ç¨‹åºè¢«åˆ†æˆæ›´å°ï¼Œæ›´ç‹¬ç«‹çš„éƒ¨åˆ†ï¼Œå¯ä»¥åŠ¨æ€éƒ¨ç½²å’Œç®¡ç† - è€Œä¸æ˜¯å·¨å‹å•ä½“åº”ç”¨è¿è¡Œåœ¨ä¸“ç”¨çš„å¤§å‹æœºä¸Šã€‚ èµ„æºéš”ç¦»ï¼šé€šè¿‡å¯¹åº”ç”¨è¿›è¡Œèµ„æºéš”ç¦»ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„é¢„æµ‹åº”ç”¨ç¨‹åºæ€§èƒ½ã€‚ èµ„æºåˆ©ç”¨ï¼šé«˜æ•ˆç‡å’Œé«˜å¯†åº¦ ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ Kubernetesï¼Œ å®ƒèƒ½åšä»€ä¹ˆï¼Ÿ æœ€åŸºç¡€çš„ï¼ŒKubernetes å¯ä»¥åœ¨ç‰©ç†æˆ–è™šæ‹Ÿæœºé›†ç¾¤ä¸Šè°ƒåº¦å’Œè¿è¡Œåº”ç”¨ç¨‹åºå®¹å™¨ã€‚ç„¶è€Œï¼ŒKubernetes è¿˜å…è®¸å¼€å‘äººå‘˜ä»ç‰©ç†å’Œè™šæ‹Ÿæœº â€œè„±ç¦»â€ï¼Œ ä»ä»¥ä¸»æœºä¸ºä¸­å¿ƒçš„åŸºç¡€æ¶æ„è½¬ä¹‰åˆ°ä»¥å®¹å™¨ä¸ºä¸­å¿ƒçš„åŸºç¡€æ¶æ„ï¼Œè¿™æ ·å¯ä»¥æä¾›å®¹å™¨å›ºæœ‰çš„å…¨éƒ¨ä¼˜ç‚¹å’Œç›Šå¤„ã€‚Kubernetes æä¾›äº†åŸºç¡€è®¾æ–½æ¥æ„å»ºä¸€ä¸ªçœŸæ­£ä»¥å®¹å™¨ä¸ºä¸­å¿ƒçš„å¼€å‘ç¯å¢ƒã€‚ Kubernetes æ»¡è¶³äº†ç”Ÿäº§ä¸­è¿è¡Œåº”ç”¨ç¨‹åºçš„è®¸å¤šå¸¸è§çš„éœ€æ±‚ï¼Œä¾‹å¦‚ï¼š Pod æä¾›ç¬¦åˆåº”ç”¨å¹¶ä¿ç•™ä¸€ä¸ªåº”ç”¨ä¸€ä¸ªå®¹å™¨çš„å®¹å™¨æ¨¡å‹ã€‚ æŒ‚è½½å¤–éƒ¨å­˜å‚¨ Secretç®¡ç† åº”ç”¨å¥åº·æ£€æŸ¥ å‰¯æœ¬åº”ç”¨å®ä¾‹ æ¨ªå‘è‡ªåŠ¨æ‰©å®¹ æœåŠ¡å‘ç° è´Ÿè½½å‡è¡¡ æ»šåŠ¨æ›´æ–° èµ„æºç›‘æµ‹ æ—¥å¿—é‡‡é›†å’Œå­˜å‚¨ æ”¯æŒè‡ªæ£€å’Œè°ƒè¯• è®¤è¯å’Œé‰´æƒ è¿™æä¾›äº†å¹³å°å³æœåŠ¡ (PASS) çš„ç®€å•æ€§ä»¥åŠåŸºç¡€æ¶æ„å³æœåŠ¡ (IAAS) çš„çµæ´»æ€§ï¼Œå¹¶ä¿ƒè¿›è·¨åŸºç¡€è®¾æ–½ä¾›åº”å•†çš„å¯ç§»æ¤æ€§ã€‚ ä¸ºä»€ä¹ˆ Kubernetes æ˜¯ä¸€ä¸ªå¹³å°ï¼Ÿ Kubernetes æä¾›äº†å¾ˆå¤šçš„åŠŸèƒ½ï¼Œæ€»ä¼šæœ‰æ–°çš„åœºæ™¯å—ç›Šäºæ–°ç‰¹æ€§ã€‚å®ƒå¯ä»¥ç®€åŒ–åº”ç”¨ç¨‹åºçš„å·¥ä½œæµï¼ŒåŠ å¿«å¼€å‘é€Ÿåº¦ã€‚è¢«å¤§å®¶è®¤å¯çš„åº”ç”¨ç¼–æ’é€šå¸¸éœ€è¦æœ‰è¾ƒå¼ºçš„è‡ªåŠ¨åŒ–èƒ½åŠ›ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Kubernetes è¢«è®¾è®¡ä½œä¸ºæ„å»ºç»„ä»¶å’Œå·¥å…·çš„ç”Ÿæ€ç³»ç»Ÿå¹³å°ï¼Œä»¥ä¾¿è½»æ¾åœ°éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†åº”ç”¨ç¨‹åºã€‚ Label å…è®¸ç”¨æˆ·æŒ‰ç…§è‡ªå·±çš„æ–¹å¼ç»„ç»‡ç®¡ç†å¯¹åº”çš„èµ„æºã€‚Annotation ä½¿ç”¨æˆ·èƒ½å¤Ÿä»¥è‡ªå®šä¹‰çš„æè¿°ä¿¡æ¯æ¥ä¿®é¥°èµ„æºï¼Œä»¥é€‚ç”¨è‡ªå·±çš„å·¥ä½œæµï¼Œå¹¶ä¸ºç®¡ç†å·¥å…·æä¾›æ£€æŸ¥ç‚¹çŠ¶æ€çš„ç®€å•æ–¹æ³•ã€‚ Edit This Page è®¤è¯† Kubernetes? Kubernetes å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹:å‡†å¤‡å¥½ å¼€å§‹?ä¸ºä»€ä¹ˆæ˜¯å®¹å™¨?ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ Kubernetesï¼Œå®ƒèƒ½åšä»€ä¹ˆ?ä¸ºä»€ä¹ˆ Kubernetes æ˜¯ä¸€ä¸ªå¹³å°?Kubernetes ä¸æ˜¯ä»€ä¹ˆ:Kubernetes æ˜¯ä»€ä¹ˆæ„æ€? K8s? Kubernetes æ˜¯ä¸€ä¸ªè·¨ä¸»æœºé›†ç¾¤çš„ å¼€æºçš„å®¹å™¨è°ƒåº¦å¹³å°ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨åŒ–åº”ç”¨å®¹å™¨çš„éƒ¨ç½²ã€æ‰©å±•å’Œæ“ä½œ , æä¾›ä»¥å®¹å™¨ä¸ºä¸­å¿ƒçš„åŸºç¡€æ¶æ„ã€‚ ä½¿ç”¨ Kubernetes, æ‚¨å¯ä»¥å¿«é€Ÿé«˜æ•ˆåœ°å“åº”å®¢æˆ·éœ€æ±‚: å¿«é€Ÿã€å¯é¢„æµ‹åœ°éƒ¨ç½²æ‚¨çš„åº”ç”¨ç¨‹åº æ‹¥æœ‰å³æ—¶æ‰©å±•åº”ç”¨ç¨‹åºçš„èƒ½åŠ› ä¸å½±å“ç°æœ‰ä¸šåŠ¡çš„æƒ…å†µä¸‹ï¼Œæ— ç¼åœ°å‘å¸ƒæ–°åŠŸèƒ½ ä¼˜åŒ–ç¡¬ä»¶èµ„æºï¼Œé™ä½æˆæœ¬ æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªè½¯ä»¶å’Œå·¥å…·çš„ç”Ÿæ€ç³»ç»Ÿï¼Œä»¥å‡è½»æ‚¨åœ¨å…¬å…±äº‘æˆ–ç§æœ‰äº‘è¿è¡Œåº”ç”¨ç¨‹åºçš„è´Ÿæ‹…ã€‚ Kubernetes å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹: ä¾¿æºæ€§: æ— è®ºå…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€æ··åˆäº‘è¿˜æ˜¯å¤šäº‘æ¶æ„éƒ½å…¨é¢æ”¯æŒ å¯æ‰©å±•: å®ƒæ˜¯æ¨¡å—åŒ–ã€å¯æ’æ‹”ã€å¯æŒ‚è½½ã€å¯ç»„åˆçš„ï¼Œæ”¯æŒå„ç§å½¢å¼çš„æ‰©å±• è‡ªä¿®å¤: å®ƒå¯ä»¥è‡ªä¿æŒåº”ç”¨çŠ¶æ€ã€å¯è‡ªé‡å¯ã€è‡ªå¤åˆ¶ã€è‡ªç¼©æ”¾çš„ï¼Œé€šè¿‡å£°æ˜å¼è¯­æ³•æä¾›äº†å¼ºå¤§çš„è‡ªä¿®å¤èƒ½åŠ› Kubernetes é¡¹ç›®ç”± Google å…¬å¸åœ¨ 2014 å¹´å¯åŠ¨ã€‚Kubernetes å»ºç«‹åœ¨ Google å…¬å¸è¶…è¿‡åä½™å¹´çš„è¿ç»´ç»éªŒåŸºç¡€ä¹‹ä¸Šï¼ŒGoogle æ‰€æœ‰çš„åº”ç”¨éƒ½è¿è¡Œåœ¨å®¹å™¨ä¸Š, å†ä¸ç¤¾åŒºä¸­æœ€å¥½çš„æƒ³æ³•å’Œå®è·µç›¸ç»“åˆï¼Œä¹Ÿè®¸å®ƒæ˜¯æœ€å—æ¬¢è¿çš„å®¹å™¨å¹³å°ã€‚ å‡†å¤‡å¥½ å¼€å§‹? ä¸ºä»€ä¹ˆæ˜¯å®¹å™¨? æŸ¥çœ‹æ­¤æ–‡ï¼Œå¯ä»¥äº†è§£ä¸ºä»€ä¹ˆæ‚¨è¦ä½¿ç”¨å®¹å™¨ å®¹å™¨? ä¼ ç»Ÿ éƒ¨ç½²åº”ç”¨ç¨‹åºçš„æ–¹å¼ï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„åŒ…ç®¡ç†å™¨åœ¨ä¸»æœºä¸Šå®‰è£…åº”ç”¨ä¾èµ–ï¼Œä¹‹åå†å®‰è£…åº”ç”¨ç¨‹åºã€‚è¿™æ— ç–‘å°†åº”ç”¨ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ã€åº”ç”¨çš„é…ç½®ã€åº”ç”¨ä¾èµ–åº“å’Œåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¸å®¿ä¸»æœºæ“ä½œç³»ç»Ÿè¿›è¡Œäº†ç´§è€¦åˆã€‚åœ¨æ­¤æƒ…å¢ƒä¸‹ï¼Œå¯ä»¥é€šè¿‡æ„å»ºä¸å¯æ”¹å˜çš„è™šæ‹Ÿæœºé•œåƒç‰ˆæœ¬ï¼Œé€šè¿‡é•œåƒç‰ˆæœ¬å®ç°å¯é¢„æµ‹çš„å‘å¸ƒå’Œå›æ»šï¼Œä½†æ˜¯è™šæ‹Ÿæœºå®åœ¨æ˜¯å¤ªé‡é‡çº§äº†ï¼Œä¸”é•œåƒä½“ç§¯å¤ªåºå¤§ï¼Œä¾¿æ·æ€§å·®ã€‚ æ–°æ–¹å¼ æ˜¯åŸºäºæ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–è€Œä¸æ˜¯ç¡¬ä»¶çº§è™šæ‹ŸåŒ–æ–¹æ³•æ¥éƒ¨ç½²å®¹å™¨ã€‚å®¹å™¨ä¹‹é—´å½¼æ­¤éš”ç¦»å¹¶ä¸ä¸»æœºéš”ç¦»ï¼šå®ƒä»¬å…·æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä¸èƒ½çœ‹åˆ°å½¼æ­¤çš„è¿›ç¨‹ï¼Œå¹¶ä¸”å®ƒä»¬æ‰€ä½¿ç”¨çš„è®¡ç®—èµ„æºæ˜¯å¯ä»¥è¢«é™åˆ¶çš„ã€‚å®ƒä»¬æ¯”è™šæ‹Ÿæœºæ›´å®¹æ˜“æ„å»ºï¼Œå¹¶ä¸”å› ä¸ºå®ƒä»¬ä¸åº•å±‚åŸºç¡€æ¶æ„å’Œä¸»æœºæ–‡ä»¶ç³»ç»Ÿéš”ç¦»ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥è·¨äº‘å’Œæ“ä½œç³»ç»Ÿå¿«é€Ÿåˆ†å‘ã€‚ ç”±äºå®¹å™¨ä½“ç§¯å°ä¸”å¯åŠ¨å¿«ï¼Œå› æ­¤å¯ä»¥åœ¨æ¯ä¸ªå®¹å™¨é•œåƒä¸­æ‰“åŒ…ä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚è¿™ç§ä¸€å¯¹ä¸€çš„åº”ç”¨é•œåƒå…³ç³»æ‹¥æœ‰å¾ˆå¤šå¥½å¤„ã€‚ä½¿ç”¨å®¹å™¨ï¼Œä¸éœ€è¦ä¸å¤–éƒ¨çš„åŸºç¡€æ¶æ„ç¯å¢ƒç»‘å®š, å› ä¸ºæ¯ä¸€ä¸ªåº”ç”¨ç¨‹åºéƒ½ä¸éœ€è¦å¤–éƒ¨ä¾èµ–ï¼Œæ›´ä¸éœ€è¦ä¸å¤–éƒ¨çš„åŸºç¡€æ¶æ„ç¯å¢ƒä¾èµ–ã€‚å®Œç¾è§£å†³äº†ä»å¼€å‘åˆ°ç”Ÿäº§ç¯å¢ƒçš„ä¸€è‡´æ€§é—®é¢˜ã€‚ å®¹å™¨åŒæ ·æ¯”è™šæ‹Ÿæœºæ›´åŠ é€æ˜ï¼Œè¿™æœ‰åŠ©äºç›‘æµ‹å’Œç®¡ç†ã€‚å°¤å…¶æ˜¯å®¹å™¨è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸç”±åŸºç¡€è®¾æ–½ç®¡ç†ï¼Œè€Œä¸æ˜¯ç”±å®¹å™¨å†…çš„è¿›ç¨‹å¯¹å¤–éšè—æ—¶æ›´æ˜¯å¦‚æ­¤ã€‚æœ€åï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºç”¨å®¹å™¨å°è£…ï¼Œç®¡ç†å®¹å™¨éƒ¨ç½²å°±ç­‰åŒäºç®¡ç†åº”ç”¨ç¨‹åºéƒ¨ç½²ã€‚ å®¹å™¨ä¼˜ç‚¹æ‘˜è¦: æ•æ·çš„åº”ç”¨ç¨‹åºåˆ›å»ºå’Œéƒ¨ç½²: ä¸è™šæ‹Ÿæœºé•œåƒç›¸æ¯”ï¼Œå®¹å™¨é•œåƒæ›´å®¹æ˜“åˆ›å»ºï¼Œæå‡äº†ç¡¬ä»¶çš„ä½¿ç”¨æ•ˆç‡ã€‚ æŒç»­å¼€å‘ã€é›†æˆå’Œéƒ¨ç½²: æä¾›å¯é ä¸é¢‘ç¹çš„å®¹å™¨é•œåƒæ„å»ºå’Œéƒ¨ç½²ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åŠå¿«é€Ÿçš„å›æ»š (ç”±äºé•œåƒä¸å¯å˜æ€§). å…³æ³¨å¼€å‘ä¸è¿ç»´çš„åˆ†ç¦»: åœ¨æ„å»º/å‘å¸ƒæ—¶åˆ›å»ºåº”ç”¨ç¨‹åºå®¹å™¨é•œåƒï¼Œä»è€Œå°†åº”ç”¨ç¨‹åºä¸åŸºç¡€æ¶æ„åˆ†ç¦»ã€‚ å¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒçš„ä¸€è‡´æ€§: åœ¨ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œä¸äº‘ä¸­ä¸€æ ·ã€‚ äº‘å’Œæ“ä½œç³»ç»Ÿçš„å¯ç§»æ¤æ€§: å¯è¿è¡Œåœ¨ Ubuntu, RHEL, CoreOS, å†…éƒ¨éƒ¨ç½², Google å®¹å™¨å¼•æ“å’Œå…¶ä»–ä»»ä½•åœ°æ–¹ã€‚ ä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„ç®¡ç†: æå‡äº†æ“ä½œç³»ç»Ÿçš„æŠ½è±¡çº§åˆ«ï¼Œä»¥ä¾¿åœ¨ä½¿ç”¨é€»è¾‘èµ„æºçš„æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œåº”ç”¨ç¨‹åºã€‚ æ¾è€¦åˆã€åˆ†å¸ƒå¼ã€å¼¹æ€§ä¼¸ç¼© å¾®æœåŠ¡: åº”ç”¨ç¨‹åºè¢«åˆ†æˆæ›´å°ï¼Œæ›´ç‹¬ç«‹çš„éƒ¨åˆ†ï¼Œå¯ä»¥åŠ¨æ€éƒ¨ç½²å’Œç®¡ç† - è€Œä¸æ˜¯å·¨å‹å•ä½“åº”ç”¨è¿è¡Œåœ¨ä¸“ç”¨çš„å¤§å‹æœºä¸Šã€‚ èµ„æºéš”ç¦»: é€šè¿‡å¯¹åº”ç”¨è¿›è¡Œèµ„æºéš”ç¦»ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„é¢„æµ‹åº”ç”¨ç¨‹åºæ€§èƒ½ã€‚ èµ„æºåˆ©ç”¨: é«˜æ•ˆç‡å’Œé«˜å¯†åº¦ã€‚ ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ Kubernetesï¼Œå®ƒèƒ½åšä»€ä¹ˆ? æœ€åŸºç¡€çš„ï¼ŒKubernetes å¯ä»¥åœ¨ç‰©ç†æˆ–è™šæ‹Ÿæœºé›†ç¾¤ä¸Šè°ƒåº¦å’Œè¿è¡Œåº”ç”¨ç¨‹åºå®¹å™¨ã€‚ç„¶è€Œï¼ŒKubernetes è¿˜å…è®¸å¼€å‘äººå‘˜ä»ç‰©ç†å’Œè™šæ‹Ÿæœºâ€™è„±ç¦»â€™ï¼Œä»ä»¥ä¸»æœºä¸ºä¸­å¿ƒçš„åŸºç¡€æ¶æ„è½¬ç§»åˆ°ä»¥å®¹å™¨ä¸ºä¸­å¿ƒçš„åŸºç¡€æ¶æ„ï¼Œè¿™æ ·å¯ä»¥æä¾›å®¹å™¨å›ºæœ‰çš„å…¨éƒ¨ä¼˜ç‚¹å’Œç›Šå¤„ã€‚Kubernetes æä¾›äº†åŸºç¡€è®¾æ–½æ¥æ„å»ºä¸€ä¸ªçœŸæ­£ä»¥å®¹å™¨ä¸ºä¸­å¿ƒçš„å¼€å‘ç¯å¢ƒã€‚ Kubernetes æ»¡è¶³äº†ç”Ÿäº§ä¸­è¿è¡Œåº”ç”¨ç¨‹åºçš„è®¸å¤šå¸¸è§çš„éœ€æ±‚ï¼Œä¾‹å¦‚ï¼š Pod æä¾›å¤åˆåº”ç”¨å¹¶ä¿ç•™ä¸€ä¸ªåº”ç”¨ä¸€ä¸ªå®¹å™¨çš„å®¹å™¨æ¨¡å‹, æŒ‚è½½å¤–éƒ¨å­˜å‚¨, Secretç®¡ç†, åº”ç”¨å¥åº·æ£€æŸ¥, å‰¯æœ¬åº”ç”¨å®ä¾‹, æ¨ªå‘è‡ªåŠ¨æ‰©ç¼©å®¹, æœåŠ¡å‘ç°, è´Ÿè½½å‡è¡¡, æ»šåŠ¨æ›´æ–°, èµ„æºç›‘æµ‹, æ—¥å¿—é‡‡é›†å’Œå­˜å‚¨, æ”¯æŒè‡ªæ£€å’Œè°ƒè¯•, è®¤è¯å’Œé‰´æƒ. è¿™æä¾›äº†å¹³å°å³æœåŠ¡ (PAAS) çš„ç®€å•æ€§ä»¥åŠåŸºç¡€æ¶æ„å³æœåŠ¡ (IAAS) çš„çµæ´»æ€§ï¼Œå¹¶ä¿ƒè¿›è·¨åŸºç¡€è®¾æ–½ä¾›åº”å•†çš„å¯ç§»æ¤æ€§ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… ç”¨æˆ·æŒ‡å—. ä¸ºä»€ä¹ˆ Kubernetes æ˜¯ä¸€ä¸ªå¹³å°? Kubernetes æä¾›äº†å¾ˆå¤šçš„åŠŸèƒ½ï¼Œæ€»ä¼šæœ‰æ–°çš„åœºæ™¯å—ç›Šäºæ–°ç‰¹æ€§ã€‚å®ƒå¯ä»¥ç®€åŒ–åº”ç”¨ç¨‹åºçš„å·¥ä½œæµï¼ŒåŠ å¿«å¼€å‘é€Ÿåº¦ã€‚è¢«å¤§å®¶è®¤å¯çš„åº”ç”¨ç¼–æ’é€šå¸¸éœ€è¦æœ‰è¾ƒå¼ºçš„è‡ªåŠ¨åŒ–èƒ½åŠ›ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Kubernetes è¢«è®¾è®¡ä½œä¸ºæ„å»ºç»„ä»¶å’Œå·¥å…·çš„ç”Ÿæ€ç³»ç»Ÿå¹³å°ï¼Œä»¥ä¾¿æ›´è½»æ¾åœ°éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†åº”ç”¨ç¨‹åºã€‚ Label å…è®¸ç”¨æˆ·æŒ‰ç…§è‡ªå·±çš„æ–¹å¼ç»„ç»‡ç®¡ç†å¯¹åº”çš„èµ„æºã€‚ æ³¨è§£ ä½¿ç”¨æˆ·èƒ½å¤Ÿä»¥è‡ªå®šä¹‰çš„æè¿°ä¿¡æ¯æ¥ä¿®é¥°èµ„æºï¼Œä»¥é€‚ç”¨äºè‡ªå·±çš„å·¥ä½œæµï¼Œå¹¶ä¸ºç®¡ç†å·¥å…·æä¾›æ£€æŸ¥ç‚¹çŠ¶æ€çš„ç®€å•æ–¹æ³•ã€‚ æ­¤å¤–ï¼ŒKubernetes æ§åˆ¶é¢ (Control Plane) æ˜¯æ„å»ºåœ¨ç›¸åŒçš„ APIs ä¸Šé¢ï¼Œå¼€å‘äººå‘˜å’Œç”¨æˆ·éƒ½å¯ä»¥ç”¨ã€‚ç”¨æˆ·å¯ä»¥ç¼–å†™è‡ªå·±çš„æ§åˆ¶å™¨ï¼Œ è°ƒåº¦å™¨ç­‰ç­‰ï¼Œå¦‚æœè¿™ä¹ˆåšï¼Œæ ¹æ®æ–°åŠ çš„è‡ªå®šä¹‰ API ï¼Œå¯ä»¥æ‰©å±•å½“å‰çš„é€šç”¨ CLI å‘½ä»¤è¡Œå·¥å…·ã€‚ è¿™ç§ è®¾è®¡ ä½¿å¾—è®¸å¤šå…¶ä»–ç³»ç»Ÿå¯ä»¥æ„å»ºåœ¨ Kubernetes ä¹‹ä¸Šã€‚ Kubernetes ä¸æ˜¯ä»€ä¹ˆï¼š Kubernetes ä¸æ˜¯ä¸€ä¸ªä¼ ç»Ÿæ„ä¹‰ä¸Šï¼ŒåŒ…ç½—ä¸‡è±¡çš„ PaaS (å¹³å°å³æœåŠ¡) ç³»ç»Ÿã€‚æˆ‘ä»¬ä¿ç•™ç”¨æˆ·é€‰æ‹©çš„è‡ªç”±ï¼Œè¿™éå¸¸é‡è¦ã€‚ Kubernetes ä¸é™åˆ¶æ”¯æŒçš„åº”ç”¨ç¨‹åºç±»å‹ã€‚ å®ƒä¸æ’æ‰‹åº”ç”¨ç¨‹åºæ¡†æ¶ (ä¾‹å¦‚ Wildfly), ä¸é™åˆ¶æ”¯æŒçš„è¯­è¨€è¿è¡Œæ—¶ (ä¾‹å¦‚ Java, Python, Ruby)ï¼Œåªè¿åˆç¬¦åˆ 12ç§å› ç´ çš„åº”ç”¨ç¨‹åºï¼Œä¹Ÿä¸åŒºåˆ†â€åº”ç”¨ç¨‹åºâ€ä¸â€æœåŠ¡â€ã€‚Kubernetes æ—¨åœ¨æ”¯æŒæå…¶å¤šæ ·åŒ–çš„å·¥ä½œè´Ÿè½½ï¼ŒåŒ…æ‹¬æ— çŠ¶æ€ã€æœ‰çŠ¶æ€å’Œæ•°æ®å¤„ç†å·¥ä½œè´Ÿè½½ã€‚å¦‚æœåº”ç”¨å¯ä»¥åœ¨å®¹å™¨ä¸­è¿è¡Œï¼Œå®ƒå°±å¯ä»¥åœ¨ Kubernetes ä¸Šè¿è¡Œã€‚ Kubernetes ä¸æä¾›ä½œä¸ºå†…ç½®æœåŠ¡çš„ä¸­é—´ä»¶ (ä¾‹å¦‚ æ¶ˆæ¯ä¸­é—´ä»¶)ã€æ•°æ®å¤„ç†æ¡†æ¶ (ä¾‹å¦‚ Spark)ã€æ•°æ®åº“ (ä¾‹å¦‚ mysql)æˆ–é›†ç¾¤å­˜å‚¨ç³»ç»Ÿ (ä¾‹å¦‚ Ceph)ã€‚è¿™äº›åº”ç”¨å¯ä»¥è¿è¡Œåœ¨ Kubernetes ä¸Šã€‚ Kubernetes æ²¡æœ‰æä¾›ç‚¹å‡»å³éƒ¨ç½²çš„æœåŠ¡å¸‚åœºã€‚ Kubernetes ä»æºä»£ç åˆ°é•œåƒéƒ½æ˜¯éå„æ–­çš„ã€‚ å®ƒä¸éƒ¨ç½²æºä»£ç ä¸”ä¸æ„å»ºæ‚¨çš„åº”ç”¨ç¨‹åºã€‚ æŒç»­é›†æˆ (CI) å·¥ä½œæµæ˜¯ä¸€ä¸ªä¸åŒç”¨æˆ·å’Œé¡¹ç›®éƒ½æœ‰è‡ªå·±éœ€æ±‚å’Œåå¥½çš„é¢†åŸŸã€‚ æ‰€ä»¥æˆ‘ä»¬æ”¯æŒåœ¨ Kubernetes åˆ†å±‚çš„ CI å·¥ä½œæµï¼Œä½†ä¸æŒ‡å®šå®ƒåº”è¯¥å¦‚ä½•å·¥ä½œã€‚ Kubernetes å…è®¸ç”¨æˆ·é€‰æ‹©å…¶ä»–çš„æ—¥å¿—è®°å½•ï¼Œç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿ (è™½ç„¶æˆ‘ä»¬æä¾›ä¸€äº›é›†æˆä½œä¸ºæ¦‚å¿µéªŒè¯) Kubernetes ä¸æä¾›æˆ–æˆæƒä¸€ä¸ªå…¨é¢çš„åº”ç”¨ç¨‹åºé…ç½®è¯­è¨€/ç³»ç»Ÿ (ä¾‹å¦‚ jsonnet). Kubernetes ä¸æä¾›ä¹Ÿä¸é‡‡ç”¨ä»»ä½•å…¨é¢æœºå™¨é…ç½®ã€ä¿å…»ã€ç®¡ç†æˆ–è‡ªæˆ‘ä¿®å¤ç³»ç»Ÿ å¦ä¸€æ–¹é¢ï¼Œè®¸å¤š PaaS ç³»ç»Ÿè¿è¡Œ åœ¨ Kubernetes ä¸Šé¢ï¼Œä¾‹å¦‚ Openshift, Deis, and Eldarionã€‚ æ‚¨ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ‚¨è‡ªå·±çš„ PaaS, ä¸æ‚¨é€‰æ‹©çš„ CI ç³»ç»Ÿé›†æˆï¼Œæˆ–ä¸ Kubernetes ä¸€èµ·ä½¿ç”¨: å°†æ‚¨çš„å®¹å™¨é•œåƒéƒ¨ç½²åˆ° Kubernetesã€‚ ç”±äº Kubernetes åœ¨åº”ç”¨çº§åˆ«è€Œä¸ä»…ä»…åœ¨ç¡¬ä»¶çº§åˆ«ä¸Šè¿è¡Œï¼Œå› æ­¤å®ƒæä¾› PaaS äº§å“é€šç”¨çš„ä¸€äº›åŠŸèƒ½ï¼Œä¾‹å¦‚éƒ¨ç½²ã€æ‰©å±•ã€è´Ÿè½½å‡è¡¡ã€æ—¥å¿—è®°å½•ã€ç›‘æ§ç­‰ã€‚ä½†æ˜¯ï¼ŒKubernetes ä¸æ˜¯å•ä¸€çš„ï¼Œé»˜è®¤è§£å†³æ–¹æ¡ˆæ˜¯å¯é€‰å’Œå¯æ’æ‹”çš„ã€‚ æ­¤å¤„ï¼ŒKubernetes ä¸ä»…ä»…æ˜¯ä¸€ä¸ª â€œç¼–æ’ç³»ç»Ÿâ€ï¼›å®ƒæ¶ˆé™¤äº†ç¼–æ’çš„éœ€è¦ã€‚ â€œç¼–æ’â€æŠ€æœ¯å®šä¹‰çš„æ˜¯å·¥ä½œæµçš„æ‰§è¡Œ: ä» A åˆ° Bï¼Œç„¶ååˆ° Cã€‚ç›¸åï¼ŒKubernetes æ˜¯åŒ…æ‹¬ä¸€å¥—ç‹¬ç«‹ã€å¯ç»„åˆçš„æ§åˆ¶è¿‡ç¨‹ï¼Œé€šè¿‡å£°æ˜å¼è¯­æ³•ä½¿å…¶è¿ç»­åœ°æœç€æœŸæœ›çŠ¶æ€é©±åŠ¨å½“å‰çŠ¶æ€ã€‚ ä¸éœ€è¦å‘Šè¯‰å®ƒå…·ä½“ä» A åˆ° C çš„è¿‡ç¨‹ï¼Œåªè¦å‘Šè¯‰åˆ° C çš„çŠ¶æ€å³å¯ã€‚ ä¹Ÿä¸éœ€è¦é›†ä¸­æ§åˆ¶ï¼›è¯¥æ–¹æ³•æ›´ç±»ä¼¼äºâ€ç¼–èˆâ€ã€‚è¿™ä½¿å¾—ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨å¹¶ä¸”æ›´å¼ºå¤§ã€æ›´å¯é ã€æ›´å…·å¼¹æ€§å’Œå¯æ‰©å±•æ€§ã€‚ Kubernetes æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸK8s? åç§° Kubernetes æºäºå¸Œè…Šè¯­ï¼Œæ„ä¸º â€œèˆµæ‰‹â€ æˆ– â€œé£è¡Œå‘˜â€ ï¼Œä¸”æ˜¯åº”ä¸º â€œgovernorâ€ å’Œ â€œcyberneticâ€ çš„è¯æ ¹ã€‚K8s æ˜¯é€šè¿‡å°† 8 ä¸ªå­—æ¯ â€œuberneteâ€ æ›¿æ¢ä¸º 8 è€Œå¯¼å‡ºçš„ç¼©å†™ã€‚å¦å¤–ï¼Œåœ¨ä¸­æ–‡é‡Œï¼Œk8s çš„å‘éŸ³ä¸ Kubernetes çš„å‘éŸ³æ¯”è¾ƒæ¥è¿‘ã€‚","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/categories/kubernetes/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/tags/kubernetes/"}]},{"title":"Kubernetes-æ¦‚å¿µ","slug":"kubernates/1.kubernetes-æ¦‚å¿µ","date":"2019-05-27T16:00:00.000Z","updated":"2019-12-08T06:01:50.868Z","comments":true,"path":"2019/05/28/kubernates/1.kubernetes-æ¦‚å¿µ/","link":"","permalink":"https://jokinglove.com/blog/2019/05/28/kubernates/1.kubernetes-æ¦‚å¿µ/","excerpt":"æ¦‚å¿µ æ¦‚å¿µéƒ¨åˆ†å¯ä»¥å¸®åŠ©ä½ äº†è§£ Kubernetes çš„å„ä¸ªç»„æˆéƒ¨åˆ†ä»¥åŠ Kubernetes ç”¨æ¥è¡¨ç¤ºé›†ç¾¤çš„ä¸€äº›æŠ½è±¡æ¦‚å¿µï¼Œå¹¶å¸®åŠ©ä½ æ›´åŠ æ·±å…¥çš„ç†è§£ Kubernetes æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ æ¦‚è¿° [ Kubernetes å¯¹è±¡ ](# Kubernetes å¯¹è±¡) [Kubernetes æ§åˆ¶é¢](#Kubernetes æ§åˆ¶é¢) æ¥ä¸‹æ¥","text":"æ¦‚å¿µ æ¦‚å¿µéƒ¨åˆ†å¯ä»¥å¸®åŠ©ä½ äº†è§£ Kubernetes çš„å„ä¸ªç»„æˆéƒ¨åˆ†ä»¥åŠ Kubernetes ç”¨æ¥è¡¨ç¤ºé›†ç¾¤çš„ä¸€äº›æŠ½è±¡æ¦‚å¿µï¼Œå¹¶å¸®åŠ©ä½ æ›´åŠ æ·±å…¥çš„ç†è§£ Kubernetes æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ æ¦‚è¿° [ Kubernetes å¯¹è±¡ ](# Kubernetes å¯¹è±¡) [Kubernetes æ§åˆ¶é¢](#Kubernetes æ§åˆ¶é¢) æ¥ä¸‹æ¥ æ¦‚è¿° è¦ä½¿ç”¨ Kubernetesï¼Œä½ éœ€è¦ä½¿ç”¨ Kubernates API å¯¹è±¡æ¥æè¿°é›†ç¾¤çš„é¢„æœŸçŠ¶æ€ (desired state) ï¼šåŒ…æ‹¬ä½ éœ€è¦è¿è¡Œçš„åº”ç”¨æˆ–è€…è´Ÿè½½ï¼Œå®ƒä»¬ä½¿ç”¨çš„é•œåƒã€å‰¯æœ¬æ•°ï¼Œä»¥åŠæ‰€éœ€ç½‘ç»œå’Œç£ç›˜èµ„æºç­‰ç­‰ã€‚ä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…· kubectl æ¥è°ƒç”¨ Kubernetes API åˆ›å»ºå¯¹è±¡ï¼Œé€šè¿‡æ‰€åˆ›å»ºçš„è¿™äº›å¯¹è±¡æ¥é…ç½®é¢„æœŸçŠ¶æ€ã€‚ä½ ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ Kubernetes API å’Œé›†ç¾¤è¿›è¡Œäº¤äº’ï¼Œè®¾ç½®æˆ–è€…ä¿®æ”¹é¢„æœŸçŠ¶æ€ã€‚ ä¸€æ—¦ä½ è®¾ç½®äº†æ‰€éœ€çš„ç›®æ ‡çŠ¶æ€ï¼Œ Kubernetes æ§åˆ¶é¢ (control plane) ä¼šä¿ƒæˆé›†ç¾¤çš„å½“å‰çŠ¶æ€ç¬¦åˆå…¶é¢„æœŸçŠ¶æ€ã€‚ä¸ºæ­¤ï¼Œ Kubernetes ä¼šè‡ªåŠ¨æ‰§è¡Œå„ç±»ä»»åŠ¡ï¼Œæ¯”å¦‚è¿è¡Œæˆ–è€…é‡å¯å®¹å™¨ã€è°ƒæ•´ç»™å®šåº”ç”¨çš„å‰¯æœ¬æ•°ç­‰ç­‰ã€‚ Kubernetes æ§åˆ¶é¢ç”±ä¸€ç»„è¿è¡Œåœ¨é›†ç¾¤ä¸Šçš„è¿›ç¨‹ç»„æˆï¼š Kubernetes ä¸»æ§ç»„ä»¶ï¼ˆMasterï¼‰ åŒ…å«ä¸‰ä¸ªè¿›ç¨‹ï¼Œéƒ½è¿è¡Œåœ¨é›†ç¾¤ä¸­çš„æŸä¸ªèŠ‚ä¸Šï¼Œé€šå¸¸è¿™ä¸ªèŠ‚ç‚¹è¢«ç§°ä¸º master èŠ‚ç‚¹ã€‚è¿™äº›è¿›ç¨‹åŒ…æ‹¬ï¼škube-apiserverã€kube-controller-manager å’Œ kube-schedulerã€‚ é›†ç¾¤ä¸­çš„æ¯ä¸ªé master èŠ‚ç‚¹éƒ½è¿è¡Œä¸¤ä¸ªè¿›ç¨‹ï¼š kubelet, å’Œ master èŠ‚ç‚¹è¿›è¡Œé€šä¿¡ã€‚ kube-proxy, ä¸€ç§ç½‘ç»œä»£ç†ï¼Œå°† Kubernetes çš„ç½‘ç»œæœåŠ¡ä»£ç†åˆ°æ¯ä¸ªèŠ‚ç‚¹ä¸Šã€‚ Kubernetes å¯¹è±¡ Kubernetes åŒ…å«è‹¥å¹²æŠ½è±¡ç”¨æ¥è¡¨ç¤ºç³»ç»ŸçŠ¶æ€ï¼ŒåŒ…æ‹¬ï¼šå·²éƒ¨ç½²çš„å®¹å™¨åŒ–åº”ç”¨å’Œè´Ÿè½½ã€ä¸å®ƒä»¬ç›¸å…³çš„ç½‘ç»œå’Œç£ç›˜èµ„æºä»¥åŠæœ‰å…³é›†ç¾¤è¿è¡Œçš„å…¶ä»–æ“ä½œä¿¡æ¯ã€‚è¿™äº›æŠ½è±¡ä½¿ç”¨ Kubernetes API å¯¹è±¡æ¥è¡¨ç¤ºã€‚å‚é˜… Kubernetes å¯¹è±¡æ¦‚è¿° æ¥äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚ åŸºæœ¬çš„ Kubernetes å¯¹è±¡åŒ…æ‹¬ï¼š * [Pod](https://kubernetes.io/docs/concepts/workloads/pods/pod-overview/) * [Service](https://kubernetes.io/docs/concepts/services-networking/service/) * [Volume](https://kubernetes.io/docs/concepts/storage/volumes/) * [Namespace](https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/) å¦å¤–ï¼Œ Kubernetes åŒ…å«å¤§é‡çš„è¢«ç§°ä½œ æ§åˆ¶å™¨ (controllers) é«˜çº§æŠ½è±¡ã€‚æ§åˆ¶å™¨åŸºäºåŸºæœ¬å¯¹è±¡æ„å»ºå¹¶æä¾›é¢å¤–çš„åŠŸèƒ½å’Œæ–¹ä¾¿ä½¿ç”¨çš„ç‰¹æ€§ã€‚å…·ä½“åŒ…æ‹¬ï¼š ReplicaSet Deployment StatefulSet DaemonSet Job Kubernetes æ§åˆ¶é¢ å…³äº Kubernetes æ§åˆ¶å¹³é¢çš„å„ä¸ªéƒ¨åˆ†ï¼Œ å¦‚ Kubernetes ä¸»æ§ç»„ä»¶å’Œ kubelet è¿›ç¨‹ï¼Œç®¡ç†ç€ Kubernetes å¦‚ä½•ä¸ä½ çš„é›†ç¾¤è¿›è¡Œé€šä¿¡ã€‚æ§åˆ¶å¹³é¢ç»´æŠ¤ç€ç³»ç»Ÿä¸­æ‰€æœ‰çš„ Kubernetes å¯¹è±¡çš„çŠ¶æ€è®°å½•ï¼Œå¹¶ä¸”é€šè¿‡è¿ç»­çš„æ§åˆ¶å¾ªç¯æ¥ç®¡ç†è¿™äº›å¯¹è±¡çš„çŠ¶æ€ã€‚åœ¨ä»»ä¸€çš„ç»™å®šæ—¶é—´ç‚¹ï¼Œæ§åˆ¶é¢çš„æ§åˆ¶ç¯éƒ½èƒ½ç›¸åº”é›†ç¾¤ä¸­çš„å˜åŒ–ï¼Œå¹¶ä¸”è®©ç³»ç»Ÿä¸­æ‰€æœ‰å¯¹è±¡çš„å®é™…çŠ¶æ€ä¸ä½ æä¾›çš„é¢„æœŸçŠ¶æ€é¡¹åŒ¹é…ã€‚ æ¯”å¦‚ï¼Œå½“ä½ é€šè¿‡ Kubernetes API åˆ›å»ºä¸€ä¸ª Deployment å¯¹è±¡ï¼Œä½ å°±ä¸ºç³»ç»Ÿå¢åŠ äº†ä¸€ä¸ªæ–°çš„ç›®æ ‡çŠ¶æ€ã€‚ Kubernetes æ§åˆ¶å¹³é¢è®°å½•ç€å¯¹è±¡çš„åˆ›å»ºï¼Œå¹¶å¯åŠ¨å¿…è¦çš„åº”ç”¨ç„¶åå°†ä»–ä»¬è°ƒåº¦è‡³é›†ç¾¤çš„æŸä¸ªèŠ‚ç‚¹ä¸Šæ¥æ‰§è¡Œä½ çš„æŒ‡ä»¤ï¼Œä»¥æ­¤æ¥ä¿æŒé›†ç¾¤çš„å®é™…çŠ¶æ€å’Œç›®æ ‡çŠ¶æ€çš„åŒ¹é…ã€‚ Kubernetes Master èŠ‚ç‚¹ Kubernetes master èŠ‚ç‚¹è´Ÿè´£ç»´æŠ¤é›†ç¾¤çš„ç›®æ ‡çŠ¶æ€ã€‚å½“ä½ ä¸ Kubernetes é€šä¿¡æ—¶ï¼Œä½¿ç”¨å¦‚ kubectl çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå°±å¯ä»¥ç›´æ¥ä¸ Kubernetes master èŠ‚ç‚¹è¿›è¡Œé€šä¿¡ã€‚ â€œmasterâ€ æ˜¯æŒ‡ç®¡ç†é›†ç¾¤çŠ¶æ€çš„ä¸€ç»„è¿›ç¨‹çš„é›†åˆã€‚é€šå¸¸è¿™äº›è¿›ç¨‹éƒ½è·‘åœ¨é›†ç¾¤ä¸­çš„ä¸€ä¸ªå•ç‹¬çš„èŠ‚ç‚¹ä¸Šï¼Œå¹¶ä¸”è¿™ä¸ªå‡ ç‚¹è¢«ç§°ä¸º master å‡ ç‚¹ã€‚ master èŠ‚ç‚¹ä¹Ÿå¯ä»¥æ‰©å±•å‰¯æœ¬æ•°ï¼Œæ¥è·å–æ›´å¥½çš„æ€§èƒ½åŠå†—ä½™ã€‚ Kubernates Node èŠ‚ç‚¹ é›†ç¾¤ä¸­çš„ node èŠ‚ç‚¹ (è™šæ‹Ÿæœºã€ç‰©ç†æœºç­‰ç­‰) éƒ½æ˜¯ç”¨æ¥è¿è¡Œä½ çš„åº”ç”¨å’Œäº‘å·¥ä½œæµçš„æœºå™¨ã€‚ Kubernetes master èŠ‚ç‚¹æ§åˆ¶æ‰€æœ‰ node èŠ‚ç‚¹ï¼›ä½ å¾ˆå°‘éœ€è¦å’Œ node èŠ‚ç‚¹è¿›è¡Œç›´æ¥é€šä¿¡ã€‚ å¯¹è±¡å…ƒæ•°æ® æ³¨é‡Š æ¥ä¸‹æ¥","categories":[{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/categories/kubernetes/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"kubernetes","slug":"kubernetes","permalink":"https://jokinglove.com/blog/group/tags/kubernetes/"}]},{"title":"Kafka Introduction","slug":"others/kafka/20190612-kafka-introduction","date":"2019-05-18T16:00:00.000Z","updated":"2019-12-08T06:01:50.873Z","comments":true,"path":"2019/05/19/others/kafka/20190612-kafka-introduction/","link":"","permalink":"https://jokinglove.com/blog/2019/05/19/others/kafka/20190612-kafka-introduction/","excerpt":"Introduction â€‹ Apache Kafka æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æµå¤„ç†å¹³å°ã€‚è¿™åˆ°åº•æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿ æµå¤„ç†å¹³å°çš„ä¸‰ç§ç‰¹æ€§ï¼š å¯ä»¥è®©ä½ å‘å¸ƒå’Œè®¢é˜…æµå¼è®°å½•ã€‚è¿™ä¸€æ–¹é¢ä¸æ¶ˆæ¯é˜Ÿåˆ—æˆ–è€…ä¼ä¸šæ¶ˆæ¯ç³»ç»Ÿç±»ä¼¼ã€‚ å¯ä»¥å­˜å‚¨æµå¼è®°å½•ï¼Œå¹¶ä¸”æœ‰è¾ƒå¥½çš„å®¹é”™æ€§ã€‚ å¯ä»¥åœ¨æµå¼è®°å½•äº§ç”Ÿæ—¶å°±è¿›è¡Œå¤„ç†ã€‚ Kafka é€‚åˆä»€ä¹ˆæ ·çš„åœºæ™¯ï¼Ÿ å®ƒå¯ä»¥ç”¨äºä¸¤å¤§ç±»åˆ«çš„åº”ç”¨ï¼š æ„é€ å®æ—¶æµæ•°æ®ç®¡é“ï¼Œå®ƒå¯ä»¥åœ¨ç³»ç»Ÿæˆ–åº”ç”¨ä¹‹é—´å¯é åœ°è·å–æ•°æ®ã€‚ï¼ˆç›¸å½“äº message queueï¼‰ æ„å»ºå®æ—¶æµå¼åº”ç”¨ç¨‹åºï¼Œå¯¹è¿™äº›æµå¼æ•°æ®è¿›è¡Œè½¬æ¢æˆ–è€…å½±å“ã€‚ï¼ˆå°±æ˜¯æµå¤„ç†ï¼Œé€šè¿‡ Kafka stream topic å’Œ topic ä¹‹é—´å†…éƒ¨è¿›è¡Œå˜åŒ–ï¼‰","text":"Introduction â€‹ Apache Kafka æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æµå¤„ç†å¹³å°ã€‚è¿™åˆ°åº•æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿ æµå¤„ç†å¹³å°çš„ä¸‰ç§ç‰¹æ€§ï¼š å¯ä»¥è®©ä½ å‘å¸ƒå’Œè®¢é˜…æµå¼è®°å½•ã€‚è¿™ä¸€æ–¹é¢ä¸æ¶ˆæ¯é˜Ÿåˆ—æˆ–è€…ä¼ä¸šæ¶ˆæ¯ç³»ç»Ÿç±»ä¼¼ã€‚ å¯ä»¥å­˜å‚¨æµå¼è®°å½•ï¼Œå¹¶ä¸”æœ‰è¾ƒå¥½çš„å®¹é”™æ€§ã€‚ å¯ä»¥åœ¨æµå¼è®°å½•äº§ç”Ÿæ—¶å°±è¿›è¡Œå¤„ç†ã€‚ Kafka é€‚åˆä»€ä¹ˆæ ·çš„åœºæ™¯ï¼Ÿ å®ƒå¯ä»¥ç”¨äºä¸¤å¤§ç±»åˆ«çš„åº”ç”¨ï¼š æ„é€ å®æ—¶æµæ•°æ®ç®¡é“ï¼Œå®ƒå¯ä»¥åœ¨ç³»ç»Ÿæˆ–åº”ç”¨ä¹‹é—´å¯é åœ°è·å–æ•°æ®ã€‚ï¼ˆç›¸å½“äº message queueï¼‰ æ„å»ºå®æ—¶æµå¼åº”ç”¨ç¨‹åºï¼Œå¯¹è¿™äº›æµå¼æ•°æ®è¿›è¡Œè½¬æ¢æˆ–è€…å½±å“ã€‚ï¼ˆå°±æ˜¯æµå¤„ç†ï¼Œé€šè¿‡ Kafka stream topic å’Œ topic ä¹‹é—´å†…éƒ¨è¿›è¡Œå˜åŒ–ï¼‰ ä¸ºäº†ç†è§£ Kafka æ˜¯å¦‚ä½•åšåˆ°ä»¥ä¸Šæ‰€è¯´çš„åŠŸèƒ½ï¼Œä»ä¸‹é¢å¼€å§‹ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢ç´¢ Kafka çš„ç‰¹æ€§ã€‚ é¦–å…ˆæ˜¯ä¸€äº›æ¦‚å¿µï¼š Kafka ä½œä¸ºä¸€ä¸ªé›†ç¾¤ï¼Œè¿è¡Œåœ¨ä¸€å°æˆ–è€…å¤šå°æœåŠ¡å™¨ä¸Šã€‚ Kafka é€šè¿‡ topic å¯¹å­˜å‚¨çš„æµæ•°æ®è¿›è¡Œåˆ†ç±»ã€‚ æ¯æ¡è®°å½•ä¸­åŒ…å«ä¸€ä¸ª keyï¼Œ ä¸€ä¸ª value å’Œä¸€ä¸ª timestamp ï¼ˆæ—¶é—´æˆ³ï¼‰ã€‚ Kafka æœ‰å››ä¸ªæ ¸å¿ƒçš„ API: Producer API å…è®¸ä¸€ä¸ªåº”ç”¨ç¨‹åºå‘å¸ƒä¸€ä¸²æµå¼çš„æ•°æ®åˆ°ä¸€ä¸ªæˆ–è€…å¤šä¸ª Kafka topicã€‚ Consumer API å…è®¸ä¸€ä¸ªåº”ç”¨ç¨‹åºè®¢é˜…ä¸€ä¸ªæˆ–è€…å¤šä¸ª topic ï¼Œå¹¶ä¸”å¯¹å‘å¸ƒç»™ä»–ä»¬çš„æµå¼æ•°æ®è¿›è¡Œå¤„ç†ã€‚ Stream API å…è®¸ä¸€ä¸ªåº”ç”¨ç¨‹åºä½œä¸ºä¸€ä¸ªæµå¤„ç†å™¨ï¼Œæ¶ˆè´¹ä¸€ä¸ªæˆ–è€…å¤šä¸ª topic äº§ç”Ÿçš„è¾“å…¥æµï¼Œç„¶åç”Ÿäº§ä¸€ä¸ªè¾“å‡ºæµåˆ°ä¸€ä¸ªæˆ–è€…å¤šä¸ª topic ä¸­å»ï¼Œåœ¨è¾“å…¥è¾“å‡ºæµä¸­è¿›è¡Œæœ‰æ•ˆçš„è½¬æ¢ã€‚ Connector API å…è®¸æ„å»ºå¹¶è¿è¡Œå¯é‡ç”¨çš„ç”Ÿäº§è€…æˆ–è€…æ¶ˆè´¹è€…ï¼Œå°† Kafka topics è¿æ¥åˆ°å·²ç»å­˜åœ¨çš„åº”ç”¨ç¨‹åºæˆ–è€…æ•°æ®ç³»ç»Ÿã€‚æ¯”å¦‚ï¼Œè¿æ¥åˆ°ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ï¼Œæ•æ‰è¡¨ï¼ˆtableï¼‰çš„æ‰€æœ‰å˜æ›´å†…å®¹ã€‚ åœ¨ Kafka ä¸­ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä½¿ç”¨ä¸€ä¸ªç®€å•ã€é«˜æ€§èƒ½ã€æ”¯æŒå¤šè¯­è¨€çš„ TCP åè®®ã€‚æ­¤åè®®ç‰ˆæœ¬åŒ–å¹¶ä¸”å‘ä¸‹å…¼å®¹è€ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¸º Kafka æä¾›äº† Java å®¢æˆ·ç«¯ï¼Œä¹Ÿæ”¯æŒè®¸å¤šå…¶ä»–è¯­è¨€çš„å®¢æˆ·ç«¯ã€‚ Topicå’Œæ—¥å¿— è®©æˆ‘ä»¬é¦–å…ˆæ·±å…¥äº†è§£ä¸‹ Kafka çš„æ ¸å¿ƒæ¦‚å¿µï¼šæä¾›ä¸€ä¸²æµå¼è®°å½• - topic Topic å°±æ˜¯æ•°æ®ä¸»é¢˜ï¼Œæ˜¯æ•°æ®è®°å½•å‘å¸ƒçš„åœ°æ–¹ï¼Œå¯ä»¥ç”¨æ¥åŒºåˆ†ä¸šåŠ¡ç³»ç»Ÿã€‚Kafka ä¸­çš„ Topics æ€»æ˜¯å¤šè®¢é˜…è€…æ¨¡å¼ï¼Œä¸€ä¸ª topic å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ¶ˆè´¹è€…æ¥è®¢é˜…å®ƒçš„æ•°æ®ã€‚ å¯¹äºæ¯ä¸€ä¸ª topicï¼ŒKafka é›†ç¾¤éƒ½ä¼šç»´æŒä¸€ä¸ªåˆ†åŒºæ—¥å¿—ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š æ¯ä¸ªåˆ†åŒºéƒ½æ˜¯æœ‰åºä¸”é¡ºåºä¸å¯å˜çš„è®°å½•é›†ï¼Œå¹¶ä¸”ä¸æ–­åœ°è¿½åŠ åˆ°ç»“æ„åŒ–çš„ commit log æ–‡ä»¶ã€‚åˆ†åŒºä¸­çš„æ¯ä¸€ä¸ªè®°å½•éƒ½ä¼šåˆ†é…ä¸€ä¸ª id å·æ¥è¡¨ç¤ºé¡ºåºï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º offsetï¼Œoffset ç”¨æ¥å”¯ä¸€çš„è¡¨ç¤ºåˆ†åŒºä¸­çš„æ¯ä¸€æ¡è®°å½•ã€‚ Kafka é›†ç¾¤ä¿ç•™æ‰€æœ‰å‘å¸ƒçš„è®°å½•-æ— è®ºä»–ä»¬æ˜¯å¦å·²è¢«æ¶ˆè´¹-å¹¶é€šè¿‡ä¸€ä¸ªå¯é…ç½®çš„å‚æ•°â€“ä¿ç•™æœŸé™æ¥æ§åˆ¶ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¿ç•™ç­–ç•¥è®¾ç½®ä¸º2å¤©ï¼Œä¸€æ¡è®°å½•å‘å¸ƒåä¸¤å¤©å†…ï¼Œå¯ä»¥éšæ—¶è¢«æ¶ˆè´¹ï¼Œä¸¤å¤©è¿‡åè¿™æ¡è®°å½•ä¼šè¢«æŠ›å¼ƒå¹¶é‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚ __Kafka çš„æ€§èƒ½å’Œæ•°æ®å¤§å°æ— å…³ï¼Œ__æ‰€ä»¥é•¿æ—¶é—´å­˜å‚¨æ•°æ®æ²¡ä»€ä¹ˆé—®é¢˜ã€‚ äº‹å®ä¸Šï¼Œåœ¨æ¯ä¸€ä¸ªæ¶ˆè´¹è€…ä¸­å”¯ä¸€ä¿å­˜çš„å…ƒæ•°æ®æ˜¯ offset ï¼ˆåç§»é‡ï¼‰å³æ¶ˆè´¹è€…åœ¨ log ä¸­çš„ä½ç½®ã€‚åç§»é‡ç”±æ¶ˆè´¹è€…æ‰€æ§åˆ¶ï¼šé€šå¸¸åœ¨è¯»å–è®°å½•åï¼Œæ¶ˆè´¹è€…ä¼šä»¥çº¿æ€§çš„æ–¹å¼å¢åŠ åç§»é‡ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œç”±äºè¿™ä¸ªä½ç½®ç”±æ¶ˆè´¹è€…æ§åˆ¶ï¼Œæ‰€ä»¥æ¶ˆè´¹è€…å¯ä»¥é‡‡ç”¨ä»»ä½•é¡ºåºæ¥æ¶ˆè´¹è®°å½•ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ¶ˆè´¹è€…å¯ä»¥é‡ç½®åˆ°ä¸€ä¸ªæ—§çš„åç§»é‡ï¼Œä»è€Œé‡æ–°å¤„ç†è¿‡å»çš„æ•°æ®ï¼›ä¹Ÿå¯ä»¥è·³è¿‡æœ€è¿‘çš„è®°å½•ï¼Œä»&quot;ç°åœ¨&quot; å¼€å§‹æ¶ˆè´¹ã€‚ è¿™äº›ç»†èŠ‚è¯´æ˜ Kafka æ¶ˆè´¹è€…æ˜¯éå¸¸å»‰ä»·çš„ - æ¶ˆè´¹è€…çš„å¢åŠ å’Œå‡å°‘å—ï¼Œå¯¹é›†ç¾¤æˆ–è€…å…¶ä»–æ¶ˆè´¹è€…æ²¡æœ‰å¤šå¤§çš„å½±å“ã€‚æ¯”å¦‚ï¼Œ ä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯¹ä¸€äº› topic å†…å®¹æ‰§è¡Œ tail æ“ä½œï¼Œå¹¶ä¸ä¼šå½±å“å·²å­˜åœ¨çš„æ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®ã€‚ æ—¥å¿—ä¸­çš„ partitionï¼ˆåˆ†åŒºï¼‰æœ‰ä»¥ä¸‹å‡ ä¸ªç”¨æˆ·ï¼š å½“æ—¥å¿—å¤§å°è¶…è¿‡äº†å•å°æœåŠ¡å™¨çš„é™åˆ¶ï¼Œå…è®¸æ—¥å¿—è¿›è¡Œæ‰©å±•ã€‚æ¯ä¸ªå•ç‹¬çš„åˆ†åŒºéƒ½å¿…é¡»å—é™äºä¸»æœºçš„æ–‡ä»¶é™åˆ¶ï¼Œä¸è¿‡ä¸€ä¸ªä¸»é¢˜å¯èƒ½æœ‰å¤šä¸ªåˆ†åŒºï¼Œå› æ­¤å¯ä»¥å¤„ç†æ— é™é‡çš„æ•°æ®ã€‚ å¯ä»¥ä½œä¸ºå¹¶è¡Œçš„å•å…ƒé›† - å…³äºè¿™ä¸€ç‚¹ï¼Œæ›´å¤šç»†èŠ‚å¦‚ä¸‹ï¼š åˆ†å¸ƒå¼ æ—¥å¿—çš„åˆ†åŒº partition åˆ†å¸ƒåœ¨ Kafka é›†ç¾¤çš„æœåŠ¡å™¨ä¸Šã€‚æ¯ä¸ªæœåŠ¡å™¨åœ¨å¤„ç†æ•°æ®å’Œè¯·æ±‚æ—¶ï¼Œå…±äº«è¿™äº›åˆ†åŒºã€‚æ¯ä¸€ä¸ªåˆ†åŒºéƒ½ä¼šåœ¨ä»¥é…ç½®çš„æœåŠ¡å™¨ä¸Šè¿›è¡Œå¤‡ä»½ï¼Œç¡®ä¿å®¹é”™æ€§ã€‚ æ¯ä¸ªåˆ†åŒºéƒ½æœ‰ä¸€å° server ä½œä¸º â€œleaderâ€œï¼Œé›¶å°æˆ–è€…å¤šå° server ä½œä¸º followersã€‚leader server å¤„ç†ä¸€åˆ‡å¯¹ partition çš„è¯»å†™è¯·æ±‚ï¼Œè€Œ followers åªéœ€è¢«åŠ¨çš„åŒæ­¥ leader ä¸Šçš„æ•°æ®ã€‚å½“ leader å®•æœºäº†ï¼Œfollowers ä¸­çš„æœåŠ¡å™¨ä¼šè‡ªåŠ¨æˆä¸ºè¡Œçš„ leader ã€‚æ¯å° server éƒ½ä¼šæˆä¸ºæŸäº›åˆ†åŒºçš„ leader å’ŒæŸäº›åˆ†åŒºçš„ followers ï¼Œå› æ­¤é›†ç¾¤çš„è´Ÿè½½æ˜¯å¹³è¡¡çš„ã€‚ ç”Ÿäº§è€… ç”Ÿäº§è€…å¯ä»¥å°†æ•°æ®å‘å¸ƒåˆ°æ‰€é€‰æ‹©çš„topicï¼ˆä¸»é¢˜ï¼‰ä¸­ã€‚ç”Ÿäº§è€…è´Ÿè´£å°†è®°å½•åˆ†é…åˆ°topicçš„å“ªä¸€ä¸ª partitionï¼ˆåˆ†åŒºï¼‰ä¸­ã€‚å¯ä»¥ä½¿ç”¨å¾ªç¯çš„æ–¹å¼æ¥ç®€å•åœ°å®ç°è´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå¯ä»¥æ ¹æ®æŸäº›è¯­ä¹‰åˆ†åŒºå‡½æ•°(ä¾‹å¦‚ï¼šè®°å½•ä¸­çš„key)æ¥å®Œæˆã€‚ä¸‹é¢ä¼šä»‹ç»æ›´å¤šå…³äºåˆ†åŒºçš„ä½¿ç”¨ã€‚ æ¶ˆè´¹è€… æ¶ˆè´¹è€…ä½¿ç”¨ä¸€ä¸ª æ¶ˆè´¹ç»„ åç§°æ¥è¿›è¡Œæ ‡è¯†ï¼Œå‘å¸ƒåˆ°topicä¸­çš„æ¯æ¡è®°å½•è¢«åˆ†é…ç»™è®¢é˜…æ¶ˆè´¹ç»„ä¸­çš„ä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹.æ¶ˆè´¹è€…å®ä¾‹å¯ä»¥åˆ†å¸ƒåœ¨å¤šä¸ªè¿›ç¨‹ä¸­æˆ–è€…å¤šä¸ªæœºå™¨ä¸Šã€‚ å¦‚æœæ‰€æœ‰çš„æ¶ˆè´¹è€…å®ä¾‹åœ¨åŒä¸€æ¶ˆè´¹ç»„ä¸­ï¼Œæ¶ˆæ¯è®°å½•ä¼šè´Ÿè½½å¹³è¡¡åˆ°æ¯ä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹. å¦‚æœæ‰€æœ‰çš„æ¶ˆè´¹è€…å®ä¾‹åœ¨ä¸åŒçš„æ¶ˆè´¹ç»„ä¸­ï¼Œæ¯æ¡æ¶ˆæ¯è®°å½•ä¼šå¹¿æ’­åˆ°æ‰€æœ‰çš„æ¶ˆè´¹è€…è¿›ç¨‹. å¦‚å›¾ï¼Œè¿™ä¸ª Kafka é›†ç¾¤æœ‰ä¸¤å° server çš„ï¼Œå››ä¸ªåˆ†åŒº(p0-p3)å’Œä¸¤ä¸ªæ¶ˆè´¹è€…ç»„ã€‚æ¶ˆè´¹ç»„Aæœ‰ä¸¤ä¸ªæ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹ç»„Bæœ‰å››ä¸ªæ¶ˆè´¹è€…ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¯ä¸ª topic éƒ½ä¼šæœ‰ä¸€äº›æ¶ˆè´¹ç»„ï¼Œä¸€ä¸ªæ¶ˆè´¹ç»„å¯¹åº”ä¸€ä¸ª&quot;é€»è¾‘è®¢é˜…è€…&quot;ã€‚ä¸€ä¸ªæ¶ˆè´¹ç»„ç”±è®¸å¤šæ¶ˆè´¹è€…å®ä¾‹ç»„æˆï¼Œä¾¿äºæ‰©å±•å’Œå®¹é”™ã€‚è¿™å°±æ˜¯å‘å¸ƒå’Œè®¢é˜…çš„æ¦‚å¿µï¼Œåªä¸è¿‡è®¢é˜…è€…æ˜¯ä¸€ç»„æ¶ˆè´¹è€…è€Œä¸æ˜¯å•ä¸ªçš„è¿›ç¨‹ã€‚ åœ¨Kafkaä¸­å®ç°æ¶ˆè´¹çš„æ–¹å¼æ˜¯å°†æ—¥å¿—ä¸­çš„åˆ†åŒºåˆ’åˆ†åˆ°æ¯ä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹ä¸Šï¼Œä»¥ä¾¿åœ¨ä»»ä½•æ—¶é—´ï¼Œæ¯ä¸ªå®ä¾‹éƒ½æ˜¯åˆ†åŒºå”¯ä¸€çš„æ¶ˆè´¹è€…ã€‚ç»´æŠ¤æ¶ˆè´¹ç»„ä¸­çš„æ¶ˆè´¹å…³ç³»ç”±Kafkaåè®®åŠ¨æ€å¤„ç†ã€‚å¦‚æœæ–°çš„å®ä¾‹åŠ å…¥ç»„ï¼Œä»–ä»¬å°†ä»ç»„ä¸­å…¶ä»–æˆå‘˜å¤„æ¥ç®¡ä¸€äº› partition åˆ†åŒº;å¦‚æœä¸€ä¸ªå®ä¾‹æ¶ˆå¤±ï¼Œæ‹¥æœ‰çš„åˆ†åŒºå°†è¢«åˆ†å‘åˆ°å‰©ä½™çš„å®ä¾‹ã€‚ Kafka åªä¿è¯åˆ†åŒºå†…çš„è®°å½•æ˜¯æœ‰åºçš„ï¼Œè€Œä¸ä¿è¯ä¸»é¢˜ä¸­ä¸åŒåˆ†åŒºçš„é¡ºåºã€‚æ¯ä¸ª partition åˆ†åŒºæŒ‰ç…§keyå€¼æ’åºè¶³ä»¥æ»¡è¶³å¤§å¤šæ•°åº”ç”¨ç¨‹åºçš„éœ€æ±‚ã€‚ä½†å¦‚æœä½ éœ€è¦æ€»è®°å½•åœ¨æ‰€æœ‰è®°å½•çš„ä¸Šé¢ï¼Œå¯ä½¿ç”¨ä»…æœ‰ä¸€ä¸ªåˆ†åŒºçš„ä¸»é¢˜æ¥å®ç°ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªæ¶ˆè´¹è€…ç»„åªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…è¿›ç¨‹ã€‚ ä¿è¯ high-level Kafka ç»™äºˆä»¥ä¸‹ä¿è¯ï¼š ç”Ÿäº§è€…å‘é€åˆ°ç‰¹å®š topic partition çš„æ¶ˆæ¯å°†æŒ‰ç…§å‘é€çš„é¡ºåºå¤„ç†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè®°å½• M1 å’Œè®°å½• M2 ç”±ç›¸åŒçš„ç”Ÿäº§è€…å‘é€ï¼Œå¹¶å…ˆå‘é€ M1 è®°å½•ï¼Œé‚£ä¹ˆ M1 çš„åç§»æ¯” M2 ç¬‘ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­è¾ƒæ—©å‡ºç° ä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹æŒ‰ç…§æ—¥å¿—ä¸­çš„é¡ºåºæŸ¥çœ‹è®°å½• å¯¹äºå…·æœ‰Nä¸ªå‰¯æœ¬çš„ä¸»é¢˜ï¼Œæˆ‘ä»¬æœ€å¤šå®¹å¿ N-1 ä¸ªæœåŠ¡å™¨æ•…éšœï¼Œä»è€Œä¿è¯ä¸ä¼šä¸¢å¤±ä»»ä½•æäº¤åˆ°æ—¥å¿—ä¸­çš„è®°å½•ã€‚ å…³äºä¿è¯çš„æ›´å¤šç»†èŠ‚å¯ä»¥çœ‹æ–‡æ¡£ä¸­çš„è®¾è®¡éƒ¨åˆ†ã€‚ Kafka ä½œä¸ºæ¶ˆæ¯ç³»ç»Ÿ Kafka streamsçš„æ¦‚å¿µä¸ä¼ ç»Ÿçš„ä¼ä¸šæ¶ˆæ¯ç³»ç»Ÿç›¸æ¯”å¦‚ä½•ï¼Ÿ ä¼ ç»Ÿçš„æ¶ˆæ¯ç³»ç»Ÿæœ‰ä¸¤ä¸ªæ¨¡å—: é˜Ÿåˆ— å’Œ å‘å¸ƒ-è®¢é˜…ã€‚ åœ¨é˜Ÿåˆ—ä¸­ï¼Œæ¶ˆè´¹è€…æ± ä»serverè¯»å–æ•°æ®ï¼Œæ¯æ¡è®°å½•è¢«æ± å­ä¸­çš„ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹; åœ¨å‘å¸ƒè®¢é˜…ä¸­ï¼Œè®°å½•è¢«å¹¿æ’­åˆ°æ‰€æœ‰çš„æ¶ˆè´¹è€…ã€‚ä¸¤è€…å‡æœ‰ä¼˜ç¼ºç‚¹ã€‚ é˜Ÿåˆ—çš„ä¼˜ç‚¹åœ¨äºå®ƒå…è®¸ä½ å°†å¤„ç†æ•°æ®çš„è¿‡ç¨‹åˆ†ç»™å¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹ï¼Œä½¿ä½ å¯ä»¥æ‰©å±•å¤„ç†è¿‡ç¨‹ã€‚ ä¸å¥½çš„æ˜¯ï¼Œé˜Ÿåˆ—ä¸æ˜¯å¤šè®¢é˜…è€…æ¨¡å¼çš„â€”ä¸€æ—¦ä¸€ä¸ªè¿›ç¨‹è¯»å–äº†æ•°æ®ï¼Œæ•°æ®å°±ä¼šè¢«ä¸¢å¼ƒã€‚ è€Œå‘å¸ƒ-è®¢é˜…ç³»ç»Ÿå…è®¸ä½ å¹¿æ’­æ•°æ®åˆ°å¤šä¸ªè¿›ç¨‹ï¼Œä½†æ˜¯æ— æ³•è¿›è¡Œæ‰©å±•å¤„ç†ï¼Œå› ä¸ºæ¯æ¡æ¶ˆæ¯éƒ½ä¼šå‘é€ç»™æ‰€æœ‰çš„è®¢é˜…è€…ã€‚ æ¶ˆè´¹ç»„åœ¨Kafkaæœ‰ä¸¤å±‚æ¦‚å¿µã€‚åœ¨é˜Ÿåˆ—ä¸­ï¼Œæ¶ˆè´¹ç»„å…è®¸ä½ å°†å¤„ç†è¿‡ç¨‹åˆ†å‘ç»™ä¸€ç³»åˆ—è¿›ç¨‹(æ¶ˆè´¹ç»„ä¸­çš„æˆå‘˜)ã€‚ åœ¨å‘å¸ƒè®¢é˜…ä¸­ï¼ŒKafkaå…è®¸ä½ å°†æ¶ˆæ¯å¹¿æ’­ç»™å¤šä¸ªæ¶ˆè´¹ç»„ã€‚ Kafkaçš„ä¼˜åŠ¿åœ¨äºæ¯ä¸ªtopicéƒ½æœ‰ä»¥ä¸‹ç‰¹æ€§â€”å¯ä»¥æ‰©å±•å¤„ç†å¹¶ä¸”å…è®¸å¤šè®¢é˜…è€…æ¨¡å¼â€”ä¸éœ€è¦åªé€‰æ‹©å…¶ä¸­ä¸€ä¸ª. Kafkaç›¸æ¯”äºä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—è¿˜å…·æœ‰æ›´ä¸¥æ ¼çš„é¡ºåºä¿è¯ ä¼ ç»Ÿé˜Ÿåˆ—åœ¨æœåŠ¡å™¨ä¸Šä¿å­˜æœ‰åºçš„è®°å½•ï¼Œå¦‚æœå¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹é˜Ÿåˆ—ä¸­çš„æ•°æ®ï¼Œ æœåŠ¡å™¨å°†æŒ‰ç…§å­˜å‚¨é¡ºåºè¾“å‡ºè®°å½•ã€‚ è™½ç„¶æœåŠ¡å™¨æŒ‰é¡ºåºè¾“å‡ºè®°å½•ï¼Œä½†æ˜¯è®°å½•è¢«å¼‚æ­¥ä¼ é€’ç»™æ¶ˆè´¹è€…ï¼Œ å› æ­¤è®°å½•å¯èƒ½ä¼šæ— åºçš„åˆ°è¾¾ä¸åŒçš„æ¶ˆè´¹è€…ã€‚è¿™æ„å‘³ç€åœ¨å¹¶è¡Œæ¶ˆè€—çš„æƒ…å†µä¸‹ï¼Œ è®°å½•çš„é¡ºåºæ˜¯ä¸¢å¤±çš„ã€‚å› æ­¤æ¶ˆæ¯ç³»ç»Ÿé€šå¸¸ä½¿ç”¨â€œå”¯ä¸€æ¶ˆè´¹è€…â€çš„æ¦‚å¿µï¼Œå³åªè®©ä¸€ä¸ªè¿›ç¨‹ä»é˜Ÿåˆ—ä¸­æ¶ˆè´¹ï¼Œ ä½†è¿™å°±æ„å‘³ç€ä¸èƒ½å¤Ÿå¹¶è¡Œåœ°å¤„ç†æ•°æ®ã€‚ Kafka è®¾è®¡çš„æ›´å¥½ã€‚topicä¸­çš„partitionæ˜¯ä¸€ä¸ªå¹¶è¡Œçš„æ¦‚å¿µã€‚ Kafkaèƒ½å¤Ÿä¸ºä¸€ä¸ªæ¶ˆè´¹è€…æ± æä¾›é¡ºåºä¿è¯å’Œè´Ÿè½½å¹³è¡¡ï¼Œæ˜¯é€šè¿‡å°†topicä¸­çš„partitionåˆ†é…ç»™æ¶ˆè´¹è€…ç»„ä¸­çš„æ¶ˆè´¹è€…æ¥å®ç°çš„ï¼Œ ä»¥ä¾¿æ¯ä¸ªåˆ†åŒºç”±æ¶ˆè´¹ç»„ä¸­çš„ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè€—ã€‚é€šè¿‡è¿™æ ·ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç¡®ä¿æ¶ˆè´¹è€…æ˜¯è¯¥åˆ†åŒºçš„å”¯ä¸€è¯»è€…ï¼Œå¹¶æŒ‰é¡ºåºæ¶ˆè´¹æ•°æ®ã€‚ ä¼—å¤šåˆ†åŒºä¿è¯äº†å¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹é—´çš„è´Ÿè½½å‡è¡¡ã€‚ ä½†è¯·æ³¨æ„ï¼Œæ¶ˆè´¹è€…ç»„ä¸­çš„æ¶ˆè´¹è€…å®ä¾‹ä¸ªæ•°ä¸èƒ½è¶…è¿‡åˆ†åŒºçš„æ•°é‡ã€‚ Kafka ä½œä¸ºå­˜å‚¨ç³»ç»Ÿ è®¸å¤šæ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥å‘å¸ƒæ¶ˆæ¯ï¼Œé™¤äº†æ¶ˆè´¹æ¶ˆæ¯ä¹‹å¤–è¿˜å¯ä»¥å……å½“ä¸­é—´æ•°æ®çš„å­˜å‚¨ç³»ç»Ÿã€‚é‚£ä¹ˆKafkaä½œä¸ºä¸€ä¸ªä¼˜ç§€çš„å­˜å‚¨ç³»ç»Ÿæœ‰ä»€ä¹ˆä¸åŒå‘¢? æ•°æ®å†™å…¥Kafkaåè¢«å†™åˆ°ç£ç›˜ï¼Œå¹¶ä¸”è¿›è¡Œå¤‡ä»½ä»¥ä¾¿å®¹é”™ã€‚ç›´åˆ°å®Œå…¨å¤‡ä»½ï¼ŒKafkaæ‰è®©ç”Ÿäº§è€…è®¤ä¸ºå®Œæˆå†™å…¥ï¼Œå³ä½¿å†™å…¥å¤±è´¥Kafkaä¹Ÿä¼šç¡®ä¿ç»§ç»­å†™å…¥ Kafkaä½¿ç”¨ç£ç›˜ç»“æ„ï¼Œå…·æœ‰å¾ˆå¥½çš„æ‰©å±•æ€§â€”50kbå’Œ50TBçš„æ•°æ®åœ¨serverä¸Šè¡¨ç°ä¸€è‡´ã€‚ å¯ä»¥å­˜å‚¨å¤§é‡æ•°æ®ï¼Œå¹¶ä¸”å¯é€šè¿‡å®¢æˆ·ç«¯æ§åˆ¶å®ƒè¯»å–æ•°æ®çš„ä½ç½®ï¼Œæ‚¨å¯è®¤ä¸ºKafkaæ˜¯ä¸€ç§é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿã€å…·å¤‡æ—¥å¿—å­˜å‚¨ã€å¤‡ä»½å’Œä¼ æ’­åŠŸèƒ½çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚ å…³äºKafkaæäº¤æ—¥å¿—å­˜å‚¨å’Œå¤‡ä»½è®¾è®¡çš„æ›´å¤šç»†èŠ‚ï¼Œå¯ä»¥é˜…è¯» è¿™é¡µ ã€‚ Kafka ç”¨åšæµå¤„ç† Kafka æµå¤„ç†ä¸ä»…ä»…ç”¨æ¥è¯»å†™å’Œå­˜å‚¨æµå¼æ•°æ®ï¼Œå®ƒæœ€ç»ˆçš„ç›®çš„æ˜¯ä¸ºäº†èƒ½å¤Ÿè¿›è¡Œå®æ—¶çš„æµå¤„ç†ã€‚ åœ¨Kafkaä¸­ï¼Œæµå¤„ç†å™¨ä¸æ–­åœ°ä»è¾“å…¥çš„topicè·å–æµæ•°æ®ï¼Œå¤„ç†æ•°æ®åï¼Œå†ä¸æ–­ç”Ÿäº§æµæ•°æ®åˆ°è¾“å‡ºçš„topicä¸­å»ã€‚ ä¾‹å¦‚ï¼Œé›¶å”®åº”ç”¨ç¨‹åºå¯èƒ½ä¼šæ¥æ”¶é”€å”®å’Œå‡ºè´§çš„è¾“å…¥æµï¼Œç»è¿‡ä»·æ ¼è°ƒæ•´è®¡ç®—åï¼Œå†è¾“å‡ºä¸€ä¸²æµå¼æ•°æ®ã€‚ ç®€å•çš„æ•°æ®å¤„ç†å¯ä»¥ç›´æ¥ç”¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„APIã€‚å¯¹äºå¤æ‚çš„æ•°æ®å˜æ¢ï¼ŒKafkaæä¾›äº†Streams APIã€‚ Stream API å…è®¸åº”ç”¨åšä¸€äº›å¤æ‚çš„å¤„ç†ï¼Œæ¯”å¦‚å°†æµæ•°æ®èšåˆæˆ–è€…joinã€‚ è¿™ä¸€åŠŸèƒ½æœ‰åŠ©äºè§£å†³ä»¥ä¸‹è¿™ç§åº”ç”¨ç¨‹åºæ‰€é¢ä¸´çš„é—®é¢˜ï¼šå¤„ç†æ— åºæ•°æ®ï¼Œå½“æ¶ˆè´¹ç«¯ä»£ç å˜æ›´åé‡æ–°å¤„ç†è¾“å…¥ï¼Œæ‰§è¡Œæœ‰çŠ¶æ€è®¡ç®—ç­‰ã€‚ Streams APIå»ºç«‹åœ¨Kafkaçš„æ ¸å¿ƒä¹‹ä¸Šï¼šå®ƒä½¿ç”¨Producerå’ŒConsumer APIä½œä¸ºè¾“å…¥ï¼Œä½¿ç”¨Kafkaè¿›è¡Œæœ‰çŠ¶æ€çš„å­˜å‚¨ï¼Œ å¹¶åœ¨æµå¤„ç†å™¨å®ä¾‹ä¹‹é—´ä½¿ç”¨ç›¸åŒçš„æ¶ˆè´¹ç»„æœºåˆ¶æ¥å®ç°å®¹é”™ã€‚ æ‰¹å¤„ç† å°†æ¶ˆæ¯ã€å­˜å‚¨å’Œæµå¤„ç†ç»“åˆèµ·æ¥ï¼Œä½¿å¾— Kafka çœ‹ä¸Šå»ä¸ä¸€èˆ¬ï¼Œä½†è¿™æ˜¯å®ƒä½œä¸ºæµå¹³å°æ‰€å¤‡çš„ã€‚ åƒ HDFS è¿™æ ·çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå¯ä»¥å­˜å‚¨ç”¨äºæ‰¹å¤„ç†çš„é™æ€æ–‡ä»¶ã€‚ä¸€ä¸ªç³»ç»Ÿå¦‚æœå¯ä»¥å­˜å‚¨å’Œå¤„ç†å†å²æ•°æ®æ˜¯éå¸¸ä¸é”™çš„ã€‚ ä¼ ç»Ÿçš„ä¼ä¸šæ¶ˆæ¯ç³»ç»Ÿå…è®¸å¤„ç†è®¢é˜…ååˆ°è¾¾çš„æ•°æ®ã€‚ä»¥è¿™ç§æ–¹å¼æ¥æ„å»ºåº”ç”¨ç¨‹åºï¼Œå¹¶ç”¨å®ƒæ¥å¤„ç†å³å°†åˆ°è¾¾çš„æ•°æ®ã€‚ Kafka ç»“åˆäº†ä¸Šé¢æ‰€è¯´çš„ä¸¤ç§ç‰¹æ€§ã€‚ä½œä¸ºä¸€ä¸ªæµåº”ç”¨ç¨‹åºå¹³å°æˆ–è€…æµæ•°æ®ç®¡é“ï¼Œè¿™ä¸¤ä¸ªç‰¹æ€§ï¼Œå¯¹äº Kafka æ¥è¯´æ˜¯è‡³å…³é‡è¦çš„ã€‚ é€šè¿‡ç»„åˆå­˜å‚¨å’Œä½å»¶è¿Ÿè®¢é˜…ï¼Œæµå¼åº”ç”¨ç¨‹åºå¯ä»¥ä»¥åŒæ ·çš„æ–¹å¼å¤„ç†è¿‡å»å’Œæœªæ¥çš„æ•°æ®ã€‚ä¸€ä¸ªå•ä¸€çš„åº”ç”¨ç¨‹åºå¯ä»¥å¤„ç†å†å²è®°å½•çš„æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥æŒç»­ä¸æ–­åœ°å¤„ç†ä»¥ååˆ°è¾¾çš„æ•°æ®ï¼Œè€Œä¸æ˜¯åœ¨åˆ°è¾¾æœ€åä¸€æ¡è®°å½•æ—¶ç»“æŸè¿›ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ªå¹¿æ³›çš„æµå¤„ç†æ¦‚å¿µï¼Œå…¶ä¸­åŒ…å«æ‰¹å¤„ç†ä»¥åŠæ¶ˆæ¯é©±åŠ¨åº”ç”¨ç¨‹åºã€‚ åŒæ ·ï¼Œä½œä¸ºæ•°æ®ç®¡é“ï¼Œèƒ½å¤Ÿè®¢é˜…å®æ—¶äº‹ä»¶ä½¿å¾— Kafka å…·æœ‰éå¸¸ä½çš„å»¶è¿Ÿï¼›åŒæ—¶ Kafka è¿˜å…·æœ‰å¯é å­˜å‚¨æ•°æ®çš„ç‰¹æ€§ï¼Œå¯ç”¨æ¥å‚¨å­˜é‡è¦çš„æ”¯ä»˜æ•°æ®ï¼Œæˆ–è€…ä¸ç¦»çº¿ç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œç³»ç»Ÿå¯é—´æ­‡æ€§åœ°åŠ è½½æ•°æ®ï¼Œä¹Ÿå¯åœ¨åœæœºç»´æŠ¤åå†æ¬¡åŠ è½½æ•°æ®ã€‚æµå¤„ç†åŠŸèƒ½ä½¿å¾—æ•°æ®å¯ä»¥åœ¨åˆ°è¾¾æ—¶è½¬æ¢æ•°æ®ã€‚ æœ‰å…³ Kafka æä¾›çš„ä¿è¯ã€API å’ŒåŠŸèƒ½çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·çœ‹æ–‡æ¡£çš„å‰©ä½™éƒ¨åˆ†ã€‚","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"Kafka","slug":"Kafka","permalink":"https://jokinglove.com/blog/group/tags/Kafka/"},{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"https://jokinglove.com/blog/group/tags/å¤§æ•°æ®/"}]},{"title":"MongoDb å¸¸ç”¨æ–¹æ³•","slug":"others/database/20190624-mongoå¸¸ç”¨æ–¹æ³•","date":"2019-05-16T16:00:00.000Z","updated":"2019-12-08T06:01:50.871Z","comments":true,"path":"2019/05/17/others/database/20190624-mongoå¸¸ç”¨æ–¹æ³•/","link":"","permalink":"https://jokinglove.com/blog/2019/05/17/others/database/20190624-mongoå¸¸ç”¨æ–¹æ³•/","excerpt":"MongoDb å¸¸ç”¨æ–¹æ³• $regx: å€¼åŒ¹é… 123&#123; &lt;field&gt;: &#123; $regex: /pattern/, $options: '&lt;options&gt;' &#125; &#125;&#123; &lt;field&gt;: &#123; $regex: 'pattern', $options: '&lt;options&gt;' &#125; &#125;&#123; &lt;field&gt;: &#123; $regex: /pattern/&lt;options&gt; &#125; &#125; $options: iï¼š å¿½ç•¥å¤§å°å†™ mï¼š For patterns that include anchors (i.e. ^ for the start, $ for the end),If the pattern contains no anchors or if the string value has no newline characters (e.g. \\n), the m option has no effect.ï¼ˆå¯¹äºæ–°çš„ä¸€è¡Œï¼Œmæ˜¯ä¸èµ·ä½œç”¨çš„ï¼‰ xï¼šâ€œExtendedâ€ capability to ignore all white space characters in the $regexpattern unless escaped or included in a character class. Allows the dot character (i.e. .) to match all characters including newline characters. For an example, see Use the . Dot Character to Match New Line. exampleï¼š 1&#123; name: &#123; $regex: /acme.*corp/, $options: \"si\" &#125; &#125;","text":"MongoDb å¸¸ç”¨æ–¹æ³• $regx: å€¼åŒ¹é… 123&#123; &lt;field&gt;: &#123; $regex: /pattern/, $options: '&lt;options&gt;' &#125; &#125;&#123; &lt;field&gt;: &#123; $regex: 'pattern', $options: '&lt;options&gt;' &#125; &#125;&#123; &lt;field&gt;: &#123; $regex: /pattern/&lt;options&gt; &#125; &#125; $options: iï¼š å¿½ç•¥å¤§å°å†™ mï¼š For patterns that include anchors (i.e. ^ for the start, $ for the end),If the pattern contains no anchors or if the string value has no newline characters (e.g. \\n), the m option has no effect.ï¼ˆå¯¹äºæ–°çš„ä¸€è¡Œï¼Œmæ˜¯ä¸èµ·ä½œç”¨çš„ï¼‰ xï¼šâ€œExtendedâ€ capability to ignore all white space characters in the $regexpattern unless escaped or included in a character class. Allows the dot character (i.e. .) to match all characters including newline characters. For an example, see Use the . Dot Character to Match New Line. exampleï¼š 1&#123; name: &#123; $regex: /acme.*corp/, $options: \"si\" &#125; &#125; $unwind https://docs.mongodb.com/manual/reference/operator/aggregation/unwind/ 1&#123; $unwind: &lt;field path&gt; &#125; 12345678&#123; $unwind: &#123; path: &lt;field path&gt;, includeArrayIndex: &lt;string&gt;, preserveNullAndEmptyArrays: &lt;boolean&gt; &#125;&#125; Field Type Description path string Field path to an array field. To specify a field path, prefix the field name with a dollar sign $ and enclose in quotes. ç”¨$ç¬¦å·æ¥è·å–å±æ€§ä¸­çš„æ•°ç»„å­—æ®µ includeArrayIndex string Optional. The name of a new field to hold the array index of the element. The name cannot start with a dollar sign $. è¾“å‡ºåœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ä½ç½® preserveNullAndEmptyArrays boolean Optional. If true, if the path is null, missing, or an empty array,$unwind outputs the document. If false, $unwind does not output a document if the path is null, missing, or an empty array.The default value is false. true ä»£è¡¨è¾“å‡ºï¼Œå½“æ•°ç»„æ˜¯é”™è¯¯çš„ï¼Œç©ºçš„ï¼Œæˆ–è€…ç©ºæ•°ç»„æ˜¯ï¼Œéƒ½è¾“å‡ºæ¥ Example 1&#123; \"_id\" : 1, \"item\" : \"ABC1\", sizes: [ \"S\", \"M\", \"L\"] &#125; # åŸæ¥æ–‡æ¡£ 1db.inventory.aggregate( [ &#123; $unwind : \"$sizes\" &#125; ] ) # æ‰§è¡Œè¯­å¥ 1234# æ‰§è¡Œç»“æœå¦‚ä¸‹&#123; \"_id\" : 1, \"item\" : \"ABC1\", \"sizes\" : \"S\" &#125;&#123; \"_id\" : 1, \"item\" : \"ABC1\", \"sizes\" : \"M\" &#125; &#123; \"_id\" : 1, \"item\" : \"ABC1\", \"sizes\" : \"L\" &#125;","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"Mongo","slug":"Mongo","permalink":"https://jokinglove.com/blog/group/tags/Mongo/"},{"name":"Database","slug":"Database","permalink":"https://jokinglove.com/blog/group/tags/Database/"}]},{"title":"Mongodb ä¸­ä¸¤ä¸ªæ“ä½œ Reduce & Aggregate","slug":"others/database/20190619-mongodb-reduce&aggregate","date":"2019-05-15T16:00:00.000Z","updated":"2019-12-08T06:01:50.871Z","comments":true,"path":"2019/05/16/others/database/20190619-mongodb-reduce&aggregate/","link":"","permalink":"https://jokinglove.com/blog/2019/05/16/others/database/20190619-mongodb-reduce&aggregate/","excerpt":"Mongodb ä¸­ä¸¤ä¸ªæ“ä½œ Reduce &amp; Aggregate Map Reduce Map-Reduce æ˜¯ä¸€ç§è®¡ç®—æ¨¡å‹ï¼Œç®€å•çš„è¯´å°±æ˜¯å°†å¤§æ‰¹é‡çš„å·¥ä½œ(æ•°æ®) åˆ†è§£ (MAP) æ‰§è¡Œï¼Œç„¶åå†å°†ç»“æœåˆå¹¶æˆæœ€ç»ˆçš„ç»“æœ (REDUCE)ã€‚ MongoDB æä¾›çš„ Map-Reduce éå¸¸çµæ´»ï¼Œå¯¹äºå¤§è§„æ¨¡æ•°æ®åˆ†æä¹Ÿç›¸å½“å®ç”¨ã€‚","text":"Mongodb ä¸­ä¸¤ä¸ªæ“ä½œ Reduce &amp; Aggregate Map Reduce Map-Reduce æ˜¯ä¸€ç§è®¡ç®—æ¨¡å‹ï¼Œç®€å•çš„è¯´å°±æ˜¯å°†å¤§æ‰¹é‡çš„å·¥ä½œ(æ•°æ®) åˆ†è§£ (MAP) æ‰§è¡Œï¼Œç„¶åå†å°†ç»“æœåˆå¹¶æˆæœ€ç»ˆçš„ç»“æœ (REDUCE)ã€‚ MongoDB æä¾›çš„ Map-Reduce éå¸¸çµæ´»ï¼Œå¯¹äºå¤§è§„æ¨¡æ•°æ®åˆ†æä¹Ÿç›¸å½“å®ç”¨ã€‚ MapReduce å‘½ä»¤ ä»¥ä¸‹æ˜¯ MapReduce çš„åŸºæœ¬è¯­æ³•ï¼š 12345678910&gt; db.collection.mapReduce( funciton() &#123;emit(key, value);&#125;, // map å‡½æ•° funciton(key, value) &#123;return reduceFunction&#125;, // reduce å‡½æ•° &#123; out: collection, query: document, sort: document, limit: number &#125;) å®ç”¨ MapReduce è¦å®ç°ä¸¤ä¸ªå‡½æ•° Map å‡½æ•°å’Œ Reduce å‡½æ•°ï¼Œ Map å‡½æ•°è°ƒç”¨ emit(key, value)ï¼Œéå† collection ä¸­æ‰€æœ‰çš„è®°å½•ï¼Œå°† key ä¸ value ä¼ é€’ç»™ Reduce å‡½æ•°è¿›è¡Œå¤„ç†ã€‚ Map å‡½æ•°å¿…é¡»è°ƒç”¨ emit(key, value) è¿”å›é”®å€¼å¯¹ã€‚ å‚æ•°è¯´æ˜ï¼š map: æ˜ å°„å‡½æ•° (ç”Ÿæˆé”®å€¼å¯¹åºåˆ—ï¼Œä½œä¸º reduce å‡½æ•°çš„å‚æ•°)ã€‚ reduceï¼š ç»Ÿè®¡å‡½æ•°ï¼Œreduce å‡½æ•°çš„ä»»åŠ¡å°±æ˜¯å°† key-value ï¼Œä¹Ÿå°±æ˜¯æŠŠ values æ•°ç»„å˜æˆä¸€ä¸ªå•ä¸€çš„å€¼ valueã€‚ outï¼š ç»Ÿè®¡å‡½æ•°å­˜æ”¾é›†åˆ (ä¸æŒ‡å®šåˆ™ä½¿ç”¨ä¸´æ—¶é›†åˆï¼Œåœ¨å®¢æˆ·ç«¯æ–­å¼€åè‡ªåŠ¨åˆ é™¤)ã€‚ queryï¼šä¸€ä¸ªç­›é€‰æ¡ä»¶ï¼Œåªæœ‰æ»¡è¶³æ¡ä»¶çš„æ–‡æ¡£æ‰ä¼šè°ƒç”¨ map å‡½æ•°ã€‚(queryã€limitã€sort å¯ä»¥éšæ„ç»„åˆ) sortï¼šå’Œ limit ç»“åˆçš„ sort æ’åºèœè”¬ (ä¹Ÿæ˜¯å‘å¾€ map å‡½æ•°å‰ç»™æ–‡æ¡£æ’åº)ï¼Œå¯ä»¥ä¼˜åŒ–åˆ†ç»„æœºåˆ¶ã€‚ limitï¼šå‘å¾€ map å‡½æ•°çš„æ–‡æ¡£æ•°é‡çš„ä¸Šé™ (è¦æ˜¯æ²¡æœ‰ limitï¼Œ å•ç‹¬ä½¿ç”¨ sort çš„ç”¨å¤„ä¸å¤§)ã€‚ ä½¿ç”¨ MapReduce è€ƒè™‘ä¸€ä¸‹æ–‡æ¡£ç»“æ„å­˜å‚¨ç”¨æˆ·çš„æ–‡ç« ï¼Œæ–‡æ¡£å­˜å‚¨äº†ç”¨æˆ·çš„ user_name å’Œæ–‡ç« çš„ status å­—æ®µï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&gt;db.posts.insert(&#123; &quot;post_text&quot;: &quot;èœé¸Ÿæ•™ç¨‹ï¼Œæœ€å…¨çš„æŠ€æœ¯æ–‡æ¡£ã€‚&quot;, &quot;user_name&quot;: &quot;mark&quot;, &quot;status&quot;:&quot;active&quot;&#125;)WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)&gt;db.posts.insert(&#123; &quot;post_text&quot;: &quot;èœé¸Ÿæ•™ç¨‹ï¼Œæœ€å…¨çš„æŠ€æœ¯æ–‡æ¡£ã€‚&quot;, &quot;user_name&quot;: &quot;mark&quot;, &quot;status&quot;:&quot;active&quot;&#125;)WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)&gt;db.posts.insert(&#123; &quot;post_text&quot;: &quot;èœé¸Ÿæ•™ç¨‹ï¼Œæœ€å…¨çš„æŠ€æœ¯æ–‡æ¡£ã€‚&quot;, &quot;user_name&quot;: &quot;mark&quot;, &quot;status&quot;:&quot;active&quot;&#125;)WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)&gt;db.posts.insert(&#123; &quot;post_text&quot;: &quot;èœé¸Ÿæ•™ç¨‹ï¼Œæœ€å…¨çš„æŠ€æœ¯æ–‡æ¡£ã€‚&quot;, &quot;user_name&quot;: &quot;mark&quot;, &quot;status&quot;:&quot;active&quot;&#125;)WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)&gt;db.posts.insert(&#123; &quot;post_text&quot;: &quot;èœé¸Ÿæ•™ç¨‹ï¼Œæœ€å…¨çš„æŠ€æœ¯æ–‡æ¡£ã€‚&quot;, &quot;user_name&quot;: &quot;mark&quot;, &quot;status&quot;:&quot;disabled&quot;&#125;)WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)&gt;db.posts.insert(&#123; &quot;post_text&quot;: &quot;èœé¸Ÿæ•™ç¨‹ï¼Œæœ€å…¨çš„æŠ€æœ¯æ–‡æ¡£ã€‚&quot;, &quot;user_name&quot;: &quot;runoob&quot;, &quot;status&quot;:&quot;disabled&quot;&#125;)WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)&gt;db.posts.insert(&#123; &quot;post_text&quot;: &quot;èœé¸Ÿæ•™ç¨‹ï¼Œæœ€å…¨çš„æŠ€æœ¯æ–‡æ¡£ã€‚&quot;, &quot;user_name&quot;: &quot;runoob&quot;, &quot;status&quot;:&quot;disabled&quot;&#125;)WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)&gt;db.posts.insert(&#123; &quot;post_text&quot;: &quot;èœé¸Ÿæ•™ç¨‹ï¼Œæœ€å…¨çš„æŠ€æœ¯æ–‡æ¡£ã€‚&quot;, &quot;user_name&quot;: &quot;runoob&quot;, &quot;status&quot;:&quot;active&quot;&#125;)WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;) ç°åœ¨ï¼Œæˆ‘ä»¬å°†åœ¨ posts é›†åˆä¸­ä½¿ç”¨ mapReduce å‡½æ•°æ¥é€‰å–å·²å‘å¸ƒçš„æ–‡ç«  (status: â€œactiveâ€), å¹¶é€šè¿‡ user_name åˆ†ç»„ï¼Œè®¡ç®—æ¯ä¸ªç”¨æˆ·çš„æ–‡ç« æ•°ï¼š 12345678&gt; db.posts.mapReduce( function() &#123; emit(this.user_name, 1);&#125;, function(key, value) &#123;return Array.sum(values)&#125;, &#123; query: &#123;status: &quot;active&quot;&#125;, out: &quot;post_total&quot; &#125;) ä»¥ä¸Š mapReduce è¾“å‡ºç»“æœä¸ºï¼š 1234567891011&#123; &quot;result&quot; : &quot;post_total&quot;, &quot;timeMillis&quot; : 23, &quot;counts&quot; : &#123; &quot;input&quot; : 5, &quot;emit&quot; : 5, &quot;reduce&quot; : 1, &quot;output&quot; : 2 &#125;, &quot;ok&quot; : 1&#125; ç»“æœè¡¨æ˜ï¼Œå…±æœ‰ 4 ä¸ªç¬¦åˆæŸ¥è¯¢æ¡ä»¶ (status: â€œactiveâ€) çš„æ–‡æ¡£ï¼Œåœ¨ map å‡½æ•°ä¸­ç”Ÿæˆäº† 4 ä¸ªé”®å€¼å¯¹æ–‡æ¡£ï¼Œæœ€åä½¿ç”¨ reduce å‡½æ•°å°†ç›¸åŒçš„é”®å€¼åˆ†ä¸ºä¸¤ç»„ã€‚ å…·ä½“å‚æ•°è¯´æ˜ï¼š resultï¼šå­˜å‚¨ç»“æœçš„ collection çš„åå­—ï¼Œè¿™æ˜¯ä¸ªä¸´æ—¶é›†åˆï¼Œ MapReduce çš„è¿æ¥å…³é—­åå°±è‡ªåŠ¨è¢«åˆ é™¤äº†ã€‚ timeMillisï¼šæ‰§è¡ŒèŠ±è´¹çš„æ—¶é—´ï¼Œæ¯«ç§’ä¸ºå•ä½ inputï¼šæ»¡è¶³æ¡ä»¶è¢«å‘é€åˆ° map å‡½æ•°çš„æ–‡æ¡£ä¸ªæ•°ã€‚ emitï¼šåœ¨ map å‡½æ•°ä¸­ emit è¢«è°ƒåŠ¨çš„æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰é›†åˆæ‰¾é‚£ä¸ªçš„æ•°æ®æ€»é‡ã€‚ outputï¼šç»“æœç»“åˆä¸­çš„æ–‡æ¡£ä¸ªæ•° (count å¯¹è°ƒè¯•éå¸¸æœ‰å¸®åŠ©ï¼‰ okï¼š æ˜¯å¦æˆåŠŸï¼ŒæˆåŠŸä¸º 1ã€‚ errï¼šå¦‚æœå¤±è´¥ï¼Œè¿™é‡Œå¯ä»¥æœ‰å¤±è´¥åŸå› ï¼Œä¸è¿‡ä»ç»éªŒæ¥çœ‹ï¼ŒåŸå› æ¯”è¾ƒæ¨¡ç³Šï¼Œä½œç”¨ä¸å¤§ã€‚ ä½¿ç”¨ find æ“ä½œç¬¦æ¥æŸ¥çœ‹ mapReduce çš„æŸ¥è¯¢ç»“æœï¼š 12345678&gt;db.posts.mapReduce( function() &#123; emit(this.user_name,1); &#125;, function(key, values) &#123;return Array.sum(values)&#125;, &#123; query:&#123;status:&quot;active&quot;&#125;, out:&quot;post_total&quot; &#125;).find() ä»¥ä¸ŠæŸ¥è¯¢æ˜¾ç¤ºå¦‚ä¸‹ç»“æœï¼Œä¸¤ä¸ªç”¨æˆ· tom å’Œ mark æœ‰ä¸¤ä¸ªå‘å¸ƒçš„æ–‡ç« ï¼š 12&#123; &quot;_id&quot; : &quot;mark&quot;, &quot;value&quot; : 4 &#125;&#123; &quot;_id&quot; : &quot;runoob&quot;, &quot;value&quot; : 1 &#125; ç”¨ç±»ä¼¼çš„æ–¹å¼ï¼ŒMapReduceå¯ä»¥è¢«ç”¨æ¥æ„å»ºå¤§å‹å¤æ‚çš„èšåˆæŸ¥è¯¢ã€‚ Mapå‡½æ•°å’ŒReduceå‡½æ•°å¯ä»¥ä½¿ç”¨ JavaScript æ¥å®ç°ï¼Œä½¿å¾—MapReduceçš„ä½¿ç”¨éå¸¸çµæ´»å’Œå¼ºå¤§ã€‚ Aggregate MongoDB ä¸­èšåˆ (aggregate) ä¸»è¦ç”¨äºå¤„ç†æ•°æ® (è¯¸å¦‚ç»Ÿè®¡å¹³å‡å€¼ï¼Œæ±‚å’Œç­‰)ï¼Œå¹¶è¿”å›è®¡ç®—åçš„æ•°æ®ç»“æœã€‚æœ‰ç‚¹ç±»ä¼¼ sql è¯­å¥ä¸­çš„ count(*)ã€‚ aggregate() æ–¹æ³• MongoDB ä¸­èšåˆçš„æ–¹æ³•ä½¿ç”¨ aggregate()ã€‚ è¯­æ³• aggregate() æ–¹æ³•çš„åŸºæœ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 1&gt;db.COLLECTION_NAME.aggregate(AGGREGATE_OPERATION) å®ä¾‹ é›†åˆä¸­çš„æ•°æ®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627&#123; _id: ObjectId(7df78ad8902c) title: 'MongoDB Overview', description: 'MongoDB is no sql database', by_user: 'w3cschool.cc', url: 'http://www.w3cschool.cc', tags: ['mongodb', 'database', 'NoSQL'], likes: 100 &#125;, &#123; _id: ObjectId(7df78ad8902d) title: 'NoSQL Overview', description: 'No sql database is very fast', by_user: 'w3cschool.cc', url: 'http://www.w3cschool.cc', tags: ['mongodb', 'database', 'NoSQL'], likes: 10 &#125;, &#123; _id: ObjectId(7df78ad8902e) title: 'Neo4j Overview', description: 'Neo4j is no sql database', by_user: 'Neo4j', url: 'http://www.neo4j.com', tags: ['neo4j', 'database', 'NoSQL'], likes: 750 &#125; ç°åœ¨æˆ‘ä»¬é€šè¿‡ä»¥ä¸Šé›†åˆè®¡ç®—æ¯ä¸ªä½œè€…æ‰€å†™çš„æ–‡ç« æ•°ï¼Œä½¿ç”¨ aggregate() è®¡ç®—ç»“æœå¦‚ä¸‹ï¼š 123456789101112131415&gt; db.mycol.aggregate([&#123;$group : &#123;_id : \"$by_user\", num_tutorial : &#123;$sum : 1&#125;&#125;&#125;]) &#123; \"result\" : [ &#123; \"_id\" : \"w3cschool.cc\", \"num_tutorial\" : 2 &#125;, &#123; \"_id\" : \"Neo4j\", \"num_tutorial\" : 1 &#125; ], \"ok\" : 1 &#125; &gt; ä»¥ä¸Šå®ä¾‹ç±»ä¼¼ sql è¯­å¥ï¼š select by_user, count(*) from mycol group by by_user; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å­—æ®µ by_user å­—æ®µå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œå¹¶è®¡ç®— by_user å­—æ®µç›¸åŒå€¼å¾—ç»¼åˆã€‚ ä¸‹æ ‡å±•ç¤ºäº†ä¸€äº›é›†åˆçš„è¡¨è¾¾å¼ï¼š è¡¨è¾¾å¼ æè¿° å®ä¾‹ $sum è®¡ç®—æ€»å’Œã€‚ db.mycol.aggregate([{$group : {_id : â€œ$by_userâ€, num_tutorial : {$sum : â€œ$likesâ€}}}]) $avg è®¡ç®—å¹³å‡å€¼ db.mycol.aggregate([{$group : {_id : â€œ$by_userâ€, num_tutorial : {$avg : â€œ$likesâ€}}}]) $min è·å–é›†åˆä¸­æ‰€æœ‰æ–‡æ¡£å¯¹åº”å€¼å¾—æœ€å°å€¼ã€‚ db.mycol.aggregate([{$group : {_id : â€œ$by_userâ€, num_tutorial : {$min : â€œ$likesâ€}}}]) $max è·å–é›†åˆä¸­æ‰€æœ‰æ–‡æ¡£å¯¹åº”å€¼å¾—æœ€å¤§å€¼ã€‚ db.mycol.aggregate([{$group : {_id : â€œ$by_userâ€, num_tutorial : {$max : â€œ$likesâ€}}}]) $push åœ¨ç»“æœæ–‡æ¡£ä¸­æ’å…¥å€¼åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚ db.mycol.aggregate([{$group : {_id : â€œ$by_userâ€, url : {$push: â€œ$urlâ€}}}]) $addToSet åœ¨ç»“æœæ–‡æ¡£ä¸­æ’å…¥å€¼åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œä½†ä¸åˆ›å»ºå‰¯æœ¬ã€‚ db.mycol.aggregate([{$group : {_id : â€œ$by_userâ€, url : {$addToSet : â€œ$urlâ€}}}]) $first æ ¹æ®èµ„æºæ–‡æ¡£çš„æ’åºè·å–ç¬¬ä¸€ä¸ªæ–‡æ¡£æ•°æ®ã€‚ db.mycol.aggregate([{$group : {_id : â€œ$by_userâ€, first_url : {$first : â€œ$urlâ€}}}]) $last æ ¹æ®èµ„æºæ–‡æ¡£çš„æ’åºè·å–æœ€åä¸€ä¸ªæ–‡æ¡£æ•°æ® db.mycol.aggregate([{$group : {_id : â€œ$by_userâ€, last_url : {$last : â€œ$urlâ€}}}]) ç®¡é“çš„æ¦‚å¿µ ç®¡é“åœ¨ Unix å’Œ Linux ä¸­ä¸€èˆ¬ç”¨äºå°†å½“å‰å‘½ä»¤çš„è¾“å‡ºçš„ç»“æœä½œä¸ºä¸‹ä¸€ä¸ªå‘½ä»¤çš„å‚æ•°ã€‚ MongoDB çš„èšåˆç®¡é“å°† MongoDB æ–‡æ¡£åœ¨ä¸€ä¸ªç®¡é“å¤„ç†å®Œæ¯•åå°†ç»“æœä¼ é€’ç»™ä¸‹ä¸€ä¸ªç®¡é“å¤„ç†ã€‚ç®¡é“æ“ä½œæ˜¯å¯ä»¥é‡å¤çš„ã€‚ è¡¨è¾¾å¼ï¼šå¤„ç†è¾“å…¥æ–‡æ¡£å¹¶è¾“å‡ºã€‚è¡¨è¾¾å¼æ˜¯æ— çŠ¶æ€çš„ï¼Œåªèƒ½ç”¨äºè®¡ç®—å½“å‰èšåˆç®¡é“çš„æ–‡æ¡£ï¼Œä¸èƒ½å¤„ç†å…¶ä»–çš„æ–‡æ¡£ã€‚è¿™é‡Œæˆ‘ä»¬ä»‹ç»ä¸€ä¸‹èšåˆæ¡†æ¶ä¸­å¸¸ç”¨çš„å‡ ä¸ªæ“ä½œï¼š $project: ä¿®æ”¹è¾“å…¥æ–‡æ¡£çš„ç»“æ„ã€‚å¯ä»¥ç”¨æ¥é‡å‘½åã€å¢åŠ æˆ–åˆ é™¤åŸŸï¼Œä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºè®¡ç®—ç»“æœä»¥åŠåµŒå¥—æ–‡æ¡£ã€‚ $match: ç”¨äºè¿‡æ»¤æ•°æ®ï¼Œåªè¾“å‡ºç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ã€‚\\$match ä½¿ç”¨ MongoDB çš„æ ‡å‡†æŸ¥è¯¢æ“ä½œã€‚ $limit: ç”¨æ¥é™åˆ¶ MongoDB èšåˆç®¡é“è¿”å›çš„æ–‡æ¡£æ•°ã€‚ $skipï¼šåœ¨èšåˆç®¡é“ä¸­è·³è¿‡æŒ‡å®šæ•°é‡çš„æ–‡æ¡£ï¼Œå¹¶è¿”å›ä½™ä¸‹çš„æ–‡æ¡£ã€‚ $unwind: å°†æ–‡æ¡£ä¸­çš„æŸä¸€ä¸ªæ•°ç»„ç±»å‹å­—æ®µæ‹†åˆ†æˆå¤šæ¡ï¼Œæ¯æ¡åŒ…å«æ•°ç»„ä¸­çš„ä¸€ä¸ªå€¼ã€‚ $group: å°†é›†åˆä¸­çš„æ–‡æ¡£åˆ†ç»„ï¼Œå¯ç”¨äºç»Ÿè®¡ç»“æœã€‚ $sort: å°†è¾“å…¥æ–‡æ¡£æ’åºåè¾“å‡ºã€‚ $geoNear: æ•°æ®æ¥è¿‘æŸä¸€åœ°ç†ä½ç½®çš„æœ‰åºæ–‡æ¡£ã€‚ ç®¡é“æ“ä½œç¬¦å®ä¾‹ $projectå®ä¾‹ 12345678db.article.aggregate( &#123; $project : &#123; title : 1 , author : 1 , &#125; &#125;); è¿™æ ·çš„è¯ç»“æœä¸­å°±åªè¿˜æœ‰_id,tilteå’Œauthorä¸‰ä¸ªå­—æ®µäº†ï¼Œé»˜è®¤æƒ…å†µä¸‹_idå­—æ®µæ˜¯è¢«åŒ…å«çš„ï¼Œå¦‚æœè¦æƒ³ä¸åŒ…å«_idè¯å¯ä»¥è¿™æ ·: 123456789db.article.aggregate( &#123; $project : &#123; _id : 0 , title : 1 , author : 1 &#125; &#125;); $matchå®ä¾‹ 1234db.articles.aggregate( [ &#123; $match : &#123; score : &#123; $gt : 70, $lte : 90 &#125; &#125; &#125;, &#123; $group: &#123; _id: null, count: &#123; $sum: 1 &#125; &#125; &#125; ]); $skipå®ä¾‹ 123db.article.aggregate( &#123; $skip : 5 &#125;); ç»è¿‡$skipç®¡é“æ“ä½œç¬¦å¤„ç†åï¼Œå‰äº”ä¸ªæ–‡æ¡£è¢«&quot;è¿‡æ»¤&quot;æ‰ã€‚","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"Mongo","slug":"Mongo","permalink":"https://jokinglove.com/blog/group/tags/Mongo/"},{"name":"Database","slug":"Database","permalink":"https://jokinglove.com/blog/group/tags/Database/"}]},{"title":"markdown å¸¸ç”¨è¯­æ³•æ±‡æ€»","slug":"others/tools/20190605-markdownå¸¸ç”¨è¯­æ³•","date":"2019-05-14T16:00:00.000Z","updated":"2019-12-08T06:01:50.875Z","comments":true,"path":"2019/05/15/others/tools/20190605-markdownå¸¸ç”¨è¯­æ³•/","link":"","permalink":"https://jokinglove.com/blog/2019/05/15/others/tools/20190605-markdownå¸¸ç”¨è¯­æ³•/","excerpt":"markdown å¸¸ç”¨è¯­æ³•æ±‡æ€» è¿™äº›å­—æœ‰ä¸‹åˆ’çº¿ æˆ‘æœ‰ä¸Šæ ‡ä¸Šæ ‡ æˆ‘æœ‰ä¸‹æ ‡ä¸‹æ ‡ åŠ ç²—1","text":"markdown å¸¸ç”¨è¯­æ³•æ±‡æ€» è¿™äº›å­—æœ‰ä¸‹åˆ’çº¿ æˆ‘æœ‰ä¸Šæ ‡ä¸Šæ ‡ æˆ‘æœ‰ä¸‹æ ‡ä¸‹æ ‡ åŠ ç²—1 åŠ ç²—2 æ–œä½“1 æ–œä½“2 åˆ é™¤çº¿ è¿™ä¸ªæ˜¯å®šä¹‰å˜é‡","categories":[{"name":"ä¸Šå¤ç¥å™¨","slug":"ä¸Šå¤ç¥å™¨","permalink":"https://jokinglove.com/blog/group/categories/ä¸Šå¤ç¥å™¨/"}],"tags":[{"name":"tools","slug":"tools","permalink":"https://jokinglove.com/blog/group/tags/tools/"}]},{"title":"Kafka (a distributed streaming platform)","slug":"others/kafka/20190524-spring-kafka","date":"2019-05-13T16:00:00.000Z","updated":"2019-12-08T06:01:50.873Z","comments":true,"path":"2019/05/14/others/kafka/20190524-spring-kafka/","link":"","permalink":"https://jokinglove.com/blog/2019/05/14/others/kafka/20190524-spring-kafka/","excerpt":"Kafka (a distributed streaming platform) Kafka çš„ä¸‰å¤§åŠŸèƒ½ï¼š å‘å¸ƒ &amp; è®¢é˜… ç±»ä¼¼äºä¸€ä¸ªæ¶ˆæ¯ç³»ç»Ÿï¼Œè¯»å†™æµå¼çš„æ•°æ®ã€‚ å¤„ç† ç¼–å†™å¯æ‰©å±•çš„æµå¤„ç†åº”ç”¨ç¨‹åºï¼Œç”¨äºå®æ—¶æ—¶é—´ç›¸åº”çš„åœºæ™¯ã€‚ å­˜å‚¨ å®‰å…¨çš„å°†æµå¼çš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ã€æœ‰å‰¯æœ¬å¤‡ä»½ã€å®¹é”™çš„é›†ç¾¤ã€‚","text":"Kafka (a distributed streaming platform) Kafka çš„ä¸‰å¤§åŠŸèƒ½ï¼š å‘å¸ƒ &amp; è®¢é˜… ç±»ä¼¼äºä¸€ä¸ªæ¶ˆæ¯ç³»ç»Ÿï¼Œè¯»å†™æµå¼çš„æ•°æ®ã€‚ å¤„ç† ç¼–å†™å¯æ‰©å±•çš„æµå¤„ç†åº”ç”¨ç¨‹åºï¼Œç”¨äºå®æ—¶æ—¶é—´ç›¸åº”çš„åœºæ™¯ã€‚ å­˜å‚¨ å®‰å…¨çš„å°†æµå¼çš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ã€æœ‰å‰¯æœ¬å¤‡ä»½ã€å®¹é”™çš„é›†ç¾¤ã€‚ Kafka é€‚åˆçš„åœºæ™¯ï¼š â€‹ Kafka ä¸»è¦åº”ç”¨äºä¸¤å¤§ç±»åˆ«çš„åº”ç”¨ 1ã€æ„é€ å®æ—¶æµæ•°æ®ç®¡é“ï¼Œå®ƒå¯ä»¥åœ¨ç³»ç»Ÿæˆ–åº”ç”¨ä¹‹é—´å¯é çš„è·å–æ•°æ®ã€‚(ç›¸å½“äº message queue) 2ã€æ„å»ºå®æ—¶æµå¼åº”ç”¨ç¨‹åºï¼Œå¯¹è¿™äº›æµå¼æ•°æ®è¿›è¡Œè½¬æ¢æˆ–è€…å½±å“ã€‚(å°±æ˜¯æµå¤„ç†ï¼Œé€šè¿‡ kafka strem topic å’Œ topic ä¹‹é—´å†…éƒ¨è¿›è¡Œå˜åŒ–) ä¸€äº›æ¦‚å¿µ Kafka ä½œä¸ºä¸€ä¸ªé›†ç¾¤ï¼Œè¿è¡Œåœ¨ä¸€å°æˆ–è€…å¤šå°æœåŠ¡å™¨ä¸Šã€‚ Kafka é€šè¿‡ topic å¯¹å­˜å‚¨çš„æµæ•°æ®è¿›è¡Œåˆ†ç±»ã€‚ æ¯å¤©è®°å½•åŒ…å«ä¸€ä¸ª key ï¼Œä¸€ä¸ª value å’Œä¸€ä¸ª timestamp (æ—¶é—´æˆ³)ã€‚ Kafka çš„å››ä¸ªæ ¸å¿ƒ API The Produce API å…è®¸ä¸€ä¸ªåº”ç”¨ç¨‹åºå‘å¸ƒä¸€ä¸²æµå¼æ•°æ®åˆ°ä¸€ä¸ªæˆ–è€…å¤šä¸ª Kafka topicã€‚ The Consumer API å…è®¸ä¸€ä¸ªåº”ç”¨ç¨‹åºè®¢é˜…ä¸€ä¸ªæˆ–è€…å¤šä¸ª topicï¼Œå¹¶å¯¹å‘å¸ƒç»™ä»–ä»¬çš„æµå¼æ•°æ®è¿›è¡Œå¤„ç†ã€‚ The Stream API å…è®¸ä¸€ä¸ªåº”ç”¨ç¨‹åºä½œä¸ºä¸€ä¸ªæµå¤„ç†å™¨ï¼Œæ¶ˆè´¹ä¸€ä¸ªæˆ–è€…å¤šä¸ª topic äº§ç”Ÿçš„è¾“å…¥æµï¼Œç„¶åç”Ÿäº§ä¸€ä¸ªè¾“å‡ºæµåˆ°ä¸€ä¸ªæˆ–è€…å¤šä¸ª topic ä¸­å»ï¼Œåœ¨è¾“å…¥è¾“å‡ºæµä¸­è¿›è¡Œæœ‰æ•ˆçš„è½¬æ¢ã€‚ The Connector API å…è®¸æ„å»ºå¹¶è¿è¡Œå¯é‡ç”¨çš„ç”Ÿäº§è€…æˆ–æ¶ˆè´¹è€…ï¼Œå°† Kafka topic è¿æ¥åˆ°å·²å­˜åœ¨çš„åº”ç”¨ç¨‹åºæˆ–è€…æ•°æ®ç³»ç»Ÿã€‚æ¯”å¦‚ï¼Œè¿æ¥åˆ°ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ï¼Œæ•æ‰è¡¨ (table) çš„æ‰€æœ‰å˜æ›´å†…å®¹ã€‚","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"Kafka","slug":"Kafka","permalink":"https://jokinglove.com/blog/group/tags/Kafka/"},{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"https://jokinglove.com/blog/group/tags/å¤§æ•°æ®/"}]},{"title":"Spring Boot æ•´åˆ ElasticSearch å…¥é—¨","slug":"others/microservice/20190524-spring-boot-elasticsearch","date":"2019-05-12T16:00:00.000Z","updated":"2019-12-08T06:01:50.875Z","comments":true,"path":"2019/05/13/others/microservice/20190524-spring-boot-elasticsearch/","link":"","permalink":"https://jokinglove.com/blog/2019/05/13/others/microservice/20190524-spring-boot-elasticsearch/","excerpt":"Spring Boot æ•´åˆ ElasticSearch å…¥é—¨ â€‹ åˆ©ç”¨ spring data elasticsearch æ¨¡å—æ¥å¯¹ elasticsearch è¿›è¡ŒåŸºç¡€çš„å¢åˆ æ”¹æŸ¥ï¼Œelasticsearch åˆ©ç”¨ docker çš„æ–¹å¼å¯åŠ¨è¿è¡Œã€‚ å¯åŠ¨ elasticsearch ä¸‹è½½ elasticsearch çš„ docker é•œåƒï¼š 1docker pull docker.elastic.co/elasticsearch/elasticsearch:6.7.2 ä»¥å¼€å‘æ¨¡å¼è¿è¡Œ elasticsearch çš„ docker å®¹å™¨ï¼š 1docker run -p 9200:9200 -p 9300:9300 -e \"discovery.type=single-node\" docker.elastic.co/elasticsearch/elasticsearch:6.7.2","text":"Spring Boot æ•´åˆ ElasticSearch å…¥é—¨ â€‹ åˆ©ç”¨ spring data elasticsearch æ¨¡å—æ¥å¯¹ elasticsearch è¿›è¡ŒåŸºç¡€çš„å¢åˆ æ”¹æŸ¥ï¼Œelasticsearch åˆ©ç”¨ docker çš„æ–¹å¼å¯åŠ¨è¿è¡Œã€‚ å¯åŠ¨ elasticsearch ä¸‹è½½ elasticsearch çš„ docker é•œåƒï¼š 1docker pull docker.elastic.co/elasticsearch/elasticsearch:6.7.2 ä»¥å¼€å‘æ¨¡å¼è¿è¡Œ elasticsearch çš„ docker å®¹å™¨ï¼š 1docker run -p 9200:9200 -p 9300:9300 -e \"discovery.type=single-node\" docker.elastic.co/elasticsearch/elasticsearch:6.7.2 æµè§ˆå™¨è®¿é—® http://localhost:9200/ å‡ºç°å¦‚ä¸‹ä¿¡æ¯å°±è¯´æ˜å¯åŠ¨æˆåŠŸï¼š 1234567891011121314151617&#123; name: \"-jrZGj7\", cluster_name: \"docker-cluster\", cluster_uuid: \"-3-MZwe_QImewxAtCSweKQ\", version: &#123; number: \"6.7.2\", build_flavor: \"default\", build_type: \"docker\", build_hash: \"56c6e48\", build_date: \"2019-04-29T09:05:50.290371Z\", build_snapshot: false, lucene_version: \"7.7.0\", minimum_wire_compatibility_version: \"5.6.0\", minimum_index_compatibility_version: \"5.0.0\" &#125;, tagline: \"You Know, for Search\"&#125; ç¼–å†™æµ‹è¯•ç¨‹åºæ¥è¿æ¥ elasticsearch åˆ›å»ºåä¸º spring-boot-elasticsearch çš„ Spring Boot é¡¹ç›®ï¼Œåœ¨ pom.xml ä¸­æ·»åŠ ä¸‹é¢çš„ä¾èµ–ï¼š 12345678910111213&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!-- elasticsearch jar --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;&lt;/dependency&gt; åœ¨ application.xml æ–‡ä»¶ä¸­åŠ å…¥ä¸‹é¢é…ç½®ï¼š 12345server.port= 8080spring.application.name = spring-boot-elasticsearch# æ³¨æ„ï¼Œè¿™ä¸ªä½ç½®ä¸€å®šè¦é…ç½®ï¼Œä¸ç„¶ä¼šæŠ¥ not avaliable node çš„é”™è¯¯çš„ï¼Œå…·ä½“çš„ cluster-name æ˜¯ä»æµè§ˆå™¨ä¸­è®¿é—® http://localhost:9200/ æ¥å£ä¸­è·å–çš„spring.data.elasticsearch.cluster-name=docker-clusterspring.data.elasticsearch.cluster-nodes=127.0.0.1:9300 åˆ›å»º GoodsIznfo.java ç±» 12345678910111213141516171819202122232425262728293031323334353637383940414243444546package com.ikang.springbootelasticsearch.document;import org.springframework.data.elasticsearch.annotations.Document;import java.io.Serializable;@Document(indexName = \"testgoods\", type = \"goods\")public class GoodsInfo implements Serializable &#123; private Long id; private String name; private String description; public GoodsInfo() &#123; &#125; public GoodsInfo(Long id, String name, String description) &#123; this.id = id; this.name = name; this.description = description; &#125; public Long getId() &#123; return id; &#125; public void setId(Long id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getDescription() &#123; return description; &#125; public void setDescription(String description) &#123; this.description = description; &#125;&#125; åˆ›å»º GoodsInfoRepository.java æ¥å£ç»§æ‰¿ ElasticsearchRepository æ¥å£ 12345678910package com.ikang.springbootelasticsearch.repository;import com.ikang.springbootelasticsearch.document.GoodsInfo;import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;import org.springframework.stereotype.Component;@Componentpublic interface GoodsRepository extends ElasticsearchRepository&lt;GoodsInfo, Long&gt; &#123;&#125; åˆ›å»º GoodsInfoController.java 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293package com.ikang.springbootelasticsearch.controller;import com.ikang.springbootelasticsearch.document.GoodsInfo;import com.ikang.springbootelasticsearch.repository.GoodsRepository;import org.elasticsearch.index.query.QueryBuilders;import org.elasticsearch.search.fetch.subphase.highlight.HighlightBuilder;import org.springframework.data.domain.Page;import org.springframework.data.domain.PageRequest;import org.springframework.data.domain.Pageable;import org.springframework.data.elasticsearch.core.query.NativeSearchQuery;import org.springframework.data.elasticsearch.core.query.NativeSearchQueryBuilder;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import java.util.ArrayList;import java.util.List;import java.util.Optional;@RestController@RequestMapping(\"goods\")public class GoodsController &#123; private final GoodsRepository goodsRepository; public GoodsController(GoodsRepository goodsRepository) &#123; this.goodsRepository = goodsRepository; &#125; @GetMapping(\"save\") public String save() &#123; GoodsInfo goodsInfo = new GoodsInfo(System.currentTimeMillis(), \"å•†å“\" + System.currentTimeMillis(), \"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å•†å“ï¼\"); goodsRepository.save(goodsInfo); return \"success\"; &#125; @GetMapping(\"delete\") public String delete(Long id) &#123; goodsRepository.deleteById(id); return \"success\"; &#125; @GetMapping(\"update\") public String update(Long id, String name, String description) &#123; GoodsInfo goodsInfo = new GoodsInfo(id, name, description); goodsRepository.save(goodsInfo); return \"success\"; &#125; @GetMapping(\"getOne\") public GoodsInfo getOne(Long id) &#123; Optional&lt;GoodsInfo&gt; optional = goodsRepository.findById(id); return optional.isPresent() ? optional.get() : null; &#125; @GetMapping(\"list\") public List&lt;GoodsInfo&gt; list() &#123; Iterable&lt;GoodsInfo&gt; all = goodsRepository.findAll(); List&lt;GoodsInfo&gt; list = new ArrayList&lt;&gt;(); all.forEach(list::add); return list; &#125; // æ¯é¡µæŸ¥è¯¢æ•°é‡ private final Integer DEFAULT_PAGE_SIZE = 10; @GetMapping(\"getList\") public Page&lt;GoodsInfo&gt; getList(Integer pageNum, String query) &#123; Pageable page = PageRequest.of(pageNum, DEFAULT_PAGE_SIZE); NativeSearchQuery nativeSearchQuery = new NativeSearchQueryBuilder() .withPageable(page) .withQuery(QueryBuilders.matchAllQuery()) .withFilter(QueryBuilders.matchQuery(\"name\", query)) .withFilter(QueryBuilders.matchQuery(\"description\", query)) .withHighlightFields(new HighlightBuilder.Field(\"name\").preTags(\"&lt;font color='red'&gt;\").postTags(\"&lt;/font&gt;\"), new HighlightBuilder.Field(\"description\").preTags(\"&lt;font color='red'&gt;\").postTags(\"&lt;/font&gt;\")) .build(); Page&lt;GoodsInfo&gt; goodsInfos = goodsRepository.search(nativeSearchQuery); return goodsInfos; &#125;&#125; æµ‹è¯•ç»“æœï¼š åœ¨æµè§ˆå™¨ä¸­è®¿é—® http://localhost:8080/goods/saveï¼Œ http://localhost:8080/goods/updateï¼Œhttp://localhost:8080/goods/list å°†ä¼šçœ‹åˆ°æ‰€æœ‰æ•°æ®å·²ç»æ’å…¥ï¼Œå¹¶ä¸”å¯ä»¥æŸ¥è¯¢å‡ºæ¥äº†ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283&#123;content: [&#123;id: 1558662806732,name: \"å•†å“1558662806732\",description: \"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å•†å“ï¼\"&#125;,&#123;id: 1558662808245,name: \"å•†å“1558662808245\",description: \"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å•†å“ï¼\"&#125;,&#123;id: 1558662893476,name: \"å•†å“1558662893476\",description: \"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å•†å“ï¼\"&#125;,&#123;id: 1558662901290,name: \"å•†å“1558662901290\",description: \"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å•†å“ï¼\"&#125;,&#123;id: 1558662627656,name: \"å•†å“1558662627656\",description: \"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å•†å“ï¼\"&#125;,&#123;id: 1558662804196,name: \"å•†å“1558662804196\",description: \"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å•†å“ï¼\"&#125;,&#123;id: 1558662807792,name: \"å•†å“1558662807792\",description: \"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å•†å“ï¼\"&#125;,&#123;id: 1558662808433,name: \"å•†å“1558662808433\",description: \"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å•†å“ï¼\"&#125;,&#123;id: 1558662896876,name: \"å•†å“1558662896876\",description: \"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å•†å“ï¼\"&#125;,&#123;id: 1558662900326,name: \"å•†å“1558662900326\",description: \"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å•†å“ï¼\"&#125;],pageable: &#123;sort: &#123;unsorted: true,sorted: false,empty: true&#125;,offset: 10,pageSize: 10,pageNumber: 1,paged: true,unpaged: false&#125;,facets: [ ],aggregations: null,scrollId: null,maxScore: 1,totalElements: 26,totalPages: 3,size: 10,number: 1,sort: &#123;unsorted: true,sorted: false,empty: true&#125;,last: false,numberOfElements: 10,first: false,empty: false&#125; é‡åˆ°çš„é—®é¢˜ï¼š 1ã€å¯åŠ¨æŠ¥ä¸‹é¢é”™è¯¯ï¼š 123456789101112132019-05-24 11:26:57.753 WARN 9683 --- [ main] o.e.c.t.TransportClientNodesService : node &#123;#transport#-1&#125;&#123;qZfhmDjMRiKldY_XKULvNg&#125;&#123;127.0.0.1&#125;&#123;127.0.0.1:9300&#125; not part of the cluster Cluster [elasticsearch], ignoring...2019-05-24 11:26:58.201 ERROR 9683 --- [ main] .d.e.r.s.AbstractElasticsearchRepository : failed to load elasticsearch nodes : org.elasticsearch.client.transport.NoNodeAvailableException: None of the configured nodes are available: [&#123;#transport#-1&#125;&#123;qZfhmDjMRiKldY_XKULvNg&#125;&#123;127.0.0.1&#125;&#123;127.0.0.1:9300&#125;]2019-05-24 11:26:58.350 INFO 9683 --- [ main] o.s.s.concurrent.ThreadPoolTaskExecutor : Initializing ExecutorService 'applicationTaskExecutor'2019-05-24 11:26:58.536 INFO 9683 --- [ main] o.s.b.a.e.web.EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'2019-05-24 11:26:58.588 INFO 9683 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path ''2019-05-24 11:26:58.590 INFO 9683 --- [ main] c.i.s.SpringBootElasticsearchApplication : Started SpringBootElasticsearchApplication in 3.707 seconds (JVM running for 4.354)2019-05-24 11:26:58.648 INFO 9683 --- [)-172.16.98.240] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring DispatcherServlet 'dispatcherServlet'2019-05-24 11:26:58.648 INFO 9683 --- [)-172.16.98.240] o.s.web.servlet.DispatcherServlet : Initializing Servlet 'dispatcherServlet'2019-05-24 11:26:58.652 WARN 9683 --- [)-172.16.98.240] o.s.b.a.e.ElasticsearchHealthIndicator : Elasticsearch health check failedorg.elasticsearch.client.transport.NoNodeAvailableException: None of the configured nodes are available: [&#123;#transport#-1&#125;&#123;qZfhmDjMRiKldY_XKULvNg&#125;&#123;127.0.0.1&#125;&#123;127.0.0.1:9300&#125;] at org.elasticsearch.client.transport.TransportClientNodesService.ensureNodesAreAvailable(TransportClientNodesService.java:349) ~[elasticsearch-6.4.3.jar:6.4.3] at é—®é¢˜åˆ†æï¼š è¿™æ˜¯å› ä¸º springboot ä¸­é»˜è®¤çš„ cluster-name ä¸º elasticsearchï¼Œæˆ‘ä»¬ç”¨ docker å¯åŠ¨çš„ elasticsearch é»˜è®¤çš„åç§°æ˜¯ docker-cluster, æ‰€ä»¥åœ¨ application.xml ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®å°±å¯ä»¥è§£å†³é—®é¢˜ï¼š 12&gt; spring.data.elasticsearch.cluster-name=docker-cluster&gt; 2ã€åœ¨æŸ¥è¯¢è¿‡ç¨‹ä¸­ä¼šæŠ¥ä¸€ä¸ªæ— æ³•ååºåˆ—åŒ–çš„é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•æ˜¯åœ¨ GoodsInfo.java ä¸­åŠ å…¥ä¸€ä¸ªé»˜è®¤çš„æ— å‚æ„é€ æ–¹æ³•ï¼Œå…·ä½“ä¸ºä»€ä¹ˆï¼Œåº”è¯¥å’Œ jackson çš„åºåˆ—åŒ–æœ‰å…³ã€‚","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"https://jokinglove.com/blog/group/tags/å¤§æ•°æ®/"},{"name":"springboot","slug":"springboot","permalink":"https://jokinglove.com/blog/group/tags/springboot/"},{"name":"ES","slug":"ES","permalink":"https://jokinglove.com/blog/group/tags/ES/"},{"name":"æœç´¢","slug":"æœç´¢","permalink":"https://jokinglove.com/blog/group/tags/æœç´¢/"}]},{"title":"ç¾å›¢ç³»ç»Ÿç›‘æ§å·¥å…· Cat å…¥é—¨","slug":"others/microservice/20190512-cat","date":"2019-05-11T16:00:00.000Z","updated":"2019-12-08T06:01:50.875Z","comments":true,"path":"2019/05/12/others/microservice/20190512-cat/","link":"","permalink":"https://jokinglove.com/blog/2019/05/12/others/microservice/20190512-cat/","excerpt":"ç¾å›¢ç³»ç»Ÿç›‘æ§å·¥å…· Cat å…¥é—¨ Cat ç®€ä»‹ CAT (Center Application Tracking) ï¼Œæ˜¯åŸºäº Java å¼€å‘çš„åˆ†å¸ƒå¼å®æ—¶ç›‘æ§ç³»ç»Ÿã€‚CAT åœ¨åŸºç¡€å­˜å‚¨ã€é«˜æ€§èƒ½ç«¥å¿ƒã€å¤§è§„æ¨¡åœ¨çº¿è®¿é—®ã€æœåŠ¡æ²»ç†ã€å®æ—¶ç›‘æ§ã€å®¹å™¨åŒ–åŠé›†ç¾¤æ™ºèƒ½è°ƒåº¦ç­‰é¢†åŸŸæä¾›ä¸šç•Œé¢†å…ˆçš„ã€ç»Ÿä¸€çš„è§£å†³æ–¹æ¡ˆã€‚CAT ç›®å‰åœ¨ç¾å›¢çš„äº§å“å®šä½æ˜¯åº”ç”¨å±‚çš„ç»Ÿä¸€ç›‘æ§ç»„ä»¶ï¼ŒåŸºæœ¬æ¥å…¥äº†ç¾å›¢çš„æ‰€æœ‰æ ¸å¿ƒåº”ç”¨ï¼Œåœ¨ä¸­é—´ä»¶ (RPCã€æ•°æ®åº“ã€ç¼“å­˜ã€MQç­‰) æ¡†æ¶ä¸­å¾—åˆ°å¹¿æ³›çš„åº”ç”¨ï¼Œä¸ºå„ä¸šåŠ¡çº¿æä¾›ç³»ç»Ÿçš„æ€§èƒ½æŒ‡æ ‡ã€å¥åº·çŠ¶å†µã€å®æ—¶å‘Šè­¦ç­‰ã€‚ Cat çš„äº§å“ä»·å€¼ å‡å°‘çº¿ä¸Šé—®é¢˜çš„å‘ç°æ—¶é—´ å‡å°‘é—®é¢˜æ•…éšœçš„å®šä½æ—¶é—´ è¾…åŠ©åº”ç”¨ç¨‹åºçš„ä¼˜åŒ–å·¥å…·","text":"ç¾å›¢ç³»ç»Ÿç›‘æ§å·¥å…· Cat å…¥é—¨ Cat ç®€ä»‹ CAT (Center Application Tracking) ï¼Œæ˜¯åŸºäº Java å¼€å‘çš„åˆ†å¸ƒå¼å®æ—¶ç›‘æ§ç³»ç»Ÿã€‚CAT åœ¨åŸºç¡€å­˜å‚¨ã€é«˜æ€§èƒ½ç«¥å¿ƒã€å¤§è§„æ¨¡åœ¨çº¿è®¿é—®ã€æœåŠ¡æ²»ç†ã€å®æ—¶ç›‘æ§ã€å®¹å™¨åŒ–åŠé›†ç¾¤æ™ºèƒ½è°ƒåº¦ç­‰é¢†åŸŸæä¾›ä¸šç•Œé¢†å…ˆçš„ã€ç»Ÿä¸€çš„è§£å†³æ–¹æ¡ˆã€‚CAT ç›®å‰åœ¨ç¾å›¢çš„äº§å“å®šä½æ˜¯åº”ç”¨å±‚çš„ç»Ÿä¸€ç›‘æ§ç»„ä»¶ï¼ŒåŸºæœ¬æ¥å…¥äº†ç¾å›¢çš„æ‰€æœ‰æ ¸å¿ƒåº”ç”¨ï¼Œåœ¨ä¸­é—´ä»¶ (RPCã€æ•°æ®åº“ã€ç¼“å­˜ã€MQç­‰) æ¡†æ¶ä¸­å¾—åˆ°å¹¿æ³›çš„åº”ç”¨ï¼Œä¸ºå„ä¸šåŠ¡çº¿æä¾›ç³»ç»Ÿçš„æ€§èƒ½æŒ‡æ ‡ã€å¥åº·çŠ¶å†µã€å®æ—¶å‘Šè­¦ç­‰ã€‚ Cat çš„äº§å“ä»·å€¼ å‡å°‘çº¿ä¸Šé—®é¢˜çš„å‘ç°æ—¶é—´ å‡å°‘é—®é¢˜æ•…éšœçš„å®šä½æ—¶é—´ è¾…åŠ©åº”ç”¨ç¨‹åºçš„ä¼˜åŒ–å·¥å…· Cat çš„ä¼˜åŠ¿ å®æ—¶å¤„ç†ï¼šä¿¡æ¯çš„ä»·å€¼ä¼šéšæ—¶é—´é”å‡ï¼Œå°¤å…¶æ˜¯äº‹æ•…å¤„ç†è¿‡ç¨‹ä¸­ã€‚ å…¨é‡æ•°æ®ï¼šæœ€å¼€å§‹çš„è®¾è®¡ç›®æ ‡å°±æ˜¯å…¨é‡é‡‡é›†ï¼Œå…¨é‡çš„å¥½å¤„æœ‰å¾ˆå¤šã€‚ é«˜å¯ç”¨ï¼šæ‰€æœ‰åº”ç”¨éƒ½å€’ä¸‹äº†ï¼Œéœ€è¦ç›‘æ§è¿˜ç«™ç€ï¼Œå¹¶å‘Šè¯‰å·¥ç¨‹å¸ˆå‘ç”Ÿäº†ä»€ä¹ˆï¼Œåšåˆ°æ•…éšœè¿˜åŸå’Œé—®é¢˜å®šä½ã€‚ æ•…éšœå®¹å¿ï¼šCAT æœ¬èº«æ•…éšœä¸åº”è¯¥å½±å“ä¸šåŠ¡æ­£å¸¸è¿è½¬ï¼ŒCAT æŒ‚äº†ï¼Œåº”ç”¨ä¸åº”è¯¥å—å½±å“ï¼Œåªæ˜¯ç›‘æ§èƒ½åŠ›æš‚æ—¶å‡å¼±ã€‚ é«˜ååï¼šè¦æƒ³è¿˜åŸçœŸç›¸ï¼Œéœ€è¦å…¨æ–¹ä½åœ°ç›‘æ§å’Œåº¦é‡ï¼Œå¿…é¡»è¦æœ‰è¶…å¼ºçš„å¤„ç†ååèƒ½åŠ›ã€‚ å¯æ‰©å±•ï¼šæ”¯æŒåˆ†å¸ƒå¼ã€è·¨ IDC éƒ¨ç½²ï¼Œæ¨ªå‘æ‰©å±•çš„ç›‘æ§ç³»ç»Ÿã€‚ Cat æ”¯æŒçš„ç›‘æ§æ¶ˆæ¯ç±»å‹ï¼š Transaction é€‚åˆè®°å½•è·¨è¶Šç³»ç»Ÿè¾¹ç•Œçš„ç¨‹åºè®¿é—®è¡Œä¸ºï¼Œæ¯”å¦‚è¿œç¨‹è°ƒç”¨ï¼Œæ•°æ®åº“è°ƒç”¨ï¼Œä¹Ÿé€‚åˆæ‰§è¡Œæ—¶é—´è¾ƒé•¿çš„ä¸šåŠ¡é€»è¾‘ç›‘æ§ï¼ŒTransaction ç”¨æ¥è®°å½•ä¸€æ®µä»£ç çš„æ‰§è¡Œæ—¶é—´å’Œæ¬¡æ•°ã€‚ Event ç”¨æ¥è®°å½•ä¸€ä»¶äº‹å‘ç”Ÿçš„æ¬¡æ•°ï¼Œæ¯”å¦‚è®°å½•ç³»ç»Ÿå¼‚å¸¸ï¼Œå®ƒå’Œ transaction ç›¸æ¯”ç¼ºå°‘äº†æ—¶é—´çš„ç»Ÿè®¡ï¼Œå¼€é”€æ¯” transaction è¦å°ã€‚ Heartbeat è¡¨ç¤ºç¨‹åºå†…å®šæœŸäº§ç”Ÿçš„ç»Ÿè®¡ä¿¡æ¯ï¼Œå¦‚ CPU åˆ©ç”¨ç‡ï¼Œå†…å­˜åˆ©ç”¨ç‡ï¼Œè¿æ¥æ± çŠ¶æ€ï¼Œç³»ç»Ÿè´Ÿè½½ç­‰ã€‚ Metric ç”¨äºè®°å½•ä¸šåŠ¡æŒ‡æ ‡ã€æŒ‡æ ‡å¯èƒ½åŒ…å«å¯¹ä¸€ä¸ªæŒ‡æ ‡è®°å½•æ¬¡æ•°ã€è®°å½•å¹³å±€å€¼ã€è®°å½•æ€»å’Œï¼Œä¸šåŠ¡æŒ‡æ ‡æœ€ä½ç»Ÿè®¡ç²’åº¦ä¸º1åˆ†é’Ÿã€‚","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"ç›‘æ§","slug":"ç›‘æ§","permalink":"https://jokinglove.com/blog/group/tags/ç›‘æ§/"},{"name":"microservice","slug":"microservice","permalink":"https://jokinglove.com/blog/group/tags/microservice/"},{"name":"cat","slug":"cat","permalink":"https://jokinglove.com/blog/group/tags/cat/"}]},{"title":"Prometheus å…¥é—¨","slug":"others/microservice/20190510-prometheus","date":"2019-05-10T16:00:00.000Z","updated":"2019-12-08T06:01:50.874Z","comments":true,"path":"2019/05/11/others/microservice/20190510-prometheus/","link":"","permalink":"https://jokinglove.com/blog/2019/05/11/others/microservice/20190510-prometheus/","excerpt":"Prometheus å…¥é—¨ Prometheus ç®€ä»‹ Prometheus æ˜¯ä¸€ä¸ªç³»ç»Ÿç›‘æ§å·¥å…·ï¼Œæ”¯æŒã€‚ã€‚ã€‚ã€‚ Prometheus å®‰è£… é€šè¿‡è¿æ¥ä¸­ä¸‹è½½ç›¸åº”ç‰ˆæœ¬çš„ Prometheus Download è§£å‹ä¸‹è½½çš„æ–‡ä»¶ 12tar xvfz prometheus-*.tar.gzcd prometheus-*","text":"Prometheus å…¥é—¨ Prometheus ç®€ä»‹ Prometheus æ˜¯ä¸€ä¸ªç³»ç»Ÿç›‘æ§å·¥å…·ï¼Œæ”¯æŒã€‚ã€‚ã€‚ã€‚ Prometheus å®‰è£… é€šè¿‡è¿æ¥ä¸­ä¸‹è½½ç›¸åº”ç‰ˆæœ¬çš„ Prometheus Download è§£å‹ä¸‹è½½çš„æ–‡ä»¶ 12tar xvfz prometheus-*.tar.gzcd prometheus-* Prometheus çš„ä½¿ç”¨ â€‹ è¿™éƒ¨åˆ†ä¸»è¦ç”¨ Prometheus æ¥ç›‘æ§è‡ªå·±çš„ä½¿ç”¨ï¼š åˆ›å»ºæ–‡ä»¶ prometheus.ymlï¼Œå†…å®¹å¦‚ä¸‹ï¼š 12345678910111213141516171819global: scrape_interval: 15s # By default, scrape targets every 15 seconds. # Attach these labels to any time series or alerts when communicating with # external systems (federation, remote storage, Alertmanager). external_labels: monitor: 'codelab-monitor'# A scrape configuration containing exactly one endpoint to scrape:# Here it's Prometheus itself.scrape_configs: # The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config. - job_name: 'prometheus' # Override the global default and scrape targets from this job every 5 seconds. scrape_interval: 5s static_configs: - targets: ['localhost:9090'] å¯åŠ¨ Prometheus 123# Start Prometheus.# By default, Prometheus stores its database in ./data (flag --storage.tsdb.path)../prometheus --config.file=prometheus.yml é»˜è®¤çš„ï¼ŒPrometheus å¼€å¯äº† 9090 ç«¯å£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¿é—® http://localhost:9090 æ¥æŸ¥çœ‹ Prometheus ä¸­çš„ç›‘æ§ä¿¡æ¯ã€‚ æ€»ç»“","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/tags/IT/"},{"name":"promethus","slug":"promethus","permalink":"https://jokinglove.com/blog/group/tags/promethus/"},{"name":"ç›‘æ§","slug":"ç›‘æ§","permalink":"https://jokinglove.com/blog/group/tags/ç›‘æ§/"},{"name":"microservice","slug":"microservice","permalink":"https://jokinglove.com/blog/group/tags/microservice/"}]},{"title":"springå®¹å™¨åˆå§‹åŒ–çš„å‡ ç§æ–¹å¼","slug":"others/java/spring-å®¹å™¨åˆå§‹åŒ–çš„å‡ ç§æ–¹å¼","date":"2019-04-24T16:00:00.000Z","updated":"2019-12-08T06:01:50.873Z","comments":true,"path":"2019/04/25/others/java/spring-å®¹å™¨åˆå§‹åŒ–çš„å‡ ç§æ–¹å¼/","link":"","permalink":"https://jokinglove.com/blog/2019/04/25/others/java/spring-å®¹å™¨åˆå§‹åŒ–çš„å‡ ç§æ–¹å¼/","excerpt":"spring é€šå¸¸æœ‰äº”ç§åˆå§‹åŒ–çš„æ–¹å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š","text":"spring é€šå¸¸æœ‰äº”ç§åˆå§‹åŒ–çš„æ–¹å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647package ssh.spring; import java.io.IOException; import org.springframework.beans.factory.BeanFactory;import org.springframework.beans.factory.xml.XmlBeanFactory;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;import org.springframework.core.io.ClassPathResource;import org.springframework.core.io.FileSystemResource;import org.springframework.core.io.Resource; public class Test &#123; @org.junit.Test public void test1()&#123; ApplicationContext ac=new ClassPathXmlApplicationContext(\"ssh/spring/applicationContext.xml\"); Person p1=(Person)ac.getBean(\"person\"); System.out.println(\"test1 \"+p1); &#125; @org.junit.Test public void test2()&#123; ApplicationContext ac=new ClassPathXmlApplicationContext(\"applicationContext.xml\",this.getClass()); Person p1=(Person)ac.getBean(\"person\"); System.out.println(\"test2 \"+p1); &#125; @org.junit.Test public void test3()&#123; Resource resource=new ClassPathResource(\"ssh/spring/applicationContext.xml\"); BeanFactory beanFactory=new XmlBeanFactory(resource); Person p1=(Person)beanFactory.getBean(\"person\"); System.out.println(\"test3 \"+p1); &#125; @org.junit.Test public void test4() throws IOException&#123; Resource resource=new ClassPathResource(\"applicationContext.xml\",this.getClass()); BeanFactory beanFactory=new XmlBeanFactory(resource); Person p1=(Person)beanFactory.getBean(\"person\"); System.out.println(\"test4 \"+p1); &#125; @org.junit.Test public void test5()&#123; Resource resource=new FileSystemResource(\"E:/Java/study/WebRoot/WEB-INF/classes/ssh/spring/applicationContext.xml\"); BeanFactory beanFactory=new XmlBeanFactory(resource); Person p1=(Person)beanFactory.getBean(\"person\"); System.out.println(\"test5 \"+p1); &#125;&#125;","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"spring","slug":"spring","permalink":"https://jokinglove.com/blog/group/tags/spring/"}]},{"title":"python å­¦ä¹ ç¬”è®°1","slug":"others/python1","date":"2018-07-21T16:00:00.000Z","updated":"2019-12-08T06:01:50.875Z","comments":true,"path":"2018/07/22/others/python1/","link":"","permalink":"https://jokinglove.com/blog/2018/07/22/others/python1/","excerpt":"Python3ä¸­æœ‰å…­ä¸ªæ ‡å‡†çš„æ•°æ®ç±»å‹ï¼š å­—ç¬¦ä¸²ï¼ˆStringï¼‰ æ•°å­—ï¼ˆDigitï¼‰ åˆ—è¡¨ï¼ˆListï¼‰","text":"Python3ä¸­æœ‰å…­ä¸ªæ ‡å‡†çš„æ•°æ®ç±»å‹ï¼š å­—ç¬¦ä¸²ï¼ˆStringï¼‰ æ•°å­—ï¼ˆDigitï¼‰ åˆ—è¡¨ï¼ˆListï¼‰ å…ƒç»„ï¼ˆTupleï¼‰ é›†åˆï¼ˆSetsï¼‰ å­—å…¸ï¼ˆDictionaryï¼‰ æ—¥æœŸï¼ˆdateï¼‰ å¸ƒå°” (Boolean) æ•°å€¼ (Number) æ•´å‹â€”â€”intâ€”â€”æ•°å­— pythonæœ‰5ç§æ•°å­—ç±»å‹ï¼Œæœ€å¸¸è§çš„å°±æ˜¯æ•´å‹intã€‚ä¾‹å¦‚ï¼š1234ã€-1234 å¸ƒå°”å‹â€”â€”boolâ€”â€”ç”¨ç¬¦å·==è¡¨ç¤º å¸ƒå°”å‹æ˜¯ä¸€ç§æ¯”è¾ƒç‰¹æ®Šçš„pythonæ•°å­—ç±»å‹ï¼Œå®ƒåªæœ‰Trueå’ŒFalseä¸¤ç§å€¼ï¼Œå®ƒä¸»è¦ç”¨æ¥æ¯”è¾ƒå’Œåˆ¤æ–­ï¼Œæ‰€å¾—ç»“æœå«åšå¸ƒå°”å€¼ã€‚ä¾‹å¦‚ï¼š3==3 ç»™å‡ºTrueï¼Œ3==5ç»™å‡ºFalse å­—ç¬¦ä¸²â€”â€”strâ€”â€”ç”¨â€™ 'æˆ–&quot; â€œè¡¨ç¤º ä¾‹å¦‚ï¼š'www.iplaypython.comâ€™æˆ–è€…&quot;helloâ€ åˆ—è¡¨â€”â€”listâ€”â€”ç”¨[ ]ç¬¦å·è¡¨ç¤º ä¾‹å¦‚ï¼š[1,2,3,4] å…ƒç»„â€”â€”tupleâ€”â€”ç”¨( )ç¬¦å·è¡¨ç¤º ä¾‹å¦‚ï¼šï¼ˆâ€˜dâ€™,300ï¼‰ å­—å…¸â€”â€”dictâ€”â€”ç”¨{ }ç¬¦å·è¡¨ç¤º ä¾‹å¦‚ï¼šï½›â€˜nameâ€™:â€˜cocoâ€™,â€˜countryâ€™:â€˜chinaâ€™ï½ æ›´å¤šå†…å®¹â€¦","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"python","slug":"python","permalink":"https://jokinglove.com/blog/group/tags/python/"}]},{"title":"maven install","slug":"others/tools/maveninstall","date":"2017-12-06T16:00:00.000Z","updated":"2019-12-08T06:01:50.876Z","comments":true,"path":"2017/12/07/others/tools/maveninstall/","link":"","permalink":"https://jokinglove.com/blog/2017/12/07/others/tools/maveninstall/","excerpt":"ä½¿ç”¨maven installå®‰è£…jaråŒ…åˆ°æœ¬åœ°ä»“åº“ æˆ‘ä»¬ç»å¸¸ç”¨é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯æ¯æ¬¡åœ¨é¡¹ç›®æ›´æ–°çš„æ—¶å€™ï¼Œmaven å°±ä¸€ç›´å¡åœ¨é‚£ä¸åŠ¨äº†ï¼Œç­‰åŠå¤©éƒ½ç­‰ä¸ä½ï¼Œå°¤å…¶æ˜¯åœ¨eclipseä¸­ï¼Œæœ‰æ—¶å€™å•¥ä¹Ÿåšä¸äº†å°±ä¸€ç›´ç­‰ç€ã€‚æ‰“å¼€è¿›ç¨‹å‘ç°ï¼ŒåŸæ¥åœ¨ä¸‹jaråŒ…çš„æ—¶å€™ï¼Œä¸€ç›´åœ¨æ‰¾ï¼Œä½†å°±æ˜¯ä¸‹è½½ä¸ä¸‹æ¥ï¼Œæœ‰äº›å°±1kbï¼Œ2kbçš„åœ¨é‚£ä¸‹è½½è¿™ï¼Œçœ‹ç€ç‰¹åˆ«è›‹ç–¼ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å»mavenä¸­å¿ƒä»“åº“æˆ–è€…å…¶ä»–åœ°æ–¹æ‰‹åŠ¨ä¸‹è½½jaråŒ…ï¼Œç„¶åé€šè¿‡maven installå‘½ä»¤ï¼Œå°†æˆ‘ä»¬ä¸‹è½½å¥½çš„jaråŒ…ç›´æ¥å®‰è£…åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚","text":"ä½¿ç”¨maven installå®‰è£…jaråŒ…åˆ°æœ¬åœ°ä»“åº“ æˆ‘ä»¬ç»å¸¸ç”¨é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯æ¯æ¬¡åœ¨é¡¹ç›®æ›´æ–°çš„æ—¶å€™ï¼Œmaven å°±ä¸€ç›´å¡åœ¨é‚£ä¸åŠ¨äº†ï¼Œç­‰åŠå¤©éƒ½ç­‰ä¸ä½ï¼Œå°¤å…¶æ˜¯åœ¨eclipseä¸­ï¼Œæœ‰æ—¶å€™å•¥ä¹Ÿåšä¸äº†å°±ä¸€ç›´ç­‰ç€ã€‚æ‰“å¼€è¿›ç¨‹å‘ç°ï¼ŒåŸæ¥åœ¨ä¸‹jaråŒ…çš„æ—¶å€™ï¼Œä¸€ç›´åœ¨æ‰¾ï¼Œä½†å°±æ˜¯ä¸‹è½½ä¸ä¸‹æ¥ï¼Œæœ‰äº›å°±1kbï¼Œ2kbçš„åœ¨é‚£ä¸‹è½½è¿™ï¼Œçœ‹ç€ç‰¹åˆ«è›‹ç–¼ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å»mavenä¸­å¿ƒä»“åº“æˆ–è€…å…¶ä»–åœ°æ–¹æ‰‹åŠ¨ä¸‹è½½jaråŒ…ï¼Œç„¶åé€šè¿‡maven installå‘½ä»¤ï¼Œå°†æˆ‘ä»¬ä¸‹è½½å¥½çš„jaråŒ…ç›´æ¥å®‰è£…åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚ 1ã€å°†JaråŒ…å®‰è£…åˆ°æœ¬åœ°ä»“åº“ å‘½ä»¤ 1mvn install:install-file -Dfile=D:\\thrift-0.9.2.jar -DgroupId=org.apache.thrift -DartifactId=libthrift -Dversion=0.9.2 -Dpackaging=jar å…¶ä¸­ï¼š DgroupIdå’ŒDartifactIdæ„æˆäº†è¯¥jaråŒ…åœ¨pom.xmlçš„åæ ‡ï¼Œ å¯¹åº”ä¾èµ–çš„DgroupIdå’ŒDartifactId Dfileè¡¨ç¤ºéœ€è¦ä¸Šä¼ çš„jaråŒ…çš„ç»å¯¹è·¯å¾„ Dpackaging ä¸ºå®‰è£…æ–‡ä»¶çš„ç§ç±» 2ã€ ä¸Šä¼ Jaråˆ°ç§æœ å‘½ä»¤ 1mvn deploy:deploy-file -DgroupId=org.apache.thrift -DartifactId=libthrift -Dversion=1.12 -Dpackaging=jar -Dfile=D:\\thrift-0.9.2.jar -Durl=http://ip:port/nexus/content/repositories/thirdparty/ -DrepositoryId=thirdparty å…¶ä¸­ï¼š DgroupIdå’ŒDartifactIdæ„æˆäº†è¯¥jaråŒ…åœ¨pom.xmlçš„åæ ‡ï¼Œ å¯¹åº”ä¾èµ–çš„DgroupIdå’ŒDartifactId Dfileè¡¨ç¤ºéœ€è¦ä¸Šä¼ çš„jaråŒ…çš„ç»å¯¹è·¯å¾„ Durlç§æœä¸Šä»“åº“çš„urlç²¾ç¡®åœ°å€(æ‰“å¼€nexuså·¦ä¾§repositoriesèœå•ï¼Œå¯ä»¥çœ‹åˆ°è¯¥è·¯å¾„) DrepositoryIdæœåŠ¡å™¨çš„è¡¨ç¤ºidï¼Œåœ¨nexusçš„configurationå¯ä»¥çœ‹åˆ° è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨æˆ‘ä»¬çš„pom.xmlæ–‡ä»¶ä¸­ç›´æ¥å¯¼å…¥dependecyäº†ï¼Œä¸éœ€è¦å»ç½‘ä¸Šä¸‹è½½äº†ï¼Œä¸ä¼šå› ä¸ºæŸå‡ ä¸ªjaråŒ…çš„é—®é¢˜ï¼Œè€Œè€½è¯¯åšå…¶ä»–çš„äº‹äº†ã€‚","categories":[{"name":"ä¸Šå¤ç¥å™¨","slug":"ä¸Šå¤ç¥å™¨","permalink":"https://jokinglove.com/blog/group/categories/ä¸Šå¤ç¥å™¨/"}],"tags":[{"name":"maven","slug":"maven","permalink":"https://jokinglove.com/blog/group/tags/maven/"}]},{"title":"maven install","slug":"others/maveninstall","date":"2017-12-06T16:00:00.000Z","updated":"2019-12-08T06:01:50.874Z","comments":true,"path":"2017/12/07/others/maveninstall/","link":"","permalink":"https://jokinglove.com/blog/2017/12/07/others/maveninstall/","excerpt":"ä½¿ç”¨maven installå®‰è£…jaråŒ…åˆ°æœ¬åœ°ä»“åº“ æˆ‘ä»¬ç»å¸¸ç”¨é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯æ¯æ¬¡åœ¨é¡¹ç›®æ›´æ–°çš„æ—¶å€™ï¼Œmaven å°±ä¸€ç›´å¡åœ¨é‚£ä¸åŠ¨äº†ï¼Œç­‰åŠå¤©éƒ½ç­‰ä¸ä½ï¼Œå°¤å…¶æ˜¯åœ¨eclipseä¸­ï¼Œæœ‰æ—¶å€™å•¥ä¹Ÿåšä¸äº†å°±ä¸€ç›´ç­‰ç€ã€‚æ‰“å¼€è¿›ç¨‹å‘ç°ï¼ŒåŸæ¥åœ¨ä¸‹jaråŒ…çš„æ—¶å€™ï¼Œä¸€ç›´åœ¨æ‰¾ï¼Œä½†å°±æ˜¯ä¸‹è½½ä¸ä¸‹æ¥ï¼Œæœ‰äº›å°±1kbï¼Œ2kbçš„åœ¨é‚£ä¸‹è½½è¿™ï¼Œçœ‹ç€ç‰¹åˆ«è›‹ç–¼ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å»mavenä¸­å¿ƒä»“åº“æˆ–è€…å…¶ä»–åœ°æ–¹æ‰‹åŠ¨ä¸‹è½½jaråŒ…ï¼Œç„¶åé€šè¿‡maven installå‘½ä»¤ï¼Œå°†æˆ‘ä»¬ä¸‹è½½å¥½çš„jaråŒ…ç›´æ¥å®‰è£…åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚","text":"ä½¿ç”¨maven installå®‰è£…jaråŒ…åˆ°æœ¬åœ°ä»“åº“ æˆ‘ä»¬ç»å¸¸ç”¨é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯æ¯æ¬¡åœ¨é¡¹ç›®æ›´æ–°çš„æ—¶å€™ï¼Œmaven å°±ä¸€ç›´å¡åœ¨é‚£ä¸åŠ¨äº†ï¼Œç­‰åŠå¤©éƒ½ç­‰ä¸ä½ï¼Œå°¤å…¶æ˜¯åœ¨eclipseä¸­ï¼Œæœ‰æ—¶å€™å•¥ä¹Ÿåšä¸äº†å°±ä¸€ç›´ç­‰ç€ã€‚æ‰“å¼€è¿›ç¨‹å‘ç°ï¼ŒåŸæ¥åœ¨ä¸‹jaråŒ…çš„æ—¶å€™ï¼Œä¸€ç›´åœ¨æ‰¾ï¼Œä½†å°±æ˜¯ä¸‹è½½ä¸ä¸‹æ¥ï¼Œæœ‰äº›å°±1kbï¼Œ2kbçš„åœ¨é‚£ä¸‹è½½è¿™ï¼Œçœ‹ç€ç‰¹åˆ«è›‹ç–¼ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å»mavenä¸­å¿ƒä»“åº“æˆ–è€…å…¶ä»–åœ°æ–¹æ‰‹åŠ¨ä¸‹è½½jaråŒ…ï¼Œç„¶åé€šè¿‡maven installå‘½ä»¤ï¼Œå°†æˆ‘ä»¬ä¸‹è½½å¥½çš„jaråŒ…ç›´æ¥å®‰è£…åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚ 1ã€å°†JaråŒ…å®‰è£…åˆ°æœ¬åœ°ä»“åº“ å‘½ä»¤ 1mvn install:install-file -Dfile=D:\\thrift-0.9.2.jar -DgroupId=org.apache.thrift -DartifactId=libthrift -Dversion=0.9.2 -Dpackaging=jar å…¶ä¸­ï¼š DgroupIdå’ŒDartifactIdæ„æˆäº†è¯¥jaråŒ…åœ¨pom.xmlçš„åæ ‡ï¼Œ å¯¹åº”ä¾èµ–çš„DgroupIdå’ŒDartifactId Dfileè¡¨ç¤ºéœ€è¦ä¸Šä¼ çš„jaråŒ…çš„ç»å¯¹è·¯å¾„ Dpackaging ä¸ºå®‰è£…æ–‡ä»¶çš„ç§ç±» 2ã€ ä¸Šä¼ Jaråˆ°ç§æœ å‘½ä»¤ 1mvn deploy:deploy-file -DgroupId=org.apache.thrift -DartifactId=libthrift -Dversion=1.12 -Dpackaging=jar -Dfile=D:\\thrift-0.9.2.jar -Durl=http://ip:port/nexus/content/repositories/thirdparty/ -DrepositoryId=thirdparty å…¶ä¸­ï¼š DgroupIdå’ŒDartifactIdæ„æˆäº†è¯¥jaråŒ…åœ¨pom.xmlçš„åæ ‡ï¼Œ å¯¹åº”ä¾èµ–çš„DgroupIdå’ŒDartifactId Dfileè¡¨ç¤ºéœ€è¦ä¸Šä¼ çš„jaråŒ…çš„ç»å¯¹è·¯å¾„ Durlç§æœä¸Šä»“åº“çš„urlç²¾ç¡®åœ°å€(æ‰“å¼€nexuså·¦ä¾§repositoriesèœå•ï¼Œå¯ä»¥çœ‹åˆ°è¯¥è·¯å¾„) DrepositoryIdæœåŠ¡å™¨çš„è¡¨ç¤ºidï¼Œåœ¨nexusçš„configurationå¯ä»¥çœ‹åˆ° è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨æˆ‘ä»¬çš„pom.xmlæ–‡ä»¶ä¸­ç›´æ¥å¯¼å…¥dependecyäº†ï¼Œä¸éœ€è¦å»ç½‘ä¸Šä¸‹è½½äº†ï¼Œä¸ä¼šå› ä¸ºæŸå‡ ä¸ªjaråŒ…çš„é—®é¢˜ï¼Œè€Œè€½è¯¯åšå…¶ä»–çš„äº‹äº†ã€‚","categories":[{"name":"ä¸Šå¤ç¥å™¨","slug":"ä¸Šå¤ç¥å™¨","permalink":"https://jokinglove.com/blog/group/categories/ä¸Šå¤ç¥å™¨/"}],"tags":[{"name":"maven","slug":"maven","permalink":"https://jokinglove.com/blog/group/tags/maven/"}]},{"title":"ä»æ­¤ä»¥åï¼Œgitpageså°†ä¸å†å—ä¸»é¢˜é™åˆ¶","slug":"others/tools/git-pages-themes","date":"2017-11-29T16:00:00.000Z","updated":"2019-12-08T06:01:50.876Z","comments":true,"path":"2017/11/30/others/tools/git-pages-themes/","link":"","permalink":"https://jokinglove.com/blog/2017/11/30/others/tools/git-pages-themes/","excerpt":"ä»Šå¤©ä¸Šgithubï¼Œçªç„¶å‘ç°äº†ä¸€ä¸ªä»¤äººæ„‰å¿«çš„äº‹ï¼Œå†™ä¸ªåšå®¢åº†ç¥ä¸€æ³¢ï¼Œé‚£å°±æ˜¯git pages åŠŸèƒ½æ”¯æŒä»»ä½• publicçš„git themes äº†ã€‚èµ¶ç´§æŠŠè‡ªå·±çš„ä¸€ä¸ªå·¥å…·ç»™æ¢äº†ä¸ªä¸»é¢˜ï¼Œç¬é—´æ„Ÿè§‰é«˜å¤§ä¸Šäº†ï¼ŒğŸ˜„ å°ä¼™ä¼´ä»¬å¯ä»¥å‚è€ƒä¸€ä¸‹","text":"ä»Šå¤©ä¸Šgithubï¼Œçªç„¶å‘ç°äº†ä¸€ä¸ªä»¤äººæ„‰å¿«çš„äº‹ï¼Œå†™ä¸ªåšå®¢åº†ç¥ä¸€æ³¢ï¼Œé‚£å°±æ˜¯git pages åŠŸèƒ½æ”¯æŒä»»ä½• publicçš„git themes äº†ã€‚èµ¶ç´§æŠŠè‡ªå·±çš„ä¸€ä¸ªå·¥å…·ç»™æ¢äº†ä¸ªä¸»é¢˜ï¼Œç¬é—´æ„Ÿè§‰é«˜å¤§ä¸Šäº†ï¼ŒğŸ˜„ å°ä¼™ä¼´ä»¬å¯ä»¥å‚è€ƒä¸€ä¸‹ æ›´æ¢themeå¾ˆæ–¹ä¾¿ï¼Œä¸‹é¢æ˜¯å®˜æ–¹æ¶ˆæ¯çš„æˆªå›¾ï¼š æ›´æ¢themesç°å¸¸ç®€å•ï¼Œåœ¨è‡ªå·±è¦ä½œä¸ºgitpages çš„é¡¹ç›®æ›´ç›®å½•æ–°å»ºä¸€ä¸ª_config.ymlçš„æ–‡ä»¶ï¼Œåœ¨é‡Œé¢åŠ ä¸Šè¿™ä¸€å¥å°±okäº†ï¼Œç„¶ågitåœ¨æ„å»ºçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å»ç›¸åº”çš„ä»“åº“ä¸‹é¢æ‹¿åˆ°ä¸»é¢˜ï¼Œåº”ç”¨çš„ä½ çš„git pages ä¸Šé¢ï¼š 1remote_theme: owner/name å…¶ä¸­ owneræ˜¯ä¸»ä½“æ‰€æœ‰è€…çš„åç§°ï¼Œname å°±æ˜¯å¯¹åº”çš„ä¸»é¢˜äº†ã€‚å°±åƒè¿™æ ·ï¼š 1remote_theme: pages-themes/leap-day å°ä¼™ä¼´ä»¬å¯ä»¥èµ¶ç´§ç»™è‡ªå·±çš„git pagesæ¢ä¸ªé«˜å¤§ä¸Šçš„ä¸»é¢˜ç©ç©äº†ï¼Œæœ‰å¥½çš„ä¸»é¢˜ï¼Œä¹Ÿåˆ†äº«ä¸€æ³¢ï¼Œæˆ‘ä¹Ÿæ¢ä¸€ä¸ªï¼Œä¸€ç›´æ˜¯ä¸€ä¸ªé€‰æ‹©å›°éš¾ç—‡æ‚£è€…ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ ·çš„ä¸»é¢˜æ¯”è¾ƒé€‚åˆæˆ‘ã€‚ä½†æ˜¯ä¸å¯å¦è®¤çš„æ˜¯ï¼Œgitï¼Œgithubå¾ˆå±Œï¼Œå±Œå±Œçš„ã€‚ğŸ’¯","categories":[{"name":"ä¸Šå¤ç¥å™¨","slug":"ä¸Šå¤ç¥å™¨","permalink":"https://jokinglove.com/blog/group/categories/ä¸Šå¤ç¥å™¨/"}],"tags":[{"name":"git","slug":"git","permalink":"https://jokinglove.com/blog/group/tags/git/"}]},{"title":"èŠ‚æ—¥æ„Ÿæƒ³","slug":"others/life/20171024-1024èŠ‚æ—¥æ„Ÿæƒ³","date":"2017-10-23T16:00:00.000Z","updated":"2019-12-08T06:01:50.873Z","comments":true,"path":"2017/10/24/others/life/20171024-1024èŠ‚æ—¥æ„Ÿæƒ³/","link":"","permalink":"https://jokinglove.com/blog/2017/10/24/others/life/20171024-1024èŠ‚æ—¥æ„Ÿæƒ³/","excerpt":"å¥½ä¹…æ²¡æœ‰å†™è¿‡åšå®¢äº†ï¼Œä»Šå¤©æ˜¯ä¸ªç‰¹æ®Šçš„æ—¥å­ã€‚1024ï¼Œå†™ä¸€ç¯‡åšå®¢æ‰¯æ‰¯è›‹ã€‚ä¸çŸ¥é“1024çš„ç¨‹åºå‘˜ä¸€å®šæ˜¯ä¸ªå‡ç¨‹åºå‘˜ã€‚ æœ¬æ¥åº”è¯¥åœ¨è¿™ä¹ˆä¸ªç‰¹æ®Šçš„æ—¥å­é‡Œé¢å†™ä¸€ç¯‡æŠ€æœ¯æ–‡ç« åº”è¯¥æ„Ÿè§‰ä¼šå¥½ä¸€äº›ï¼Œä½†æ˜¯ä»Šå¤©çš„å¿ƒæƒ…è²Œä¼¼åªé€‚åˆæ‰¯æ·¡ï¼Œæ‰€ä»¥å°±ä¸å†™æŠ€æœ¯ç›¸å…³çš„äº†ï¼Œä¸“é—¨æ‰¯æ·¡ã€‚","text":"å¥½ä¹…æ²¡æœ‰å†™è¿‡åšå®¢äº†ï¼Œä»Šå¤©æ˜¯ä¸ªç‰¹æ®Šçš„æ—¥å­ã€‚1024ï¼Œå†™ä¸€ç¯‡åšå®¢æ‰¯æ‰¯è›‹ã€‚ä¸çŸ¥é“1024çš„ç¨‹åºå‘˜ä¸€å®šæ˜¯ä¸ªå‡ç¨‹åºå‘˜ã€‚ æœ¬æ¥åº”è¯¥åœ¨è¿™ä¹ˆä¸ªç‰¹æ®Šçš„æ—¥å­é‡Œé¢å†™ä¸€ç¯‡æŠ€æœ¯æ–‡ç« åº”è¯¥æ„Ÿè§‰ä¼šå¥½ä¸€äº›ï¼Œä½†æ˜¯ä»Šå¤©çš„å¿ƒæƒ…è²Œä¼¼åªé€‚åˆæ‰¯æ·¡ï¼Œæ‰€ä»¥å°±ä¸å†™æŠ€æœ¯ç›¸å…³çš„äº†ï¼Œä¸“é—¨æ‰¯æ·¡ã€‚ æœ€è¿‘æ­£åœ¨çœ‹ä¸€æœ¬å«åšã€Šæ–°ç”Ÿã€‹çš„ä¹¦ï¼Œæœ‰ä¸€äº›æ„Ÿè§¦ï¼Œé‚£å°±æ‰¯æ‰¯ä»è¿™æœ¬ä¹¦ä¸­çœ‹åˆ°çš„ä¸€äº›æ„Ÿæ‚Ÿå§ã€‚è¿™æœ¬ä¹¦æ˜¯æç¬‘æ¥è€å¸ˆå†™çš„ï¼Œä½œä¸ºä¸€ä¸ªå…¨é¢å‘å±•çš„äººï¼ˆè‡³å°‘æˆ‘è®¤ä¸ºæ˜¯è¿™æ ·çš„ä¸€ä¸ªäººï¼‰ï¼Œä¹¦ä¸­å°†äººæ¯”ä½œç”µè„‘ï¼Œå°†æˆ‘ä»¬æ‰€è¯´çš„ä¸‰è§‚æ¯”ä½œæ“ä½œç³»ç»Ÿã€‚æ¯ä¸ªäººéƒ½æœ‰ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œè€Œæœ‰äº›äººä¼šå®šæœŸçš„å‡çº§æ“ä½œç³»ç»Ÿï¼Œè®©è‡ªå·±çš„æ“ä½œç³»ç»Ÿæ›´åŠ çš„çµæ´»å¥½ç”¨ï¼Œè€Œæœ‰äº›äººçš„æ“ä½œç³»ç»Ÿå·²ç»å¥½ä¹…æ²¡æœ‰å‡çº§è¿‡äº†ï¼Œè¿˜å¤„äºdosæ—¶ä»£ï¼Œæœ‰äº›äººç”šè‡³æ²¡æœ‰æ“ä½œç³»ç»Ÿã€‚ç»†ç»†æƒ³æ¥è¿˜çœŸæœ‰ç‚¹é‚£ä¹ˆä¸ªæ„æ€ã€‚ å¯¹äºå¤§å¤šæ•°äººæ¥è¯´ï¼Œç”Ÿæ´»åœ¨åŒ—äº¬è¿™ä¹ˆä¸ªå‹åŠ›å¤§ï¼Œç”Ÿæ´»èŠ‚å¥å¿«çš„åŸå¸‚é‡Œï¼Œç”¨æˆ‘è‡ªå·±çš„è¯è¯´å°±æ˜¯èƒ½æ´»ä¸‹æ¥å·²ç»ä¸é”™äº†ï¼Œå…ˆæ´»ä¸‹æ¥ï¼Œç„¶åå†æƒ³æ€ä¹ˆå»æ´»çš„æ›´å¥½ï¼Œæ¯å¤©åœ¨ä¸çŸ¥æ‰€ä»¥çš„å¥‹æ–—ç€ã€‚ä¹Ÿä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ä¼šæ›´å¥½ï¼Œä½†æ˜¯åªæ˜¯ä¸€å‘³çš„å¥‹æ–—è²Œä¼¼å¹¶ä¸èƒ½æ›´å¿«çš„è®©è‡ªå·±æ´»çš„æ›´å¥½ï¼Œè®©è‡ªå·±çš„æ“ä½œç³»ç»Ÿå‡çº§çš„æ›´å¼ºã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦æˆ‘ä»¬å»å‡çº§æˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿï¼Œå‡çº§æ“ä½œç³»ç»Ÿï¼Œæœ‰äº›äººé ç€è‡ªå·±çš„å¤©èµ‹ï¼Œå¯ä»¥å‘ç°è‡ªå·±çš„ç¼ºç‚¹ï¼Œä¸è¶³ï¼Œä¸»åŠ¨å»ç»™è‡ªå·±çš„æ“ä½œç³»ç»Ÿæ‰“ä¸ªè¡¥ä¸ï¼Œç„¶è€Œå¤§éƒ¨åˆ†äººå¹¶ä¸æ˜¯é‚£ä¸€ç±»äººã€‚è€Œæ˜¯éœ€è¦å»å­¦ä¹ åˆ«äººçš„æœ‰ç‚¹ï¼Œåˆ«äººçš„æ–¹æ³•è®ºï¼Œå­¦ä¹ æ–°çš„æ¦‚å¿µã€‚æ¥å‡çº§è‡ªå·±çš„æ“ä½œç³»ç»Ÿã€‚è¿™å°±åƒæ˜¯åœ¨æå–éœ€æ±‚ä¸€æ ·ï¼Œä½ çœ‹å®Œä¸€æœ¬ä¹¦ï¼Œæ„Ÿè§‰å¯¹çš„ï¼Œå¯¹è‡ªå·±æœ‰ç”¨çš„ï¼Œè®¤ä¸ºæ˜¯æ­£ç¡®çš„æ–¹æ³•è®ºï¼Œå°±å¯ä»¥æå–å‡ºæ¥ï¼Œä½œä¸ºä½ å‡çº§æ“ä½œç³»ç»Ÿçš„ç”¨ä¾‹ã€‚ ç”µè„‘æ˜¯ä¸€äº›æå…¶èªæ˜çš„äººç ”ç©¶å‡ºæ¥çš„ï¼Œé‚£ä¸€éƒ¨åˆ†äººä¹Ÿå°±æ˜¯éœ€è¦æˆ‘ä»¬å»å­¦ä¹ çš„å¯¹è±¡ï¼Œä»–ä»¬å°†ç”µè„‘ç›´æ¥è¿æ¥çš„æ–¹å¼ä¸æ˜¯å†™æ­»äº†å°±è¿™ä¹ˆåšï¼Œè€Œæ˜¯å®šä¹‰æˆäº†æ¥å£ï¼Œå¯ä»¥é€šè¿‡ç»Ÿä¸€çš„æ¥å£å’Œä¸åŒçš„ç”µè„‘ã€è½¯ä»¶ã€æˆ–è€…ç¡¬ä»¶å‘è¿æ¥ã€‚è€Œæˆ‘ä»¬çš„æ²Ÿé€šèƒ½åŠ›ï¼Œå°±åƒæ˜¯ä¸€ä¸ªç½‘å¡å’Œæ— çº¿è¿æ¥ä¸€æ ·ï¼Œæœ‰äº›äººåªèƒ½è¿æ¥åˆ°å±€åŸŸç½‘ï¼Œæœ‰äº›äººå¯ä»¥è¿æ¥åˆ°åŸåŸŸç½‘ï¼Œè¿˜æœ‰ä¸€äº›äººå°±å¯ä»¥åœ¨äº’è”ç½‘ä¸Šç•…é€šæ— é˜»çš„è¿æ¥ã€‚å®¡è§†ä¸€ä¸‹è‡ªå·±ï¼Œå‘ç°è‡ªå·±ä¹Ÿå°±åªèƒ½è¿æ¥åˆ°å±€åŸŸç½‘ï¼Œè¿™è²Œä¼¼å’Œæˆ‘çš„æœŸæœ›æœ‰æ‰€å‡ºå…¥çš„ï¼Œå°±æƒ³æ˜¯ä¸æ˜¯æˆ‘çš„æ“ä½œç³»ç»Ÿå‡ºäº†é—®é¢˜ã€‚æ˜¯ä¸æ˜¯åº”è¯¥å‡çº§ä¸€æ³¢æ“ä½œç³»ç»Ÿäº†ï¼Œå‡çº§çš„é‡ç‚¹å°±æ˜¯çœ‹ä¹¦äº†ï¼Œä»ä¹¦ä¸­æ‰¾åˆ°è‡ªå·±çš„bugï¼Œä¸»åŠ¨å»æ‰“ä¸ªè¡¥ä¸ï¼Œæ©ï¼Œå¬èµ·æ¥æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ å‡çº§è‡ªå·±çš„æ“ä½œç³»ç»Ÿçš„å¦å¤–ä¸€æ¡é€”å¾„å°±æ˜¯å’Œå­¦ä¹ èº«è¾¹çš„äººï¼Œå­¦ä¹ èº«è¾¹äººçš„ä¼˜ç‚¹ï¼Œå¥½çš„æ–¹æ³•è®ºï¼Œå¤„äº‹æ–¹å¼ï¼Œç»™è‡ªå·±æ‰“ä¸ªè¡¥ä¸ã€‚å‡çº§è‡ªå·±çš„æ“ä½œç³»ç»Ÿï¼Œå…ˆä»çœ‹ä¹¦å¼€å§‹ï¼Œå…ˆä»å‡çº§è‡ªå·±çš„æ“ä½œç³»ç»Ÿå¼€å§‹å§ã€‚å°±è¿™æ ·ï¼Œå¼€å§‹å¹²å§ã€‚","categories":[{"name":"çå†™","slug":"çå†™","permalink":"https://jokinglove.com/blog/group/categories/çå†™/"}],"tags":[{"name":"1024","slug":"1024","permalink":"https://jokinglove.com/blog/group/tags/1024/"}]},{"title":"spring helloworld","slug":"others/spring-boot-helloworld","date":"2017-09-09T14:00:58.000Z","updated":"2019-12-08T06:01:50.875Z","comments":true,"path":"2017/09/09/others/spring-boot-helloworld/","link":"","permalink":"https://jokinglove.com/blog/2017/09/09/others/spring-boot-helloworld/","excerpt":"å¿™äº†è¿™ä¹ˆä¹…ï¼Œæ„Ÿè§‰å¥½ä¹…éƒ½æ²¡æœ‰å­¦ä¹ ä¸€ç‚¹æ–°æŠ€æœ¯äº†ï¼Œä¹‹å‰çœ‹è¿‡spring-bootçš„ä¸€äº›æ–‡æ¡£ï¼Œç°åœ¨æ‰“ç®—å®è·µä¸€éã€‚å¾ˆå¼ºåŠ¿çš„ï¼Œæˆ‘ä»¬ä»hello world å¼€å§‹ã€‚ä»ä¸ç”¨ideå¼€å§‹ã€‚","text":"å¿™äº†è¿™ä¹ˆä¹…ï¼Œæ„Ÿè§‰å¥½ä¹…éƒ½æ²¡æœ‰å­¦ä¹ ä¸€ç‚¹æ–°æŠ€æœ¯äº†ï¼Œä¹‹å‰çœ‹è¿‡spring-bootçš„ä¸€äº›æ–‡æ¡£ï¼Œç°åœ¨æ‰“ç®—å®è·µä¸€éã€‚å¾ˆå¼ºåŠ¿çš„ï¼Œæˆ‘ä»¬ä»hello world å¼€å§‹ã€‚ä»ä¸ç”¨ideå¼€å§‹ã€‚ 1ã€æ–°å»ºä¸€ä¸ªmavené¡¹ç›®ã€‚ å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤ 12mkdir -p spring-boot-hello/src/main/javatouch pom.xml å…¶ä¸­pom.xmlæ–‡ä»¶ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ 123456789101112131415161718192021222324&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-hello&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;!-- è¿™ä¸ªä»£è¡¨ç€æ­¤é¡¹ç›®æ˜¯ä» parentä¸­ç»§æ‰¿æ¥çš„ --&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.0.M3&lt;/version&gt; &lt;/parent&gt; &lt;!-- æ·»åŠ webç›¸å…³çš„åŒ…æ”¯æŒ --&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/project&gt; 2ã€ç„¶ååˆ›å»ºä¸€ä¸ªåä¸ºHelloController.javaçš„æ–‡ä»¶ 123mkdir -p com/hellocd com/hello/touch HelloController.java å…¶ä¸­å†…å®¹å¦‚ä¸‹: 1234567891011package com.hello;@RestController@RequestMapping(\"/hello\")public class HelloController&#123; @RequestMapping(\"/say\") public String sayHello()&#123; return \"Hello World!\"; &#125;&#125; 3ã€è¿”å›åˆ°javaç›®å½•ï¼Œæ–°å»ºåä¸ºApplication.javaçš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹: 123456@EnableAutoConfigurationpublic class Application &#123; public static void main(String[] args) throws Exception&#123; SpringApplication.run(Application.class, args); &#125;&#125; 4ã€åˆ©ç”¨mvn package æ‰“åŒ…ï¼Œè¿›å…¥åˆ°targetç›®å½•ä¸‹,ç”Ÿæˆä¸€ä¸ªä»¥ spring-boot-hello å¼€å¤´çš„jaræ–‡ä»¶ã€‚ 5ã€ç”¨ java -jar å‘½ä»¤è¿è¡Œè¿™ä¸ªjaræ–‡ä»¶ã€‚å¯ä»¥åœ¨å‘½ä»¤è¡Œçœ‹åˆ°spring-bootçš„å¯åŠ¨ä¿¡æ¯ã€‚ 6ã€åœ¨æµè§ˆå™¨ä¸­ç”¨ localhost:8080/hello/say è®¿é—®ï¼Œå°±å¯ä»¥çœ‹åˆ° Hello World! äº†ã€‚","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"spring-boot","slug":"spring-boot","permalink":"https://jokinglove.com/blog/group/tags/spring-boot/"}]},{"title":"é­”é¬¼åœ¨ç»†èŠ‚ä¸­","slug":"others/é­”é¬¼åœ¨ç»†èŠ‚ä¸­","date":"2017-08-08T16:00:00.000Z","updated":"2019-12-08T06:01:50.876Z","comments":true,"path":"2017/08/09/others/é­”é¬¼åœ¨ç»†èŠ‚ä¸­/","link":"","permalink":"https://jokinglove.com/blog/2017/08/09/others/é­”é¬¼åœ¨ç»†èŠ‚ä¸­/","excerpt":"ä½œä¸ºä¸€ä¸ªitå°å¸æœºï¼Œæ¯æ¬¡åœ¨å†™å®Œä»£ç ï¼Œè‡ªå·±æµ‹äº†ä¸€ééƒ½æ²¡å‘ç°ä»€ä¹ˆé—®é¢˜ï¼Œæäº¤ç»™æµ‹è¯•çš„æ—¶å€™åé¦ˆå›æ¥ä¸€å¤§å †çš„bugï¼Œæ£€æŸ¥å‘ç°å¾ˆå¤šå…¶å®éƒ½æ˜¯ä¸€äº›å¾ˆå°çš„éœ€è¦æ³¨æ„çš„ç»†èŠ‚ï¼Œä½†å´è¶³ä»¥è®©ä½ çš„ç¨‹åºç˜«ç—ªï¼Œå¹³æ—¶æ³¨æ„è¿™äº›å°ç»†èŠ‚ï¼Œå¯èƒ½ä¼šçœå»å¥½å¤šäº‹ã€‚é‚£ä¹ˆåœ¨ç¼–ç ä¸­æˆ‘ä»¬åº”è¯¥æ—¶å€™éœ€è¦æ³¨æ„çš„è§„èŒƒæœ‰å“ªäº›å‘¢ï¼Œè¿™ä¹Ÿæ˜¯åœ¨æˆä¸ºä¸€ä¸ªitè€å¸æœºçš„è·¯ä¸Šå¿…é¡»è¦ç»è¿‡çš„ä¸€é“åï¼Œåœ¨è¿™å€Ÿé‰´ä¸€ä¸‹é˜¿é‡Œå¤§ç‰›å†™çš„ä¸€éé­”é¬¼åœ¨ç»†èŠ‚ä¸­ã€‚","text":"ä½œä¸ºä¸€ä¸ªitå°å¸æœºï¼Œæ¯æ¬¡åœ¨å†™å®Œä»£ç ï¼Œè‡ªå·±æµ‹äº†ä¸€ééƒ½æ²¡å‘ç°ä»€ä¹ˆé—®é¢˜ï¼Œæäº¤ç»™æµ‹è¯•çš„æ—¶å€™åé¦ˆå›æ¥ä¸€å¤§å †çš„bugï¼Œæ£€æŸ¥å‘ç°å¾ˆå¤šå…¶å®éƒ½æ˜¯ä¸€äº›å¾ˆå°çš„éœ€è¦æ³¨æ„çš„ç»†èŠ‚ï¼Œä½†å´è¶³ä»¥è®©ä½ çš„ç¨‹åºç˜«ç—ªï¼Œå¹³æ—¶æ³¨æ„è¿™äº›å°ç»†èŠ‚ï¼Œå¯èƒ½ä¼šçœå»å¥½å¤šäº‹ã€‚é‚£ä¹ˆåœ¨ç¼–ç ä¸­æˆ‘ä»¬åº”è¯¥æ—¶å€™éœ€è¦æ³¨æ„çš„è§„èŒƒæœ‰å“ªäº›å‘¢ï¼Œè¿™ä¹Ÿæ˜¯åœ¨æˆä¸ºä¸€ä¸ªitè€å¸æœºçš„è·¯ä¸Šå¿…é¡»è¦ç»è¿‡çš„ä¸€é“åï¼Œåœ¨è¿™å€Ÿé‰´ä¸€ä¸‹é˜¿é‡Œå¤§ç‰›å†™çš„ä¸€éé­”é¬¼åœ¨ç»†èŠ‚ä¸­ã€‚ é˜²æ­¢ç©ºæŒ‡é’ˆå’Œä¸‹æ ‡è¶Šç•Œ è¿™æ˜¯æˆ‘æœ€ä¸å–œæ¬¢çœ‹åˆ°çš„å¼‚å¸¸ï¼Œå°¤å…¶åœ¨æ ¸å¿ƒæ¡†æ¶ä¸­ï¼Œæˆ‘æ›´æ„¿çœ‹åˆ°ä¿¡æ¯è¯¦ç»†çš„å‚æ•°ä¸åˆæ³•å¼‚å¸¸ï¼Œ è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¥çŠ¶çš„ç¨‹åºå¼€å‘äººå‘˜ï¼Œåœ¨å†™æ¯ä¸€è¡Œä»£ç éƒ½åº”åœ¨æ½œæ„è¯†ä¸­é˜²æ­¢çš„å¼‚å¸¸ï¼Œ åŸºæœ¬ä¸Šè¦èƒ½ç¡®ä¿ä¸€æ¬¡å†™å®Œçš„ä»£ç ï¼Œåœ¨ä¸æµ‹è¯•çš„æƒ…å†µï¼Œéƒ½ä¸ä¼šå‡ºç°è¿™ä¸¤ä¸ªå¼‚å¸¸æ‰ç®—åˆæ ¼ã€‚ ä¿è¯çº¿ç¨‹å®‰å…¨æ€§å’Œå¯è§æ€§ å¯¹äºæ¡†æ¶çš„å¼€å‘äººå‘˜ï¼Œå¯¹çº¿ç¨‹å®‰å…¨æ€§å’Œå¯è§æ€§çš„æ·±å…¥ç†è§£æ˜¯æœ€åŸºæœ¬çš„è¦æ±‚ï¼Œ éœ€è¦å¼€å‘äººå‘˜ï¼Œåœ¨å†™æ¯ä¸€è¡Œä»£ç æ—¶éƒ½åº”åœ¨æ½œæ„è¯†ä¸­ç¡®ä¿å…¶æ­£ç¡®æ€§ï¼Œ å› ä¸ºè¿™ç§ä»£ç ï¼Œåœ¨å°å¹¶å‘ä¸‹åšåŠŸèƒ½æµ‹è¯•æ—¶ï¼Œä¼šæ˜¾å¾—å¾ˆæ­£å¸¸ï¼Œ ä½†åœ¨é«˜å¹¶å‘ä¸‹å°±ä¼šå‡ºç°è«æ˜å…¶å¦™çš„é—®é¢˜ï¼Œè€Œä¸”åœºæ™¯å¾ˆéš¾é‡ç°ï¼Œæéš¾æ’æŸ¥ã€‚ å°½æ—©å¤±è´¥å’Œå‰ç½®æ–­è¨€ å°½æ—©å¤±è´¥ä¹Ÿåº”è¯¥æˆä¸ºæ½œæ„è¯†ï¼Œåœ¨æœ‰ä¼ å…¥å‚æ•°å’ŒçŠ¶æ€å˜åŒ–æ—¶ï¼Œå‡åœ¨å…¥å£å¤„å…¨éƒ¨æ–­è¨€ï¼Œ ä¸€ä¸ªä¸åˆæ³•çš„å€¼å’ŒçŠ¶æ€ï¼Œåœ¨ç¬¬ä¸€æ—¶é—´å°±åº”æŠ¥é”™ï¼Œè€Œä¸æ˜¯ç­‰åˆ°è¦ç”¨æ—¶æ‰æŠ¥é”™ï¼Œ å› ä¸ºç­‰åˆ°è¦ç”¨æ—¶ï¼Œå¯èƒ½å‰é¢å·²ç»ä¿®æ”¹å…¶å®ƒç›¸å…³çŠ¶æ€ï¼Œè€Œåœ¨ç¨‹åºä¸­å¾ˆå°‘æœ‰äººå»å¤„ç†å›æ»šé€»è¾‘ï¼Œ è¿™æ ·æŠ¥é”™åï¼Œå…¶å®å†…éƒ¨çŠ¶æ€å¯èƒ½å·²ç»æ··ä¹±ï¼Œææ˜“åœ¨ä¸€ä¸ªéšè”½åˆ†æ”¯ä¸Šå¼•å‘ç¨‹åºä¸å¯æ¢å¤ã€‚ åˆ†ç¦»å¯é æ“ä½œå’Œä¸å¯é æ“ä½œ è¿™é‡Œçš„å¯é æ˜¯ç‹­ä¹‰çš„æŒ‡æ˜¯å¦ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–å¼•èµ·çŠ¶æ€ä¸ä¸€è‡´ï¼Œ æ¯”å¦‚ï¼Œå†™å…¥ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„Mapï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å¯é çš„ï¼Œ è€Œå†™å…¥æ•°æ®åº“ç­‰ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸å¯é çš„ï¼Œ å¼€å‘äººå‘˜å¿…é¡»åœ¨å†™æ¯ä¸€è¡Œä»£ç æ—¶ï¼Œéƒ½æ³¨æ„å®ƒçš„å¯é æ€§ä¸å¦ï¼Œ åœ¨ä»£ç ä¸­å°½é‡åˆ’åˆ†å¼€ï¼Œå¹¶å¯¹å¤±è´¥åšå¼‚å¸¸å¤„ç†ï¼Œ å¹¶ä¸ºå®¹é”™ï¼Œè‡ªæˆ‘ä¿æŠ¤ï¼Œè‡ªåŠ¨æ¢å¤æˆ–åˆ‡æ¢ç­‰è¡¥å¿é€»è¾‘æä¾›æ¸…æ™°çš„åˆ‡å…¥ç‚¹ï¼Œ ä¿è¯åç»­å¢åŠ çš„ä»£ç ä¸è‡³äºæ”¾é”™ä½ç½®ï¼Œè€Œå¯¼è‡´åŸå…ˆçš„å®¹é”™å¤„ç†é™·å…¥æ··ä¹±ã€‚ å¼‚å¸¸é˜²å¾¡ï¼Œä½†ä¸å¿½ç•¥å¼‚å¸¸ è¿™é‡Œè®²çš„å¼‚å¸¸é˜²å¾¡ï¼ŒæŒ‡çš„æ˜¯å¯¹éå¿…é¡»é€”å¾„ä¸Šçš„ä»£ç è¿›è¡Œæœ€å¤§é™åº¦çš„å®¹å¿ï¼Œ åŒ…æ‹¬ç¨‹åºä¸Šçš„BUGï¼Œæ¯”å¦‚ï¼šè·å–ç¨‹åºçš„ç‰ˆæœ¬å·ï¼Œä¼šé€šè¿‡æ‰«æManifestå’ŒjaråŒ…åç§°æŠ“å–ç‰ˆæœ¬å·ï¼Œ è¿™ä¸ªé€»è¾‘æ˜¯è¾…åŠ©æ€§çš„ï¼Œä½†ä»£ç å´ä¸å°‘ï¼Œåˆæ­¥æµ‹è¯•ä¹Ÿæ²¡å•¥é—®é¢˜ï¼Œ ä½†åº”è¯¥åœ¨æ•´ä¸ªgetVersion()ä¸­åŠ ä¸Šä¸€ä¸ªå…¨å‡½æ•°çš„try-catchæ‰“å°é”™è¯¯æ—¥å¿—ï¼Œå¹¶è¿”å›åŸºæœ¬ç‰ˆæœ¬ï¼Œ å› ä¸ºgetVersion()å¯èƒ½å­˜åœ¨æœªçŸ¥ç‰¹å®šåœºæ™¯å¼‚å¸¸ï¼Œæˆ–è¢«å…¶ä»–çš„å¼€å‘äººå‘˜è¯¯ä¿®æ”¹é€»è¾‘(ä½†ä¸€èˆ¬äººå‘˜ä¸ä¼šå»æ‰try-catch)ï¼Œ è€Œå¦‚æœå®ƒæŠ›å‡ºå¼‚å¸¸ä¼šå¯¼è‡´ä¸»æµç¨‹å¼‚å¸¸ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°çš„ï¼Œ ä½†è¿™é‡Œè¦æ§åˆ¶ä¸ªåº¦ï¼Œä¸è¦éšæ„try-catchï¼Œæ›´ä¸è¦æ— å£°æ— æ¯çš„åƒæ‰å¼‚å¸¸ã€‚ ç¼©å°å¯å˜åŸŸå’Œå°½é‡final å¦‚æœä¸€ä¸ªç±»å¯ä»¥æˆä¸ºä¸å˜ç±»(Immutable Class)ï¼Œå°±ä¼˜å…ˆå°†å®ƒè®¾è®¡æˆä¸å˜ç±»ï¼Œ ä¸å˜ç±»æœ‰å¤©ç„¶çš„å¹¶å‘å…±äº«ä¼˜åŠ¿ï¼Œå‡å°‘åŒæ­¥æˆ–å¤åˆ¶ï¼Œè€Œä¸”å¯ä»¥æœ‰æ•ˆå¸®å¿™åˆ†æçº¿ç¨‹å®‰å…¨çš„èŒƒå›´ï¼Œ å°±ç®—æ˜¯å¯å˜ç±»ï¼Œå¯¹äºä»æ„é€ å‡½æ•°ä¼ å…¥çš„å¼•ç”¨ï¼Œåœ¨ç±»ä¸­æŒæœ‰æ—¶ï¼Œæœ€å¥½å°†å­—æ®µfinalï¼Œä»¥å…è¢«ä¸­é€”è¯¯ä¿®æ”¹å¼•ç”¨ï¼Œ ä¸è¦ä»¥ä¸ºè¿™ä¸ªå­—æ®µæ˜¯ç§æœ‰çš„ï¼Œè¿™ä¸ªç±»çš„ä»£ç éƒ½æ˜¯æˆ‘è‡ªå·±å†™çš„ï¼Œä¸ä¼šå‡ºç°å¯¹è¿™ä¸ªå­—æ®µçš„é‡æ–°èµ‹å€¼ï¼Œ è¦è€ƒè™‘çš„ä¸€ä¸ªå› ç´ æ˜¯ï¼Œè¿™ä¸ªä»£ç å¯èƒ½è¢«å…¶ä»–äººä¿®æ”¹ï¼Œä»–ä¸çŸ¥é“ä½ çš„è¿™ä¸ªå¼±çº¦å®šï¼Œfinalå°±æ˜¯ä¸€ä¸ªä¸å˜å¥‘çº¦ã€‚ é™ä½ä¿®æ”¹æ—¶çš„è¯¯è§£æ€§ï¼Œä¸åŸ‹é›· å‰é¢ä¸åœçš„æåˆ°ä»£ç è¢«å…¶ä»–äººä¿®æ”¹ï¼Œè¿™ä¹Ÿå¼€å‘äººå‘˜è¦éšæ—¶ç´§è®°çš„ï¼Œ è¿™ä¸ªå…¶ä»–äººåŒ…æ‹¬æœªæ¥çš„è‡ªå·±ï¼Œä½ è¦æ€»æƒ³ç€è¿™ä¸ªä»£ç å¯èƒ½ä¼šæœ‰äººå»æ”¹å®ƒï¼Œ æˆ‘åº”è¯¥ç»™ä¿®æ”¹çš„äººä¸€ç‚¹ä»€ä¹ˆæç¤ºï¼Œè®©ä»–çŸ¥é“æˆ‘ç°åœ¨çš„è®¾è®¡æ„å›¾ï¼Œ è€Œä¸è¦åœ¨ç¨‹åºé‡Œé¢åŠ æ½œè§„åˆ™ï¼Œæˆ–åŸ‹ä¸€äº›å®¹æ˜“å¿½è§†çš„é›·ï¼Œ æ¯”å¦‚ï¼šä½ ç”¨nullè¡¨ç¤ºä¸å¯ç”¨ï¼Œsizeç­‰äº0è¡¨ç¤ºé»‘åå•ï¼Œ è¿™å°±æ˜¯ä¸€ä¸ªé›·ï¼Œä¸‹ä¸€ä¸ªä¿®æ”¹è€…ï¼ŒåŒ…æ‹¬ä½ è‡ªå·±ï¼Œéƒ½ä¸ä¼šè®°å¾—æœ‰è¿™æ ·çš„çº¦å®šï¼Œ å¯èƒ½åé¢ä¸ºäº†æ”¹æŸä¸ªå…¶å®ƒBUGï¼Œä¸å°å¿ƒæ”¹åˆ°äº†è¿™é‡Œï¼Œç›´æ¥å¼•çˆ†æ•…éšœã€‚ å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œä¸€ä¸ªåŸåˆ™å°±æ˜¯æ°¸è¿œä¸è¦åŒºåˆ†nullå¼•ç”¨å’Œemptyå€¼ã€‚ æé«˜ä»£ç çš„å¯æµ‹æ€§ è¿™é‡Œçš„å¯æµ‹æ€§ä¸»è¦æŒ‡Mockçš„å®¹æ˜“ç¨‹åº¦ï¼Œå’Œæµ‹è¯•çš„éš”ç¦»æ€§ï¼Œ è‡³äºæµ‹è¯•çš„è‡ªåŠ¨æ€§ï¼Œå¯é‡å¤æ€§ï¼Œéå¶ç„¶æ€§ï¼Œæ— åºæ€§ï¼Œå®Œå¤‡æ€§(å…¨è¦†ç›–)ï¼Œè½»é‡æ€§(å¯å¿«é€Ÿæ‰§è¡Œ)ï¼Œ ä¸€èˆ¬å¼€å‘äººå‘˜ï¼ŒåŠ ä¸ŠJUnitç­‰å·¥å…·çš„è¾…åŠ©åŸºæœ¬éƒ½èƒ½åšåˆ°ï¼Œä¹Ÿèƒ½ç†è§£å®ƒçš„å¥½å¤„ï¼Œåªæ˜¯å·¥ä½œé‡é—®é¢˜ï¼Œ è¿™é‡Œè¦ç‰¹åˆ«å¼ºè°ƒçš„æ˜¯æµ‹è¯•ç”¨ä¾‹çš„å•ä¸€æ€§(åªæµ‹ç›®æ ‡ç±»æœ¬èº«)å’Œéš”ç¦»æ€§(ä¸ä¼ æŸ“å¤±è´¥)ï¼Œ ç°åœ¨çš„æµ‹è¯•ä»£ç ï¼Œè¿‡äºå¼ºè°ƒå®Œå¤‡æ€§ï¼Œå¤§é‡é‡å¤äº¤å‰æµ‹è¯•ï¼Œ çœ‹èµ·æ¥æ²¡å•¥åå¤„ï¼Œä½†æµ‹è¯•ä»£ç è¶Šå¤šï¼Œç»´æŠ¤ä»£ä»·è¶Šé«˜ï¼Œ ç»å¸¸å‡ºç°çš„é—®é¢˜æ˜¯ï¼Œä¿®æ”¹ä¸€è¡Œä»£ç æˆ–åŠ ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œå¼•èµ·100å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ä¸é€šè¿‡ï¼Œ æ—¶é—´ä¸€ç´§ï¼Œè°æœ‰è¿™ä¸ªé—²åŠŸå¤«å»æ”¹è¿™ä¹ˆå¤šå½¢æ€å„å¼‚çš„æµ‹è¯•ç”¨ä¾‹ï¼Ÿ ä¹…è€Œä¹…ä¹‹ï¼Œè¿™ä¸ªæµ‹è¯•ä»£ç å°±å·²ç»ä¸èƒ½çœŸå®ååº”ä»£ç ç°åœ¨çš„çŠ¶å†µï¼Œå¾ˆå¤šæ—¶å€™ä¼šè¢«è¿«ç»•è¿‡ï¼Œ æœ€å¥½çš„æƒ…å†µæ˜¯ï¼Œä¿®æ”¹ä¸€è¡Œä»£ç ï¼Œæœ‰ä¸”åªæœ‰ä¸€è¡Œæµ‹è¯•ä»£ç ä¸é€šè¿‡ï¼Œ å¦‚æœä¿®æ”¹äº†ä»£ç è€Œæµ‹è¯•ç”¨ä¾‹è¿˜èƒ½é€šè¿‡ï¼Œé‚£ä¹Ÿä¸è¡Œï¼Œè¡¨ç¤ºæµ‹è¯•æ²¡æœ‰è¦†ç›–åˆ°ï¼Œ å¦å¤–ï¼Œå¯Mockæ€§æ˜¯éš”ç¦»çš„åŸºç¡€ï¼ŒæŠŠé—´æ¥ä¾èµ–çš„é€»è¾‘å±è”½æ‰ï¼Œ å¯Mockæ€§çš„ä¸€ä¸ªæœ€å¤§çš„æ€æ‰‹å°±æ˜¯é™æ€æ–¹æ³•ï¼Œå°½é‡å°‘ç”¨ã€‚ åŸæ–‡åœ°å€â€¦","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"ç¼–ç è§„èŒƒ","slug":"ç¼–ç è§„èŒƒ","permalink":"https://jokinglove.com/blog/group/tags/ç¼–ç è§„èŒƒ/"}]},{"title":"ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»","slug":"others/class-relationship","date":"2017-07-31T16:00:00.000Z","updated":"2019-12-08T06:01:50.870Z","comments":true,"path":"2017/08/01/others/class-relationship/","link":"","permalink":"https://jokinglove.com/blog/2017/08/01/others/class-relationship/","excerpt":"åœ¨é¢å‘å¯¹è±¡åˆ†æçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé¦–å…ˆåˆ†æç±»ä¸ç±»ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»ï¼Œç„¶åè®¾è®¡å‡ºåˆç†çš„ç±»ç»“æ„ï¼Œå°½é‡è¾¾åˆ°ä½è€¦åˆï¼Œé«˜å†…èšã€‚ä½¿å¾—ç¨‹åºçš„å¯æ‰©å±•æ€§æ›´é«˜ï¼Œä¸‹é¢ç®€å•çš„æ€»ç»“ä¸€ä¸‹åœ¨é¢å‘å¯¹è±¡çš„ä¸–ç•Œé‡Œç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ã€‚","text":"åœ¨é¢å‘å¯¹è±¡åˆ†æçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé¦–å…ˆåˆ†æç±»ä¸ç±»ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»ï¼Œç„¶åè®¾è®¡å‡ºåˆç†çš„ç±»ç»“æ„ï¼Œå°½é‡è¾¾åˆ°ä½è€¦åˆï¼Œé«˜å†…èšã€‚ä½¿å¾—ç¨‹åºçš„å¯æ‰©å±•æ€§æ›´é«˜ï¼Œä¸‹é¢ç®€å•çš„æ€»ç»“ä¸€ä¸‹åœ¨é¢å‘å¯¹è±¡çš„ä¸–ç•Œé‡Œç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ã€‚ 1ã€æ³›åŒ–å…³ç³»(generalization) ç±»çš„ç»§æ‰¿ç»“æ„è¡¨ç°åœ¨UMLä¸­ä¸ºï¼šæ³›åŒ–(generalize)ä¸å®ç°(realize)ï¼š ç»§æ‰¿å…³ç³»ä¸º is-açš„å…³ç³»ï¼›ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´å¦‚æœå¯ä»¥ç”¨ is-a æ¥è¡¨ç¤ºï¼Œå°±æ˜¯ç»§æ‰¿å…³ç³»ï¼šï¼ˆâ€¦æ˜¯â€¦) egï¼šè‡ªè¡Œè½¦æ˜¯è½¦ã€çŒ«æ˜¯åŠ¨ç‰© æ³›åŒ–å…³ç³»ç”¨ä¸€æ¡å¸¦ç©ºå¿ƒç®­å¤´çš„ç›´æ¥è¡¨ç¤ºï¼› æ³¨ï¼šæœ€ç»ˆä»£ç ä¸­ï¼Œæ³›åŒ–å…³ç³»è¡¨ç°ä¸ºç»§æ‰¿éæŠ½è±¡ç±»ï¼› 2ã€å®ç°å…³ç³»(realize) å®ç°å…³ç³»ç”¨ä¸€æ¡å¸¦ç©ºå¿ƒç®­å¤´çš„è™šçº¿è¡¨ç¤ºï¼› egï¼šâ€è½¦â€ä¸ºä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œåœ¨ç°å®ä¸­å¹¶æ— æ³•ç›´æ¥ç”¨æ¥å®šä¹‰å¯¹è±¡ï¼›åªæœ‰æŒ‡æ˜å…·ä½“çš„å­ç±»(æ±½è½¦è¿˜æ˜¯è‡ªè¡Œè½¦)ï¼Œæ‰ å¯ä»¥ç”¨æ¥å®šä¹‰å¯¹è±¡ï¼ˆâ€è½¦â€è¿™ä¸ªç±»åœ¨C++ä¸­ç”¨æŠ½è±¡ç±»è¡¨ç¤ºï¼Œåœ¨JAVAä¸­æœ‰æ¥å£è¿™ä¸ªæ¦‚å¿µï¼Œæ›´å®¹æ˜“ç†è§£ï¼‰ æ³¨ï¼šæœ€ç»ˆä»£ç ä¸­ï¼Œå®ç°å…³ç³»è¡¨ç°ä¸ºç»§æ‰¿æŠ½è±¡ç±»ï¼› 3ã€èšåˆå…³ç³»(aggregation) èšåˆå…³ç³»ç”¨ä¸€æ¡å¸¦ç©ºå¿ƒè±å½¢ç®­å¤´çš„ç›´çº¿è¡¨ç¤ºï¼Œå¦‚ä¸‹å›¾è¡¨ç¤ºAèšåˆåˆ°Bä¸Šï¼Œæˆ–è€…è¯´Bç”±Aç»„æˆï¼› èšåˆå…³ç³»ç”¨äºè¡¨ç¤ºå®ä½“å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œè¡¨ç¤ºæ•´ä½“ç”±éƒ¨åˆ†æ„æˆçš„è¯­ä¹‰ï¼›ä¾‹å¦‚ä¸€ä¸ªéƒ¨é—¨ç”±å¤šä¸ªå‘˜å·¥ç»„æˆï¼› ä¸ç»„åˆå…³ç³»ä¸åŒçš„æ˜¯ï¼Œæ•´ä½“å’Œéƒ¨åˆ†ä¸æ˜¯å¼ºä¾èµ–çš„ï¼Œå³ä½¿æ•´ä½“ä¸å­˜åœ¨äº†ï¼Œéƒ¨åˆ†ä»ç„¶å­˜åœ¨ï¼›ä¾‹å¦‚ï¼Œ éƒ¨é—¨æ’¤é”€äº†ï¼Œäººå‘˜ä¸ä¼šæ¶ˆå¤±ï¼Œä»–ä»¬ä¾ç„¶å­˜åœ¨ï¼› 4ã€ç»„åˆå…³ç³»(composition) ç»„åˆå…³ç³»ç”¨ä¸€æ¡å¸¦å®å¿ƒè±å½¢ç®­å¤´ç›´çº¿è¡¨ç¤ºï¼Œå¦‚ä¸‹å›¾è¡¨ç¤ºAç»„æˆBï¼Œæˆ–è€…Bç”±Aç»„æˆï¼› ä¸èšåˆå…³ç³»ä¸€æ ·ï¼Œç»„åˆå…³ç³»åŒæ ·è¡¨ç¤ºæ•´ä½“ç”±éƒ¨åˆ†æ„æˆçš„è¯­ä¹‰ï¼›æ¯”å¦‚å…¬å¸ç”±å¤šä¸ªéƒ¨é—¨ç»„æˆï¼› ä½†ç»„åˆå…³ç³»æ˜¯ä¸€ç§å¼ºä¾èµ–çš„ç‰¹æ®Šèšåˆå…³ç³»ï¼Œå¦‚æœæ•´ä½“ä¸å­˜åœ¨äº†ï¼Œåˆ™éƒ¨åˆ†ä¹Ÿä¸å­˜åœ¨äº†ï¼›ä¾‹å¦‚ï¼Œ å…¬å¸ä¸å­˜åœ¨äº†ï¼Œéƒ¨é—¨ä¹Ÿå°†ä¸å­˜åœ¨äº†ï¼› 5ã€å…³è”å…³ç³»(association) å…³è”å…³ç³»æ˜¯ç”¨ä¸€æ¡ç›´çº¿è¡¨ç¤ºçš„ï¼›å®ƒæè¿°ä¸åŒç±»çš„å¯¹è±¡ä¹‹é—´çš„ç»“æ„å…³ç³»ï¼›å®ƒæ˜¯ä¸€ç§é™æ€å…³ç³»ï¼Œ é€šå¸¸ä¸è¿è¡ŒçŠ¶æ€æ— å…³ï¼Œä¸€èˆ¬ç”±å¸¸è¯†ç­‰å› ç´ å†³å®šçš„ï¼›å®ƒä¸€èˆ¬ç”¨æ¥å®šä¹‰å¯¹è±¡ä¹‹é—´é™æ€çš„ã€å¤©ç„¶çš„ç»“æ„ï¼› æ‰€ä»¥ï¼Œå…³è”å…³ç³»æ˜¯ä¸€ç§â€œå¼ºå…³è”â€çš„å…³ç³»ï¼› æ¯”å¦‚ï¼Œä¹˜è½¦äººå’Œè½¦ç¥¨ä¹‹é—´å°±æ˜¯ä¸€ç§å…³è”å…³ç³»ï¼›å­¦ç”Ÿå’Œå­¦æ ¡å°±æ˜¯ä¸€ç§å…³è”å…³ç³»ï¼› å…³è”å…³ç³»é»˜è®¤ä¸å¼ºè°ƒæ–¹å‘ï¼Œè¡¨ç¤ºå¯¹è±¡é—´ç›¸äº’çŸ¥é“ï¼›å¦‚æœç‰¹åˆ«å¼ºè°ƒæ–¹å‘ï¼Œå¦‚ä¸‹å›¾ï¼Œè¡¨ç¤ºAçŸ¥é“Bï¼Œä½† Bä¸çŸ¥é“Aï¼› æ³¨ï¼šåœ¨æœ€ç»ˆä»£ç ä¸­ï¼Œå…³è”å¯¹è±¡é€šå¸¸æ˜¯ä»¥æˆå‘˜å˜é‡çš„å½¢å¼å®ç°çš„ï¼› 6ã€ä¾èµ–å…³ç³»(dependency) ä¾èµ–å…³ç³»æ˜¯ç”¨ä¸€å¥—å¸¦ç®­å¤´çš„è™šçº¿è¡¨ç¤ºçš„ï¼›å¦‚ä¸‹å›¾è¡¨ç¤ºAä¾èµ–äºBï¼›ä»–æè¿°ä¸€ä¸ªå¯¹è±¡åœ¨è¿è¡ŒæœŸé—´ä¼šç”¨åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„å…³ç³»ï¼› ä¸å…³è”å…³ç³»ä¸åŒçš„æ˜¯ï¼Œå®ƒæ˜¯ä¸€ç§ä¸´æ—¶æ€§çš„å…³ç³»ï¼Œé€šå¸¸åœ¨è¿è¡ŒæœŸé—´äº§ç”Ÿï¼Œå¹¶ä¸”éšç€è¿è¡Œæ—¶çš„å˜åŒ–ï¼› ä¾èµ–å…³ç³»ä¹Ÿå¯èƒ½å‘ç”Ÿå˜åŒ–ï¼› æ˜¾ç„¶ï¼Œä¾èµ–ä¹Ÿæœ‰æ–¹å‘ï¼ŒåŒå‘ä¾èµ–æ˜¯ä¸€ç§éå¸¸ç³Ÿç³•çš„ç»“æ„ï¼Œæˆ‘ä»¬æ€»æ˜¯åº”è¯¥ä¿æŒå•å‘ä¾èµ–ï¼Œæœç»åŒå‘ä¾èµ–çš„äº§ç”Ÿï¼› æ³¨ï¼šåœ¨æœ€ç»ˆä»£ç ä¸­ï¼Œä¾èµ–å…³ç³»ä½“ç°ä¸ºç±»æ„é€ æ–¹æ³•åŠç±»æ–¹æ³•çš„ä¼ å…¥å‚æ•°ï¼Œç®­å¤´çš„æŒ‡å‘ä¸ºè°ƒç”¨å…³ç³»ï¼›ä¾èµ–å…³ç³»é™¤äº†ä¸´æ—¶çŸ¥é“å¯¹æ–¹å¤–ï¼Œè¿˜æ˜¯â€œä½¿ç”¨â€å¯¹æ–¹çš„æ–¹æ³•å’Œå±æ€§ï¼›","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"é¢å‘å¯¹è±¡","slug":"é¢å‘å¯¹è±¡","permalink":"https://jokinglove.com/blog/group/tags/é¢å‘å¯¹è±¡/"}]},{"title":"ä¸ƒå¤•çå†™","slug":"others/life/20170707-ä¸ƒå¤•çå†™","date":"2017-07-06T16:00:00.000Z","updated":"2019-12-08T06:01:50.873Z","comments":true,"path":"2017/07/07/others/life/20170707-ä¸ƒå¤•çå†™/","link":"","permalink":"https://jokinglove.com/blog/2017/07/07/others/life/20170707-ä¸ƒå¤•çå†™/","excerpt":"å¬è¯´ä»Šå¤©æ˜¯ä¸ƒå¤•ï¼Œæƒ…äººèŠ‚ï¼Œé¦–å…ˆç¥å¤©ä¸‹æœ‰æƒ…äººç»ˆæˆçœ·å±ã€‚ ä¸ƒå¤•å¿«ä¹","text":"å¬è¯´ä»Šå¤©æ˜¯ä¸ƒå¤•ï¼Œæƒ…äººèŠ‚ï¼Œé¦–å…ˆç¥å¤©ä¸‹æœ‰æƒ…äººç»ˆæˆçœ·å±ã€‚ ä¸ƒå¤•å¿«ä¹ å…³äºè¿™ä¸ªä¸ƒå¤•èŠ‚ ä»¥å‰ï¼Œæ¯æ¬¡è¿‡ä¸ƒå¤•ä¹Ÿæ²¡æ€ä¹ˆæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¯ä»Šå¹´çš„ä¸ƒå¤•ï¼Œæ€»æ„Ÿè§‰ä¹–ä¹–çš„ã€‚ä»¥å¾€çš„ä¸ƒå¤•éƒ½æ˜¯çœ‹ç€äººå®¶è¿‡ï¼Œä»Šå¹´æ€»æ„Ÿè§‰è‡ªå·±ä¹Ÿåœ¨è¿‡ï¼Œè™½ç„¶è¿™ä¸ªä¸ƒå¤•ä¸é‡è¦ï¼Œä½†æ˜¯ï¼Œä¸ƒå¤•ä¹Ÿå¾—æœ‰ä¸ªä¸ƒå¤•çš„è®¡åˆ’ï¼Œå¯¹äºæˆ‘è¿™ä¸ªèµ„æ·±å•èº«ç‹—çš„è®¡åˆ’ã€‚ å…³äºå·¥ä½œ åƒæˆ‘è¿™ç§å•èº«ç‹—ï¼Œæ„Ÿè§‰é™¤äº†å·¥ä½œï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¯ä»¥å†™çš„äº†ã€‚æœ€è¿‘å·¥ä½œæœ‰ç‚¹å¿™ï¼Œä¹Ÿæ²¡ä»€ä¹ˆæ—¶é—´æ¥çœ‹æŠ€æœ¯æ–‡æ¡£ï¼Œæ²¡æœ‰æ—¶é—´ç ”ç©¶ä¸€ç‚¹æ–°æŠ€æœ¯äº†ã€‚éƒ½è¯´ä¸€å…¥itæ·±ä¼¼æµ·ï¼Œä»æ­¤å¦¹å­æ˜¯è·¯äººï¼Œå¯¹äºçˆ±æƒ…è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¸€å‘æ‰€æŒçš„æ€åº¦æ˜¯ï¼Œæœ‰å¯èƒ½çš„å¯ä»¥è¯•è¯•ï¼Œæ²¡å¯èƒ½çš„ï¼Œæ•¬è€Œè¿œä¹‹ã€‚è¿™å°±åƒä¸€æœµå¼€çš„å¾ˆè‰³ä¸½çš„é²œèŠ±ï¼Œæ—¢ç„¶ä½ ä¸èƒ½å¾—åˆ°å®ƒï¼Œå°±è®©ä»–é²œè‰³çš„å¼€ç€ï¼Œä½•å¿…å»æ‘˜å‘¢ã€‚çˆ±æƒ…è¿™ä»¶äº‹ï¼Œæ›´éœ€è¦çš„æ˜¯å‹‡æ°”ï¼Œå¯èƒ½æˆ‘è¿˜æ˜¯æ¯”è¾ƒç¼ºä¹å‹‡æ°”çš„ã€‚å¾ˆä¹±ã€‚ å¯¹äºä¸€ä¸ªå®¶åº­æ¥è¯´ï¼Œç¨³å®šçš„æ”¶å…¥ï¼Œå’Œç¦çš„æˆå‘˜å…³ç³»ã€‚æœ€é‡è¦çš„æ˜¯ä¸¤ä¸ªäººçš„ç›¸æ¿¡ä»¥æ²«ï¼Œç²—èŒ¶æ·¡é¥­çš„å¤©é•¿åœ°ä¹…ï¼Œè¿™äº›èƒ½ä¸èƒ½ç»å—å¾—ä½æ—¶é—´çš„è€ƒéªŒã€‚å¯¹äºä¸€ä¸ªå®¶åº­æ¥è¯´ï¼Œæˆ‘è§‰å¾—å¾ˆé‡è¦ã€‚ç„¶è€Œï¼Œå¯¹äºä¸€ä¸ªç”·äººçš„äº‹ä¸šæ¥è¯´ï¼Œç›´æ¥å½±å“è¿™è¿™ä¸ªå®¶åº­çš„ä¸€åˆ‡ï¼Œè¿™å¾ˆç–¼ï¼Œä¸è¯´äº†ï¼Œæˆ‘è¿˜æ˜¯åŠ æ²¹æ•²ä»£ç å»äº†ï¼Œä¸æ•²ä»£ç ï¼Œå“ªæ¥çš„é’±ï¼Œæ²¡æœ‰é’±ï¼Œå“ªæ¥çš„åª³å¦‡ï¼Œæ²¡æœ‰åª³å¦‡ï¼Œå“ªæ¥çš„å®¶åº­ï¼Œå…‰åœ¨è¿™å„¿å¹é€¼æ˜¯å¹ä¸å‡ºæ¥å¯¹çš„ã€‚æ•²ä»£ç ï¼Œæ•²ä»£ç ã€‚ä½ ä¹Ÿåˆ«çœ‹äº†ï¼Œèµ¶ç´§æ•²ä»£ç å»ã€‚ã€‚ã€‚ã€‚ã€‚","categories":[{"name":"çå†™","slug":"çå†™","permalink":"https://jokinglove.com/blog/group/categories/çå†™/"}],"tags":[{"name":"éšè®°","slug":"éšè®°","permalink":"https://jokinglove.com/blog/group/tags/éšè®°/"}]},{"title":"git ç¬”è®° fork","slug":"others/tools/git-note1","date":"2017-06-17T14:00:58.000Z","updated":"2019-12-08T06:01:50.876Z","comments":true,"path":"2017/06/17/others/tools/git-note1/","link":"","permalink":"https://jokinglove.com/blog/2017/06/17/others/tools/git-note1/","excerpt":"ä»Šå¤©çœ‹åˆ°ä¸€ä¸ªåšå®¢ä¸­å¯¹gitå‡ ä¸ªå‘½ä»¤çš„æ€»ç»“ï¼Œæ„Ÿè§‰è®²çš„é€šä¿—æ˜“æ‡‚ï¼Œå€Ÿè¿‡æ¥è®°ä¸€ç¬”","text":"ä»Šå¤©çœ‹åˆ°ä¸€ä¸ªåšå®¢ä¸­å¯¹gitå‡ ä¸ªå‘½ä»¤çš„æ€»ç»“ï¼Œæ„Ÿè§‰è®²çš„é€šä¿—æ˜“æ‡‚ï¼Œå€Ÿè¿‡æ¥è®°ä¸€ç¬” éœ€æ±‚ï¼šBè¦åŠ å…¥Açš„é¡¹ç›®ï¼Œä¸è®ºæ˜¯ä½œä¸ºBçš„åˆå§‹é¡¹ç›®è¿›è¡ŒäºŒæ¬¡å¼€å‘è¿˜æ˜¯æˆä¸ºAé¡¹ç›®çš„ä¸€å‘˜åŠ å…¥ä¸€èµ·å¼€å‘ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š 1.Bé¦–å…ˆè¦forkä¸€ä¸ªã€‚ Bé¦–å…ˆåˆ°Açš„githubä¸Šï¼Œä¹Ÿå°±æ˜¯æ­¤é¡¹ç›®çš„ä½ç½®:https://github.com/A/duritï¼Œç„¶åå•å‡»forkï¼Œç„¶åä½ ï¼ˆBï¼‰çš„githubä¸Šå°±å‡ºç°äº†ä¸€ä¸ªforkï¼Œä½ç½®æ˜¯ï¼šhttps://github.com/B/durit 2.BæŠŠè‡ªå·±çš„forkå…‹éš†åˆ°æœ¬åœ°ã€‚ 1$ git clone https://github.com/B/durit (å½“ä½ cloneåˆ°æœ¬åœ°ï¼Œä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„è¿œç¨‹åå«&quot;origin&quot;ï¼Œå®ƒæŒ‡å‘äº†fork on githubï¼Œä¹Ÿå°±æ˜¯Bä¸Šçš„forkï¼Œè€Œä¸æ˜¯æŒ‡å‘) 3.ç°åœ¨ä½ æ˜¯ä¸»äººï¼Œä¸ºäº†ä¿æŒä¸Açš„duritçš„è”ç³»ï¼Œä½ éœ€è¦ç»™Açš„duritèµ·ä¸ªåï¼Œä¾›ä½ æ¥é©±ä½¿ã€‚ 12$ cd durit$ git remote add upstream https://github.com/A/durit (ç°åœ¨æ”¹åä¸ºupstreamï¼Œè¿™åéšæ„ï¼Œç°åœ¨ä½ ï¼ˆBï¼‰ç®¡Açš„duritå«upstreamï¼Œä»¥åBå°±ç”¨upstreamæ¥å’ŒAçš„duritè”ç³»äº†) 4.è·å–Aä¸Šçš„æ›´æ–°(ä½†ä¸ä¼šä¿®æ”¹ä½ çš„æ–‡ä»¶)ã€‚ 1$ git fetch upstream ï¼ˆè¿™ä¸ï¼Œç°åœ¨Bå°±ç”¨upstreamæ¥è”ç³»Aäº†ï¼‰ 5.åˆå¹¶æ‹‰å–çš„æ•°æ® 1$ git merge upstream/master ï¼ˆåˆè”ç³»äº†ä¸€æ¬¡ï¼Œupstream/masterï¼Œå‰è€…æ˜¯ä½ è¦åˆå¹¶çš„æ•°æ®ï¼Œåè€…æ˜¯ä½ è¦åˆå¹¶åˆ°çš„æ•°æ®ï¼ˆåœ¨è¿™é‡Œå°±æ˜¯Bæœ¬åœ°çš„duritäº†ï¼‰ï¼‰ 6.åœ¨Bä¿®æ”¹äº†æœ¬åœ°éƒ¨åˆ†å†…å®¹åï¼ŒæŠŠæœ¬åœ°çš„æ›´æ”¹æ¨é€åˆ°Bçš„è¿œç¨‹githubä¸Šã€‚ 123$ git add ä¿®æ”¹è¿‡çš„æ–‡ä»¶$ git commit -m \"æ³¨é‡Š\"$ git push origin master ï¼ˆç›®å‰ä¸ºæ­¢ï¼ŒBä¸Šçš„githubå°±è·Ÿæ–°äº†ï¼‰ 7.ç„¶åBè¿˜æƒ³è®©ä¿®æ”¹è¿‡çš„å†…å®¹ä¹Ÿæ¨é€åˆ°Aä¸Šï¼Œè¿™å°±è¦å‘èµ·pull requestäº†ã€‚ æ‰“å¼€Bçš„github,ä¹Ÿå°±æ˜¯https://github.com/B/durit ç‚¹å‡»Pull Requests å•å‡»new pull request å•å‡»create pull request è¾“å…¥titleå’Œä½ æ›´æ”¹çš„å†…å®¹ ç„¶åå•å‡»send pull request è¿™æ ·Bå°±å®Œæˆäº†å·¥ä½œï¼Œç„¶åå°±ç­‰ç€ä¸»äººAæ¥æ“ä½œäº†ã€‚ 8.åœ¨Bæƒ³è¦æ›´æ–°Açš„githubä¸Šåˆ°å†…å®¹æ—¶ï¼Œç»“æœå†²çªï¼Œå› ä¸ºBå’ŒAåŒæ—¶ä¿®æ”¹äº†æ–‡ä»¶ï¼Œæ¯”å¦‚è¯´æ˜¯README.MEï¼Œè¯¥è¿™æ ·åšï¼š 123$ git status(æŸ¥çœ‹å†²çªæ–‡ä»¶) //æ‰¾åˆ°å†²çªæ–‡ä»¶(README.MD)åï¼Œæ‰“å¼€å¹¶ä¿®æ”¹ï¼Œè§£å†³å†²çªå$ git add README.MD$ git commit -m \"è§£å†³äº†å†²çªæ–‡ä»¶README.MD\" ç°åœ¨å†²çªè§£å†³äº†ï¼Œå¯ä»¥æ›´æ–°Açš„å†…å®¹äº†ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢ç¬¬4æ­¥å’Œç¬¬5æ­¥","categories":[{"name":"ä¸Šå¤ç¥å™¨","slug":"ä¸Šå¤ç¥å™¨","permalink":"https://jokinglove.com/blog/group/categories/ä¸Šå¤ç¥å™¨/"}],"tags":[{"name":"git","slug":"git","permalink":"https://jokinglove.com/blog/group/tags/git/"}]},{"title":"hello","slug":"others/hello","date":"2017-04-28T14:00:58.000Z","updated":"2019-12-08T06:01:50.871Z","comments":true,"path":"2017/04/28/others/hello/","link":"","permalink":"https://jokinglove.com/blog/2017/04/28/others/hello/","excerpt":"å°è®¡ä¸€ç¬” ä½œä¸ºä¸€ä¸ªåšæŠ€æœ¯çš„ï¼Œå¯¹æ‰€å­¦çš„æŠ€æœ¯æ€»ç»“ï¼Œåˆ†äº«æ˜¯å¾ˆé‡è¦çš„ï¼Œä¹Ÿå¸Œæœ›ä»¥åå¤šå¤šæ€»ç»“å­¦åˆ°çš„æ–°çš„ä¸œè¥¿ï¼Œåˆ†äº«å‡ºæ¥ï¼Œåšä¸€ä¸ªè®°å½•ã€‚å’Œæ›´å¤šçš„äººä¸€èµ·å»äº¤æµï¼Œå­¦ä¹ ã€‚ä¹Ÿè®¸ï¼Œè¿™æ ·æ‰æ˜¯å­¦ä¹ çš„çœŸæ­£ä¹è¶£ã€‚","text":"å°è®¡ä¸€ç¬” ä½œä¸ºä¸€ä¸ªåšæŠ€æœ¯çš„ï¼Œå¯¹æ‰€å­¦çš„æŠ€æœ¯æ€»ç»“ï¼Œåˆ†äº«æ˜¯å¾ˆé‡è¦çš„ï¼Œä¹Ÿå¸Œæœ›ä»¥åå¤šå¤šæ€»ç»“å­¦åˆ°çš„æ–°çš„ä¸œè¥¿ï¼Œåˆ†äº«å‡ºæ¥ï¼Œåšä¸€ä¸ªè®°å½•ã€‚å’Œæ›´å¤šçš„äººä¸€èµ·å»äº¤æµï¼Œå­¦ä¹ ã€‚ä¹Ÿè®¸ï¼Œè¿™æ ·æ‰æ˜¯å­¦ä¹ çš„çœŸæ­£ä¹è¶£ã€‚","categories":[{"name":"çå†™","slug":"çå†™","permalink":"https://jokinglove.com/blog/group/categories/çå†™/"}],"tags":[{"name":"éšè®°","slug":"éšè®°","permalink":"https://jokinglove.com/blog/group/tags/éšè®°/"}]},{"title":"è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™","slug":"others/java/javaè®¾è®¡æ¨¡å¼çš„åŸåˆ™","date":"2016-04-28T14:00:58.000Z","updated":"2019-12-08T06:01:50.872Z","comments":true,"path":"2016/04/28/others/java/javaè®¾è®¡æ¨¡å¼çš„åŸåˆ™/","link":"","permalink":"https://jokinglove.com/blog/2016/04/28/others/java/javaè®¾è®¡æ¨¡å¼çš„åŸåˆ™/","excerpt":"äºŒã€è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™ 1ã€å¼€é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰ å¼€é—­åŸåˆ™å°±æ˜¯è¯´å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½å»ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œå®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚","text":"äºŒã€è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™ 1ã€å¼€é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰ å¼€é—­åŸåˆ™å°±æ˜¯è¯´å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½å»ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œå®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚æ‰€ä»¥ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼šä¸ºäº†ä½¿ç¨‹åºçš„æ‰©å±•æ€§å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§ã€‚æƒ³è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»ï¼Œåé¢çš„å…·ä½“è®¾è®¡ä¸­æˆ‘ä»¬ä¼šæåˆ°è¿™ç‚¹ã€‚ 2ã€é‡Œæ°ä»£æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰ é‡Œæ°ä»£æ¢åŸåˆ™(Liskov Substitution Principle LSP)é¢å‘å¯¹è±¡è®¾è®¡çš„åŸºæœ¬åŸåˆ™ä¹‹ä¸€ã€‚ é‡Œæ°ä»£æ¢åŸåˆ™ä¸­è¯´ï¼Œä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ã€‚ LSPæ˜¯ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³ï¼Œåªæœ‰å½“è¡ç”Ÿç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ï¼Œè½¯ä»¶å•ä½çš„åŠŸèƒ½ä¸å—åˆ°å½±å“æ—¶ï¼ŒåŸºç±»æ‰èƒ½çœŸæ­£è¢«å¤ç”¨ï¼Œè€Œè¡ç”Ÿç±»ä¹Ÿèƒ½å¤Ÿåœ¨åŸºç±»çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„è¡Œä¸ºã€‚é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹â€œå¼€-é—­â€åŸåˆ™çš„è¡¥å……ã€‚å®ç°â€œå¼€-é—­â€åŸåˆ™çš„å…³é”®æ­¥éª¤å°±æ˜¯æŠ½è±¡åŒ–ã€‚è€ŒåŸºç±»ä¸å­ç±»çš„ç»§æ‰¿å…³ç³»å°±æ˜¯æŠ½è±¡åŒ–çš„å…·ä½“å®ç°ï¼Œæ‰€ä»¥é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å®ç°æŠ½è±¡åŒ–çš„å…·ä½“æ­¥éª¤çš„è§„èŒƒã€‚â€”â€” From Baidu ç™¾ç§‘ 3ã€ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰ è¿™ä¸ªæ˜¯å¼€é—­åŸåˆ™çš„åŸºç¡€ï¼Œå…·ä½“å†…å®¹ï¼šçœŸå¯¹æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚ 4ã€æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰ è¿™ä¸ªåŸåˆ™çš„æ„æ€æ˜¯ï¼šä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£è¦å¥½ã€‚è¿˜æ˜¯ä¸€ä¸ªé™ä½ç±»ä¹‹é—´çš„è€¦åˆåº¦çš„æ„æ€ï¼Œä»è¿™å„¿æˆ‘ä»¬çœ‹å‡ºï¼Œå…¶å®è®¾è®¡æ¨¡å¼å°±æ˜¯ä¸€ä¸ªè½¯ä»¶çš„è®¾è®¡æ€æƒ³ï¼Œä»å¤§å‹è½¯ä»¶æ¶æ„å‡ºå‘ï¼Œä¸ºäº†å‡çº§å’Œç»´æŠ¤æ–¹ä¾¿ã€‚æ‰€ä»¥ä¸Šæ–‡ä¸­å¤šæ¬¡å‡ºç°ï¼šé™ä½ä¾èµ–ï¼Œé™ä½è€¦åˆã€‚ 5ã€è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰ï¼ˆDemeter Principleï¼‰ ä¸ºä»€ä¹ˆå«æœ€å°‘çŸ¥é“åŸåˆ™ï¼Œå°±æ˜¯è¯´ï¼šä¸€ä¸ªå®ä½“åº”å½“å°½é‡å°‘çš„ä¸å…¶ä»–å®ä½“ä¹‹é—´å‘ç”Ÿç›¸äº’ä½œç”¨ï¼Œä½¿å¾—ç³»ç»ŸåŠŸèƒ½æ¨¡å—ç›¸å¯¹ç‹¬ç«‹ã€‚ 6ã€åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite Reuse Principleï¼‰ åŸåˆ™æ˜¯å°½é‡ä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚","categories":[{"name":"IT","slug":"IT","permalink":"https://jokinglove.com/blog/group/categories/IT/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://jokinglove.com/blog/group/tags/è®¾è®¡æ¨¡å¼/"}]},{"title":"Hello World","slug":"others/hello-world","date":"2016-02-14T16:00:00.000Z","updated":"2019-12-08T06:01:50.871Z","comments":true,"path":"2016/02/15/others/hello-world/","link":"","permalink":"https://jokinglove.com/blog/2016/02/15/others/hello-world/","excerpt":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post 1$ hexo new \"My New Post\" More info: Writing Run server 1$ hexo server More info: Server Generate static files 1$ hexo generate More info: Generating Deploy to remote sites 1$ hexo deploy More info: Deployment","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://jokinglove.com/blog/group/categories/å…¶ä»–/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://jokinglove.com/blog/group/tags/hexo/"}]}]}